{"version":3,"sources":["webpack:///./node_modules/lightgallery.js/lib/js/lightgallery.js","webpack:///./node_modules/lightgallery.js/lib/js/lg-utils.js"],"names":["global","factory","define","exports","require","mod","lgUtils","lightgallery","_lgUtils","_lgUtils2","_interopRequireDefault","obj","__esModule","default","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","window","CustomEvent","event","params","bubbles","cancelable","detail","undefined","evt","document","createEvent","initCustomEvent","Event","utils","lgData","uid","lgModules","defaults","mode","cssEasing","easing","speed","height","width","addClass","startClass","backdropDuration","hideBarsDelay","useLeft","closable","loop","escKey","keyPress","controls","slideEndAnimatoin","hideControlOnEnd","mousewheel","getCaptionFromTitleOrAlt","appendSubHtmlTo","subHtmlSelectorRelative","preload","showAfterLoad","selector","selectWithin","nextHtml","prevHtml","index","iframeMaxWidth","download","counter","appendCounterTo","swipeThreshold","enableSwipe","enableDrag","dynamic","dynamicEl","galleryId","Plugin","element","options","el","s","constructor","Array","modules","lGalleryOn","lgBusy","hideBartimeout","isTouch","documentElement","items","push","querySelector","querySelectorAll","children","___slide","outer","init","_this","_hash","location","hash","indexOf","parseInt","split","body","hasClass","setTimeout","build","trigger","on","e","preventDefault","structure","slide","arrow","closeGallery","removeClass","clearTimeout","list","subHtmlCont","template","insertAdjacentHTML","setVendor","setTop","doCss","inner","prevScrollTop","scrollTop","wH","innerHeight","top","lGallery","style","support","transition","root","isVideo","src","Error","html","getAttribute","html5","youtube","match","vimeo","dailymotion","vk","addHtml","subHtml","currentEle","fL","substring","innerHTML","j","loadContent","rec","delay","_hasPoster","_img","_src","_poster","_srcset","_sizes","_html","getResponsiveSrc","srcItms","rsWidth","rsSrc","__src","splice","wWidth","innerWidth","poster","responsive","srcDyItms","srcset","sizes","iframe","_isVideo","videoClass","setAttribute","picturefill","elements","console","error","_speed","fromTouch","fromThumb","_prevIndex","_length","_time","_next","_prev","downloadUrl","getElementById","prevIndex","arrowDisable","touchPrev","touchNext","goToNextSlide","goToPrevSlide","keyCode","destroy","next","prev","removeAttribute","setTranslate","xValue","yValue","left","touchMove","startCoords","endCoords","distance","Math","abs","clientWidth","touchEnd","opacity","isMoved","manageSwipeClass","targetTouches","pageX","k","isDraging","scrollLeft","deltaY","mousedown","d","off","lguid","parentNode","removeChild","err","lightGallery","defineProperty","value","label","wrap","className","wrapper","createElement","insertBefore","appendChild","classList","add","remove","replace","RegExp","join","contains","test","property","charAt","toLowerCase","slice","customEvent","dispatchEvent","Listener","events","fn","forEach","_id","addEventListener","_event","removeEventListener","param","keys","map","encodeURIComponent"],"mappings":"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","file":"5.js","sourcesContent":["(function (global, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define(['./lg-utils'], factory);\n    } else if (typeof exports !== \"undefined\") {\n        factory(require('./lg-utils'));\n    } else {\n        var mod = {\n            exports: {}\n        };\n        factory(global.lgUtils);\n        global.lightgallery = mod.exports;\n    }\n})(this, function (_lgUtils) {\n    'use strict';\n\n    var _lgUtils2 = _interopRequireDefault(_lgUtils);\n\n    function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n            default: obj\n        };\n    }\n\n    var _extends = Object.assign || function (target) {\n        for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i];\n\n            for (var key in source) {\n                if (Object.prototype.hasOwnProperty.call(source, key)) {\n                    target[key] = source[key];\n                }\n            }\n        }\n\n        return target;\n    };\n\n    /** Polyfill the CustomEvent() constructor functionality in Internet Explorer 9 and higher */\n    (function () {\n\n        if (typeof window.CustomEvent === 'function') {\n            return false;\n        }\n\n        function CustomEvent(event, params) {\n            params = params || {\n                bubbles: false,\n                cancelable: false,\n                detail: undefined\n            };\n            var evt = document.createEvent('CustomEvent');\n            evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n            return evt;\n        }\n\n        CustomEvent.prototype = window.Event.prototype;\n\n        window.CustomEvent = CustomEvent;\n    })();\n\n    window.utils = _lgUtils2.default;\n    window.lgData = {\n        uid: 0\n    };\n\n    window.lgModules = {};\n    var defaults = {\n\n        mode: 'lg-slide',\n\n        // Ex : 'ease'\n        cssEasing: 'ease',\n\n        //'for jquery animation'\n        easing: 'linear',\n        speed: 600,\n        height: '100%',\n        width: '100%',\n        addClass: '',\n        startClass: 'lg-start-zoom',\n        backdropDuration: 150,\n        hideBarsDelay: 6000,\n\n        useLeft: false,\n\n        closable: true,\n        loop: true,\n        escKey: true,\n        keyPress: true,\n        controls: true,\n        slideEndAnimatoin: true,\n        hideControlOnEnd: false,\n        mousewheel: false,\n\n        getCaptionFromTitleOrAlt: true,\n\n        // .lg-item || '.lg-sub-html'\n        appendSubHtmlTo: '.lg-sub-html',\n\n        subHtmlSelectorRelative: false,\n\n        /**\r\n         * @desc number of preload slides\r\n         * will exicute only after the current slide is fully loaded.\r\n         *\r\n         * @ex you clicked on 4th image and if preload = 1 then 3rd slide and 5th\r\n         * slide will be loaded in the background after the 4th slide is fully loaded..\r\n         * if preload is 2 then 2nd 3rd 5th 6th slides will be preloaded.. ... ...\r\n         *\r\n         */\n        preload: 1,\n        showAfterLoad: true,\n        selector: '',\n        selectWithin: '',\n        nextHtml: '',\n        prevHtml: '',\n\n        // 0, 1\n        index: false,\n\n        iframeMaxWidth: '100%',\n\n        download: true,\n        counter: true,\n        appendCounterTo: '.lg-toolbar',\n\n        swipeThreshold: 50,\n        enableSwipe: true,\n        enableDrag: true,\n\n        dynamic: false,\n        dynamicEl: [],\n        galleryId: 1\n    };\n\n    function Plugin(element, options) {\n\n        // Current lightGallery element\n        this.el = element;\n\n        // lightGallery settings\n        this.s = _extends({}, defaults, options);\n\n        // When using dynamic mode, ensure dynamicEl is an array\n        if (this.s.dynamic && this.s.dynamicEl !== 'undefined' && this.s.dynamicEl.constructor === Array && !this.s.dynamicEl.length) {\n            throw 'When using dynamic mode, you must also define dynamicEl as an Array.';\n        }\n\n        // lightGallery modules\n        this.modules = {};\n\n        // false when lightgallery complete first slide;\n        this.lGalleryOn = false;\n\n        this.lgBusy = false;\n\n        // Timeout function for hiding controls;\n        this.hideBartimeout = false;\n\n        // To determine browser supports for touch events;\n        this.isTouch = 'ontouchstart' in document.documentElement;\n\n        // Disable hideControlOnEnd if sildeEndAnimation is true\n        if (this.s.slideEndAnimatoin) {\n            this.s.hideControlOnEnd = false;\n        }\n\n        this.items = [];\n\n        // Gallery items\n        if (this.s.dynamic) {\n            this.items = this.s.dynamicEl;\n        } else {\n            if (this.s.selector === 'this') {\n                this.items.push(this.el);\n            } else if (this.s.selector !== '') {\n                if (this.s.selectWithin) {\n                    this.items = document.querySelector(this.s.selectWithin).querySelectorAll(this.s.selector);\n                } else {\n                    this.items = this.el.querySelectorAll(this.s.selector);\n                }\n            } else {\n                this.items = this.el.children;\n            }\n        }\n\n        // .lg-item\n\n        this.___slide = '';\n\n        // .lg-outer\n        this.outer = '';\n\n        this.init();\n\n        return this;\n    }\n\n    Plugin.prototype.init = function () {\n\n        var _this = this;\n\n        // s.preload should not be more than $item.length\n        if (_this.s.preload > _this.items.length) {\n            _this.s.preload = _this.items.length;\n        }\n\n        // if dynamic option is enabled execute immediately\n        var _hash = window.location.hash;\n        if (_hash.indexOf('lg=' + this.s.galleryId) > 0) {\n\n            _this.index = parseInt(_hash.split('&slide=')[1], 10);\n\n            _lgUtils2.default.addClass(document.body, 'lg-from-hash');\n            if (!_lgUtils2.default.hasClass(document.body, 'lg-on')) {\n                _lgUtils2.default.addClass(document.body, 'lg-on');\n                setTimeout(function () {\n                    _this.build(_this.index);\n                });\n            }\n        }\n\n        if (_this.s.dynamic) {\n\n            _lgUtils2.default.trigger(this.el, 'onBeforeOpen');\n\n            _this.index = _this.s.index || 0;\n\n            // prevent accidental double execution\n            if (!_lgUtils2.default.hasClass(document.body, 'lg-on')) {\n                _lgUtils2.default.addClass(document.body, 'lg-on');\n                setTimeout(function () {\n                    _this.build(_this.index);\n                });\n            }\n        } else {\n\n            for (var i = 0; i < _this.items.length; i++) {\n\n                /*jshint loopfunc: true */\n                (function (index) {\n\n                    // Using different namespace for click because click event should not unbind if selector is same object('this')\n                    _lgUtils2.default.on(_this.items[index], 'click.lgcustom', function (e) {\n\n                        e.preventDefault();\n\n                        _lgUtils2.default.trigger(_this.el, 'onBeforeOpen');\n\n                        _this.index = _this.s.index || index;\n\n                        if (!_lgUtils2.default.hasClass(document.body, 'lg-on')) {\n                            _this.build(_this.index);\n                            _lgUtils2.default.addClass(document.body, 'lg-on');\n                        }\n                    });\n                })(i);\n            }\n        }\n    };\n\n    Plugin.prototype.build = function (index) {\n\n        var _this = this;\n\n        _this.structure();\n\n        for (var key in window.lgModules) {\n            _this.modules[key] = new window.lgModules[key](_this.el);\n        }\n\n        // initiate slide function\n        _this.slide(index, false, false);\n\n        if (_this.s.keyPress) {\n            _this.keyPress();\n        }\n\n        if (_this.items.length > 1) {\n\n            _this.arrow();\n\n            setTimeout(function () {\n                _this.enableDrag();\n                _this.enableSwipe();\n            }, 50);\n\n            if (_this.s.mousewheel) {\n                _this.mousewheel();\n            }\n        }\n\n        _this.counter();\n\n        _this.closeGallery();\n\n        _lgUtils2.default.trigger(_this.el, 'onAfterOpen');\n\n        // Hide controllers if mouse doesn't move for some period\n        _lgUtils2.default.on(_this.outer, 'mousemove.lg click.lg touchstart.lg', function () {\n\n            _lgUtils2.default.removeClass(_this.outer, 'lg-hide-items');\n\n            clearTimeout(_this.hideBartimeout);\n\n            // Timeout will be cleared on each slide movement also\n            _this.hideBartimeout = setTimeout(function () {\n                _lgUtils2.default.addClass(_this.outer, 'lg-hide-items');\n            }, _this.s.hideBarsDelay);\n        });\n    };\n\n    Plugin.prototype.structure = function () {\n        var list = '';\n        var controls = '';\n        var i = 0;\n        var subHtmlCont = '';\n        var template;\n        var _this = this;\n\n        document.body.insertAdjacentHTML('beforeend', '<div class=\"lg-backdrop\"></div>');\n        _lgUtils2.default.setVendor(document.querySelector('.lg-backdrop'), 'TransitionDuration', this.s.backdropDuration + 'ms');\n\n        // Create gallery items\n        for (i = 0; i < this.items.length; i++) {\n            list += '<div class=\"lg-item\"></div>';\n        }\n\n        // Create controlls\n        if (this.s.controls && this.items.length > 1) {\n            controls = '<div class=\"lg-actions\">' + '<div class=\"lg-prev lg-icon\">' + this.s.prevHtml + '</div>' + '<div class=\"lg-next lg-icon\">' + this.s.nextHtml + '</div>' + '</div>';\n        }\n\n        if (this.s.appendSubHtmlTo === '.lg-sub-html') {\n            subHtmlCont = '<div class=\"lg-sub-html\"></div>';\n        }\n\n        template = '<div class=\"lg-outer ' + this.s.addClass + ' ' + this.s.startClass + '\">' + '<div class=\"lg\" style=\"width:' + this.s.width + '; height:' + this.s.height + '\">' + '<div class=\"lg-inner\">' + list + '</div>' + '<div class=\"lg-toolbar group\">' + '<span class=\"lg-close lg-icon\"></span>' + '</div>' + controls + subHtmlCont + '</div>' + '</div>';\n\n        document.body.insertAdjacentHTML('beforeend', template);\n        this.outer = document.querySelector('.lg-outer');\n        this.___slide = this.outer.querySelectorAll('.lg-item');\n\n        if (this.s.useLeft) {\n            _lgUtils2.default.addClass(this.outer, 'lg-use-left');\n\n            // Set mode lg-slide if use left is true;\n            this.s.mode = 'lg-slide';\n        } else {\n            _lgUtils2.default.addClass(this.outer, 'lg-use-css3');\n        }\n\n        // For fixed height gallery\n        _this.setTop();\n        _lgUtils2.default.on(window, 'resize.lg orientationchange.lg', function () {\n            setTimeout(function () {\n                _this.setTop();\n            }, 100);\n        });\n\n        // add class lg-current to remove initial transition\n        _lgUtils2.default.addClass(this.___slide[this.index], 'lg-current');\n\n        // add Class for css support and transition mode\n        if (this.doCss()) {\n            _lgUtils2.default.addClass(this.outer, 'lg-css3');\n        } else {\n            _lgUtils2.default.addClass(this.outer, 'lg-css');\n\n            // Set speed 0 because no animation will happen if browser doesn't support css3\n            this.s.speed = 0;\n        }\n\n        _lgUtils2.default.addClass(this.outer, this.s.mode);\n\n        if (this.s.enableDrag && this.items.length > 1) {\n            _lgUtils2.default.addClass(this.outer, 'lg-grab');\n        }\n\n        if (this.s.showAfterLoad) {\n            _lgUtils2.default.addClass(this.outer, 'lg-show-after-load');\n        }\n\n        if (this.doCss()) {\n            var inner = this.outer.querySelector('.lg-inner');\n            _lgUtils2.default.setVendor(inner, 'TransitionTimingFunction', this.s.cssEasing);\n            _lgUtils2.default.setVendor(inner, 'TransitionDuration', this.s.speed + 'ms');\n        }\n\n        setTimeout(function () {\n            _lgUtils2.default.addClass(document.querySelector('.lg-backdrop'), 'in');\n        });\n\n        setTimeout(function () {\n            _lgUtils2.default.addClass(_this.outer, 'lg-visible');\n        }, this.s.backdropDuration);\n\n        if (this.s.download) {\n            this.outer.querySelector('.lg-toolbar').insertAdjacentHTML('beforeend', '<a id=\"lg-download\" target=\"_blank\" download class=\"lg-download lg-icon\"></a>');\n        }\n\n        // Store the current scroll top value to scroll back after closing the gallery..\n        this.prevScrollTop = document.documentElement.scrollTop || document.body.scrollTop;\n    };\n\n    // For fixed height gallery\n    Plugin.prototype.setTop = function () {\n        if (this.s.height !== '100%') {\n            var wH = window.innerHeight;\n            var top = (wH - parseInt(this.s.height, 10)) / 2;\n            var lGallery = this.outer.querySelector('.lg');\n            if (wH >= parseInt(this.s.height, 10)) {\n                lGallery.style.top = top + 'px';\n            } else {\n                lGallery.style.top = '0px';\n            }\n        }\n    };\n\n    // Find css3 support\n    Plugin.prototype.doCss = function () {\n        // check for css animation support\n        var support = function support() {\n            var transition = ['transition', 'MozTransition', 'WebkitTransition', 'OTransition', 'msTransition', 'KhtmlTransition'];\n            var root = document.documentElement;\n            var i = 0;\n            for (i = 0; i < transition.length; i++) {\n                if (transition[i] in root.style) {\n                    return true;\n                }\n            }\n        };\n\n        if (support()) {\n            return true;\n        }\n\n        return false;\n    };\n\n    /**\r\n     *  @desc Check the given src is video\r\n     *  @param {String} src\r\n     *  @return {Object} video type\r\n     *  Ex:{ youtube  :  [\"//www.youtube.com/watch?v=c0asJgSyxcY\", \"c0asJgSyxcY\"] }\r\n     */\n    Plugin.prototype.isVideo = function (src, index) {\n\n        if (!src) {\n            throw new Error(\"Make sure that slide \" + index + \" has an image/video src\");\n        }\n\n        var html;\n        if (this.s.dynamic) {\n            html = this.s.dynamicEl[index].html;\n        } else {\n            html = this.items[index].getAttribute('data-html');\n        }\n\n        if (!src && html) {\n            return {\n                html5: true\n            };\n        }\n\n        var youtube = src.match(/\\/\\/(?:www\\.)?youtu(?:\\.be|be\\.com)\\/(?:watch\\?v=|embed\\/)?([a-z0-9\\-\\_\\%]+)/i);\n        var vimeo = src.match(/\\/\\/(?:www\\.)?vimeo.com\\/([0-9a-z\\-_]+)/i);\n        var dailymotion = src.match(/\\/\\/(?:www\\.)?dai.ly\\/([0-9a-z\\-_]+)/i);\n        var vk = src.match(/\\/\\/(?:www\\.)?(?:vk\\.com|vkontakte\\.ru)\\/(?:video_ext\\.php\\?)(.*)/i);\n\n        if (youtube) {\n            return {\n                youtube: youtube\n            };\n        } else if (vimeo) {\n            return {\n                vimeo: vimeo\n            };\n        } else if (dailymotion) {\n            return {\n                dailymotion: dailymotion\n            };\n        } else if (vk) {\n            return {\n                vk: vk\n            };\n        }\n    };\n\n    /**\r\n     *  @desc Create image counter\r\n     *  Ex: 1/10\r\n     */\n    Plugin.prototype.counter = function () {\n        if (this.s.counter) {\n            this.outer.querySelector(this.s.appendCounterTo).insertAdjacentHTML('beforeend', '<div id=\"lg-counter\"><span id=\"lg-counter-current\">' + (parseInt(this.index, 10) + 1) + '</span> / <span id=\"lg-counter-all\">' + this.items.length + '</span></div>');\n        }\n    };\n\n    /**\r\n     *  @desc add sub-html into the slide\r\n     *  @param {Number} index - index of the slide\r\n     */\n    Plugin.prototype.addHtml = function (index) {\n        var subHtml = null;\n        var currentEle;\n        if (this.s.dynamic) {\n            subHtml = this.s.dynamicEl[index].subHtml;\n        } else {\n            currentEle = this.items[index];\n            subHtml = currentEle.getAttribute('data-sub-html');\n            if (this.s.getCaptionFromTitleOrAlt && !subHtml) {\n                subHtml = currentEle.getAttribute('title');\n                if (subHtml && currentEle.querySelector('img')) {\n                    subHtml = currentEle.querySelector('img').getAttribute('alt');\n                }\n            }\n        }\n\n        if (typeof subHtml !== 'undefined' && subHtml !== null) {\n\n            // get first letter of subhtml\n            // if first letter starts with . or # get the html form the jQuery object\n            var fL = subHtml.substring(0, 1);\n            if (fL === '.' || fL === '#') {\n                if (this.s.subHtmlSelectorRelative && !this.s.dynamic) {\n                    subHtml = currentEle.querySelector(subHtml).innerHTML;\n                } else {\n                    subHtml = document.querySelector(subHtml).innerHTML;\n                }\n            }\n        } else {\n            subHtml = '';\n        }\n\n        if (this.s.appendSubHtmlTo === '.lg-sub-html') {\n            this.outer.querySelector(this.s.appendSubHtmlTo).innerHTML = subHtml;\n        } else {\n            this.___slide[index].insertAdjacentHTML('beforeend', subHtml);\n        }\n\n        // Add lg-empty-html class if title doesn't exist\n        if (typeof subHtml !== 'undefined' && subHtml !== null) {\n            if (subHtml === '') {\n                _lgUtils2.default.addClass(this.outer.querySelector(this.s.appendSubHtmlTo), 'lg-empty-html');\n            } else {\n                _lgUtils2.default.removeClass(this.outer.querySelector(this.s.appendSubHtmlTo), 'lg-empty-html');\n            }\n        }\n\n        _lgUtils2.default.trigger(this.el, 'onAfterAppendSubHtml', {\n            index: index\n        });\n    };\n\n    /**\r\n     *  @desc Preload slides\r\n     *  @param {Number} index - index of the slide\r\n     */\n    Plugin.prototype.preload = function (index) {\n        var i = 1;\n        var j = 1;\n        for (i = 1; i <= this.s.preload; i++) {\n            if (i >= this.items.length - index) {\n                break;\n            }\n\n            this.loadContent(index + i, false, 0);\n        }\n\n        for (j = 1; j <= this.s.preload; j++) {\n            if (index - j < 0) {\n                break;\n            }\n\n            this.loadContent(index - j, false, 0);\n        }\n    };\n\n    /**\r\n     *  @desc Load slide content into slide.\r\n     *  @param {Number} index - index of the slide.\r\n     *  @param {Boolean} rec - if true call loadcontent() function again.\r\n     *  @param {Boolean} delay - delay for adding complete class. it is 0 except first time.\r\n     */\n    Plugin.prototype.loadContent = function (index, rec, delay) {\n\n        var _this = this;\n        var _hasPoster = false;\n        var _img;\n        var _src;\n        var _poster;\n        var _srcset;\n        var _sizes;\n        var _html;\n        var getResponsiveSrc = function getResponsiveSrc(srcItms) {\n            var rsWidth = [];\n            var rsSrc = [];\n            for (var i = 0; i < srcItms.length; i++) {\n                var __src = srcItms[i].split(' ');\n\n                // Manage empty space\n                if (__src[0] === '') {\n                    __src.splice(0, 1);\n                }\n\n                rsSrc.push(__src[0]);\n                rsWidth.push(__src[1]);\n            }\n\n            var wWidth = window.innerWidth;\n            for (var j = 0; j < rsWidth.length; j++) {\n                if (parseInt(rsWidth[j], 10) > wWidth) {\n                    _src = rsSrc[j];\n                    break;\n                }\n            }\n        };\n\n        if (_this.s.dynamic) {\n\n            if (_this.s.dynamicEl[index].poster) {\n                _hasPoster = true;\n                _poster = _this.s.dynamicEl[index].poster;\n            }\n\n            _html = _this.s.dynamicEl[index].html;\n            _src = _this.s.dynamicEl[index].src;\n\n            if (_this.s.dynamicEl[index].responsive) {\n                var srcDyItms = _this.s.dynamicEl[index].responsive.split(',');\n                getResponsiveSrc(srcDyItms);\n            }\n\n            _srcset = _this.s.dynamicEl[index].srcset;\n            _sizes = _this.s.dynamicEl[index].sizes;\n        } else {\n\n            if (_this.items[index].getAttribute('data-poster')) {\n                _hasPoster = true;\n                _poster = _this.items[index].getAttribute('data-poster');\n            }\n\n            _html = _this.items[index].getAttribute('data-html');\n            _src = _this.items[index].getAttribute('href') || _this.items[index].getAttribute('data-src');\n\n            if (_this.items[index].getAttribute('data-responsive')) {\n                var srcItms = _this.items[index].getAttribute('data-responsive').split(',');\n                getResponsiveSrc(srcItms);\n            }\n\n            _srcset = _this.items[index].getAttribute('data-srcset');\n            _sizes = _this.items[index].getAttribute('data-sizes');\n        }\n\n        //if (_src || _srcset || _sizes || _poster) {\n\n        var iframe = false;\n        if (_this.s.dynamic) {\n            if (_this.s.dynamicEl[index].iframe) {\n                iframe = true;\n            }\n        } else {\n            if (_this.items[index].getAttribute('data-iframe') === 'true') {\n                iframe = true;\n            }\n        }\n\n        var _isVideo = _this.isVideo(_src, index);\n        if (!_lgUtils2.default.hasClass(_this.___slide[index], 'lg-loaded')) {\n            if (iframe) {\n                _this.___slide[index].insertAdjacentHTML('afterbegin', '<div class=\"lg-video-cont\" style=\"max-width:' + _this.s.iframeMaxWidth + '\"><div class=\"lg-video\"><iframe class=\"lg-object\" frameborder=\"0\" src=\"' + _src + '\"  allowfullscreen=\"true\"></iframe></div></div>');\n            } else if (_hasPoster) {\n                var videoClass = '';\n                if (_isVideo && _isVideo.youtube) {\n                    videoClass = 'lg-has-youtube';\n                } else if (_isVideo && _isVideo.vimeo) {\n                    videoClass = 'lg-has-vimeo';\n                } else {\n                    videoClass = 'lg-has-html5';\n                }\n\n                _this.___slide[index].insertAdjacentHTML('beforeend', '<div class=\"lg-video-cont ' + videoClass + ' \"><div class=\"lg-video\"><span class=\"lg-video-play\"></span><img class=\"lg-object lg-has-poster\" src=\"' + _poster + '\" /></div></div>');\n            } else if (_isVideo) {\n                _this.___slide[index].insertAdjacentHTML('beforeend', '<div class=\"lg-video-cont \"><div class=\"lg-video\"></div></div>');\n                _lgUtils2.default.trigger(_this.el, 'hasVideo', {\n                    index: index,\n                    src: _src,\n                    html: _html\n                });\n            } else {\n                _this.___slide[index].insertAdjacentHTML('beforeend', '<div class=\"lg-img-wrap\"><img class=\"lg-object lg-image\" src=\"' + _src + '\" /></div>');\n            }\n\n            _lgUtils2.default.trigger(_this.el, 'onAferAppendSlide', {\n                index: index\n            });\n\n            _img = _this.___slide[index].querySelector('.lg-object');\n            if (_sizes) {\n                _img.setAttribute('sizes', _sizes);\n            }\n\n            if (_srcset) {\n                _img.setAttribute('srcset', _srcset);\n                try {\n                    picturefill({\n                        elements: [_img[0]]\n                    });\n                } catch (e) {\n                    console.error('Make sure you have included Picturefill version 2');\n                }\n            }\n\n            if (this.s.appendSubHtmlTo !== '.lg-sub-html') {\n                _this.addHtml(index);\n            }\n\n            _lgUtils2.default.addClass(_this.___slide[index], 'lg-loaded');\n        }\n\n        _lgUtils2.default.on(_this.___slide[index].querySelector('.lg-object'), 'load.lg error.lg', function () {\n\n            // For first time add some delay for displaying the start animation.\n            var _speed = 0;\n\n            // Do not change the delay value because it is required for zoom plugin.\n            // If gallery opened from direct url (hash) speed value should be 0\n            if (delay && !_lgUtils2.default.hasClass(document.body, 'lg-from-hash')) {\n                _speed = delay;\n            }\n\n            setTimeout(function () {\n                _lgUtils2.default.addClass(_this.___slide[index], 'lg-complete');\n\n                _lgUtils2.default.trigger(_this.el, 'onSlideItemLoad', {\n                    index: index,\n                    delay: delay || 0\n                });\n            }, _speed);\n        });\n\n        // @todo check load state for html5 videos\n        if (_isVideo && _isVideo.html5 && !_hasPoster) {\n            _lgUtils2.default.addClass(_this.___slide[index], 'lg-complete');\n        }\n\n        if (rec === true) {\n            if (!_lgUtils2.default.hasClass(_this.___slide[index], 'lg-complete')) {\n                _lgUtils2.default.on(_this.___slide[index].querySelector('.lg-object'), 'load.lg error.lg', function () {\n                    _this.preload(index);\n                });\n            } else {\n                _this.preload(index);\n            }\n        }\n\n        //}\n    };\n\n    /**\r\n    *   @desc slide function for lightgallery\r\n        ** Slide() gets call on start\r\n        ** ** Set lg.on true once slide() function gets called.\r\n        ** Call loadContent() on slide() function inside setTimeout\r\n        ** ** On first slide we do not want any animation like slide of fade\r\n        ** ** So on first slide( if lg.on if false that is first slide) loadContent() should start loading immediately\r\n        ** ** Else loadContent() should wait for the transition to complete.\r\n        ** ** So set timeout s.speed + 50\r\n    <=> ** loadContent() will load slide content in to the particular slide\r\n        ** ** It has recursion (rec) parameter. if rec === true loadContent() will call preload() function.\r\n        ** ** preload will execute only when the previous slide is fully loaded (images iframe)\r\n        ** ** avoid simultaneous image load\r\n    <=> ** Preload() will check for s.preload value and call loadContent() again accoring to preload value\r\n        ** loadContent()  <====> Preload();\r\n    \r\n    *   @param {Number} index - index of the slide\r\n    *   @param {Boolean} fromTouch - true if slide function called via touch event or mouse drag\r\n    *   @param {Boolean} fromThumb - true if slide function called via thumbnail click\r\n    */\n    Plugin.prototype.slide = function (index, fromTouch, fromThumb) {\n\n        var _prevIndex = 0;\n        for (var i = 0; i < this.___slide.length; i++) {\n            if (_lgUtils2.default.hasClass(this.___slide[i], 'lg-current')) {\n                _prevIndex = i;\n                break;\n            }\n        }\n\n        var _this = this;\n\n        // Prevent if multiple call\n        // Required for hsh plugin\n        if (_this.lGalleryOn && _prevIndex === index) {\n            return;\n        }\n\n        var _length = this.___slide.length;\n        var _time = _this.lGalleryOn ? this.s.speed : 0;\n        var _next = false;\n        var _prev = false;\n\n        if (!_this.lgBusy) {\n\n            if (this.s.download) {\n                var _src;\n                if (_this.s.dynamic) {\n                    _src = _this.s.dynamicEl[index].downloadUrl !== false && (_this.s.dynamicEl[index].downloadUrl || _this.s.dynamicEl[index].src);\n                } else {\n                    _src = _this.items[index].getAttribute('data-download-url') !== 'false' && (_this.items[index].getAttribute('data-download-url') || _this.items[index].getAttribute('href') || _this.items[index].getAttribute('data-src'));\n                }\n\n                if (_src) {\n                    document.getElementById('lg-download').setAttribute('href', _src);\n                    _lgUtils2.default.removeClass(_this.outer, 'lg-hide-download');\n                } else {\n                    _lgUtils2.default.addClass(_this.outer, 'lg-hide-download');\n                }\n            }\n\n            _lgUtils2.default.trigger(_this.el, 'onBeforeSlide', {\n                prevIndex: _prevIndex,\n                index: index,\n                fromTouch: fromTouch,\n                fromThumb: fromThumb\n            });\n\n            _this.lgBusy = true;\n\n            clearTimeout(_this.hideBartimeout);\n\n            // Add title if this.s.appendSubHtmlTo === lg-sub-html\n            if (this.s.appendSubHtmlTo === '.lg-sub-html') {\n\n                // wait for slide animation to complete\n                setTimeout(function () {\n                    _this.addHtml(index);\n                }, _time);\n            }\n\n            this.arrowDisable(index);\n\n            if (!fromTouch) {\n\n                // remove all transitions\n                _lgUtils2.default.addClass(_this.outer, 'lg-no-trans');\n\n                for (var j = 0; j < this.___slide.length; j++) {\n                    _lgUtils2.default.removeClass(this.___slide[j], 'lg-prev-slide');\n                    _lgUtils2.default.removeClass(this.___slide[j], 'lg-next-slide');\n                }\n\n                if (index < _prevIndex) {\n                    _prev = true;\n                    if (index === 0 && _prevIndex === _length - 1 && !fromThumb) {\n                        _prev = false;\n                        _next = true;\n                    }\n                } else if (index > _prevIndex) {\n                    _next = true;\n                    if (index === _length - 1 && _prevIndex === 0 && !fromThumb) {\n                        _prev = true;\n                        _next = false;\n                    }\n                }\n\n                if (_prev) {\n\n                    //prevslide\n                    _lgUtils2.default.addClass(this.___slide[index], 'lg-prev-slide');\n                    _lgUtils2.default.addClass(this.___slide[_prevIndex], 'lg-next-slide');\n                } else if (_next) {\n\n                    // next slide\n                    _lgUtils2.default.addClass(this.___slide[index], 'lg-next-slide');\n                    _lgUtils2.default.addClass(this.___slide[_prevIndex], 'lg-prev-slide');\n                }\n\n                // give 50 ms for browser to add/remove class\n                setTimeout(function () {\n                    _lgUtils2.default.removeClass(_this.outer.querySelector('.lg-current'), 'lg-current');\n\n                    //_this.$slide.eq(_prevIndex).removeClass('lg-current');\n                    _lgUtils2.default.addClass(_this.___slide[index], 'lg-current');\n\n                    // reset all transitions\n                    _lgUtils2.default.removeClass(_this.outer, 'lg-no-trans');\n                }, 50);\n            } else {\n\n                var touchPrev = index - 1;\n                var touchNext = index + 1;\n\n                if (index === 0 && _prevIndex === _length - 1) {\n\n                    // next slide\n                    touchNext = 0;\n                    touchPrev = _length - 1;\n                } else if (index === _length - 1 && _prevIndex === 0) {\n\n                    // prev slide\n                    touchNext = 0;\n                    touchPrev = _length - 1;\n                }\n\n                _lgUtils2.default.removeClass(_this.outer.querySelector('.lg-prev-slide'), 'lg-prev-slide');\n                _lgUtils2.default.removeClass(_this.outer.querySelector('.lg-current'), 'lg-current');\n                _lgUtils2.default.removeClass(_this.outer.querySelector('.lg-next-slide'), 'lg-next-slide');\n                _lgUtils2.default.addClass(_this.___slide[touchPrev], 'lg-prev-slide');\n                _lgUtils2.default.addClass(_this.___slide[touchNext], 'lg-next-slide');\n                _lgUtils2.default.addClass(_this.___slide[index], 'lg-current');\n            }\n\n            if (_this.lGalleryOn) {\n                setTimeout(function () {\n                    _this.loadContent(index, true, 0);\n                }, this.s.speed + 50);\n\n                setTimeout(function () {\n                    _this.lgBusy = false;\n                    _lgUtils2.default.trigger(_this.el, 'onAfterSlide', {\n                        prevIndex: _prevIndex,\n                        index: index,\n                        fromTouch: fromTouch,\n                        fromThumb: fromThumb\n                    });\n                }, this.s.speed);\n            } else {\n                _this.loadContent(index, true, _this.s.backdropDuration);\n\n                _this.lgBusy = false;\n                _lgUtils2.default.trigger(_this.el, 'onAfterSlide', {\n                    prevIndex: _prevIndex,\n                    index: index,\n                    fromTouch: fromTouch,\n                    fromThumb: fromThumb\n                });\n            }\n\n            _this.lGalleryOn = true;\n\n            if (this.s.counter) {\n                if (document.getElementById('lg-counter-current')) {\n                    document.getElementById('lg-counter-current').innerHTML = index + 1;\n                }\n            }\n        }\n    };\n\n    /**\r\n     *  @desc Go to next slide\r\n     *  @param {Boolean} fromTouch - true if slide function called via touch event\r\n     */\n    Plugin.prototype.goToNextSlide = function (fromTouch) {\n        var _this = this;\n        if (!_this.lgBusy) {\n            if (_this.index + 1 < _this.___slide.length) {\n                _this.index++;\n                _lgUtils2.default.trigger(_this.el, 'onBeforeNextSlide', {\n                    index: _this.index\n                });\n                _this.slide(_this.index, fromTouch, false);\n            } else {\n                if (_this.s.loop) {\n                    _this.index = 0;\n                    _lgUtils2.default.trigger(_this.el, 'onBeforeNextSlide', {\n                        index: _this.index\n                    });\n                    _this.slide(_this.index, fromTouch, false);\n                } else if (_this.s.slideEndAnimatoin) {\n                    _lgUtils2.default.addClass(_this.outer, 'lg-right-end');\n                    setTimeout(function () {\n                        _lgUtils2.default.removeClass(_this.outer, 'lg-right-end');\n                    }, 400);\n                }\n            }\n        }\n    };\n\n    /**\r\n     *  @desc Go to previous slide\r\n     *  @param {Boolean} fromTouch - true if slide function called via touch event\r\n     */\n    Plugin.prototype.goToPrevSlide = function (fromTouch) {\n        var _this = this;\n        if (!_this.lgBusy) {\n            if (_this.index > 0) {\n                _this.index--;\n                _lgUtils2.default.trigger(_this.el, 'onBeforePrevSlide', {\n                    index: _this.index,\n                    fromTouch: fromTouch\n                });\n                _this.slide(_this.index, fromTouch, false);\n            } else {\n                if (_this.s.loop) {\n                    _this.index = _this.items.length - 1;\n                    _lgUtils2.default.trigger(_this.el, 'onBeforePrevSlide', {\n                        index: _this.index,\n                        fromTouch: fromTouch\n                    });\n                    _this.slide(_this.index, fromTouch, false);\n                } else if (_this.s.slideEndAnimatoin) {\n                    _lgUtils2.default.addClass(_this.outer, 'lg-left-end');\n                    setTimeout(function () {\n                        _lgUtils2.default.removeClass(_this.outer, 'lg-left-end');\n                    }, 400);\n                }\n            }\n        }\n    };\n\n    Plugin.prototype.keyPress = function () {\n        var _this = this;\n        if (this.items.length > 1) {\n            _lgUtils2.default.on(window, 'keyup.lg', function (e) {\n                if (_this.items.length > 1) {\n                    if (e.keyCode === 37) {\n                        e.preventDefault();\n                        _this.goToPrevSlide();\n                    }\n\n                    if (e.keyCode === 39) {\n                        e.preventDefault();\n                        _this.goToNextSlide();\n                    }\n                }\n            });\n        }\n\n        _lgUtils2.default.on(window, 'keydown.lg', function (e) {\n            if (_this.s.escKey === true && e.keyCode === 27) {\n                e.preventDefault();\n                if (!_lgUtils2.default.hasClass(_this.outer, 'lg-thumb-open')) {\n                    _this.destroy();\n                } else {\n                    _lgUtils2.default.removeClass(_this.outer, 'lg-thumb-open');\n                }\n            }\n        });\n    };\n\n    Plugin.prototype.arrow = function () {\n        var _this = this;\n        _lgUtils2.default.on(this.outer.querySelector('.lg-prev'), 'click.lg', function () {\n            _this.goToPrevSlide();\n        });\n\n        _lgUtils2.default.on(this.outer.querySelector('.lg-next'), 'click.lg', function () {\n            _this.goToNextSlide();\n        });\n    };\n\n    Plugin.prototype.arrowDisable = function (index) {\n\n        // Disable arrows if s.hideControlOnEnd is true\n        if (!this.s.loop && this.s.hideControlOnEnd) {\n            var next = this.outer.querySelector('.lg-next');\n            var prev = this.outer.querySelector('.lg-prev');\n            if (index + 1 < this.___slide.length) {\n                next.removeAttribute('disabled');\n                _lgUtils2.default.removeClass(next, 'disabled');\n            } else {\n                next.setAttribute('disabled', 'disabled');\n                _lgUtils2.default.addClass(next, 'disabled');\n            }\n\n            if (index > 0) {\n                prev.removeAttribute('disabled');\n                _lgUtils2.default.removeClass(prev, 'disabled');\n            } else {\n                next.setAttribute('disabled', 'disabled');\n                _lgUtils2.default.addClass(next, 'disabled');\n            }\n        }\n    };\n\n    Plugin.prototype.setTranslate = function (el, xValue, yValue) {\n        // jQuery supports Automatic CSS prefixing since jQuery 1.8.0\n        if (this.s.useLeft) {\n            el.style.left = xValue;\n        } else {\n            _lgUtils2.default.setVendor(el, 'Transform', 'translate3d(' + xValue + 'px, ' + yValue + 'px, 0px)');\n        }\n    };\n\n    Plugin.prototype.touchMove = function (startCoords, endCoords) {\n\n        var distance = endCoords - startCoords;\n\n        if (Math.abs(distance) > 15) {\n            // reset opacity and transition duration\n            _lgUtils2.default.addClass(this.outer, 'lg-dragging');\n\n            // move current slide\n            this.setTranslate(this.___slide[this.index], distance, 0);\n\n            // move next and prev slide with current slide\n            this.setTranslate(document.querySelector('.lg-prev-slide'), -this.___slide[this.index].clientWidth + distance, 0);\n            this.setTranslate(document.querySelector('.lg-next-slide'), this.___slide[this.index].clientWidth + distance, 0);\n        }\n    };\n\n    Plugin.prototype.touchEnd = function (distance) {\n        var _this = this;\n\n        // keep slide animation for any mode while dragg/swipe\n        if (_this.s.mode !== 'lg-slide') {\n            _lgUtils2.default.addClass(_this.outer, 'lg-slide');\n        }\n\n        for (var i = 0; i < this.___slide.length; i++) {\n            if (!_lgUtils2.default.hasClass(this.___slide[i], 'lg-current') && !_lgUtils2.default.hasClass(this.___slide[i], 'lg-prev-slide') && !_lgUtils2.default.hasClass(this.___slide[i], 'lg-next-slide')) {\n                this.___slide[i].style.opacity = '0';\n            }\n        }\n\n        // set transition duration\n        setTimeout(function () {\n            _lgUtils2.default.removeClass(_this.outer, 'lg-dragging');\n            if (distance < 0 && Math.abs(distance) > _this.s.swipeThreshold) {\n                _this.goToNextSlide(true);\n            } else if (distance > 0 && Math.abs(distance) > _this.s.swipeThreshold) {\n                _this.goToPrevSlide(true);\n            } else if (Math.abs(distance) < 5) {\n\n                // Trigger click if distance is less than 5 pix\n                _lgUtils2.default.trigger(_this.el, 'onSlideClick');\n            }\n\n            for (var i = 0; i < _this.___slide.length; i++) {\n                _this.___slide[i].removeAttribute('style');\n            }\n        });\n\n        // remove slide class once drag/swipe is completed if mode is not slide\n        setTimeout(function () {\n            if (!_lgUtils2.default.hasClass(_this.outer, 'lg-dragging') && _this.s.mode !== 'lg-slide') {\n                _lgUtils2.default.removeClass(_this.outer, 'lg-slide');\n            }\n        }, _this.s.speed + 100);\n    };\n\n    Plugin.prototype.enableSwipe = function () {\n        var _this = this;\n        var startCoords = 0;\n        var endCoords = 0;\n        var isMoved = false;\n\n        if (_this.s.enableSwipe && _this.isTouch && _this.doCss()) {\n\n            for (var i = 0; i < _this.___slide.length; i++) {\n                /*jshint loopfunc: true */\n                _lgUtils2.default.on(_this.___slide[i], 'touchstart.lg', function (e) {\n                    if (!_lgUtils2.default.hasClass(_this.outer, 'lg-zoomed') && !_this.lgBusy) {\n                        e.preventDefault();\n                        _this.manageSwipeClass();\n                        startCoords = e.targetTouches[0].pageX;\n                    }\n                });\n            }\n\n            for (var j = 0; j < _this.___slide.length; j++) {\n                /*jshint loopfunc: true */\n                _lgUtils2.default.on(_this.___slide[j], 'touchmove.lg', function (e) {\n                    if (!_lgUtils2.default.hasClass(_this.outer, 'lg-zoomed')) {\n                        e.preventDefault();\n                        endCoords = e.targetTouches[0].pageX;\n                        _this.touchMove(startCoords, endCoords);\n                        isMoved = true;\n                    }\n                });\n            }\n\n            for (var k = 0; k < _this.___slide.length; k++) {\n                /*jshint loopfunc: true */\n                _lgUtils2.default.on(_this.___slide[k], 'touchend.lg', function () {\n                    if (!_lgUtils2.default.hasClass(_this.outer, 'lg-zoomed')) {\n                        if (isMoved) {\n                            isMoved = false;\n                            _this.touchEnd(endCoords - startCoords);\n                        } else {\n                            _lgUtils2.default.trigger(_this.el, 'onSlideClick');\n                        }\n                    }\n                });\n            }\n        }\n    };\n\n    Plugin.prototype.enableDrag = function () {\n        var _this = this;\n        var startCoords = 0;\n        var endCoords = 0;\n        var isDraging = false;\n        var isMoved = false;\n        if (_this.s.enableDrag && !_this.isTouch && _this.doCss()) {\n            for (var i = 0; i < _this.___slide.length; i++) {\n                /*jshint loopfunc: true */\n                _lgUtils2.default.on(_this.___slide[i], 'mousedown.lg', function (e) {\n                    // execute only on .lg-object\n                    if (!_lgUtils2.default.hasClass(_this.outer, 'lg-zoomed')) {\n                        if (_lgUtils2.default.hasClass(e.target, 'lg-object') || _lgUtils2.default.hasClass(e.target, 'lg-video-play')) {\n                            e.preventDefault();\n\n                            if (!_this.lgBusy) {\n                                _this.manageSwipeClass();\n                                startCoords = e.pageX;\n                                isDraging = true;\n\n                                // ** Fix for webkit cursor issue https://code.google.com/p/chromium/issues/detail?id=26723\n                                _this.outer.scrollLeft += 1;\n                                _this.outer.scrollLeft -= 1;\n\n                                // *\n\n                                _lgUtils2.default.removeClass(_this.outer, 'lg-grab');\n                                _lgUtils2.default.addClass(_this.outer, 'lg-grabbing');\n\n                                _lgUtils2.default.trigger(_this.el, 'onDragstart');\n                            }\n                        }\n                    }\n                });\n            }\n\n            _lgUtils2.default.on(window, 'mousemove.lg', function (e) {\n                if (isDraging) {\n                    isMoved = true;\n                    endCoords = e.pageX;\n                    _this.touchMove(startCoords, endCoords);\n                    _lgUtils2.default.trigger(_this.el, 'onDragmove');\n                }\n            });\n\n            _lgUtils2.default.on(window, 'mouseup.lg', function (e) {\n                if (isMoved) {\n                    isMoved = false;\n                    _this.touchEnd(endCoords - startCoords);\n                    _lgUtils2.default.trigger(_this.el, 'onDragend');\n                } else if (_lgUtils2.default.hasClass(e.target, 'lg-object') || _lgUtils2.default.hasClass(e.target, 'lg-video-play')) {\n                    _lgUtils2.default.trigger(_this.el, 'onSlideClick');\n                }\n\n                // Prevent execution on click\n                if (isDraging) {\n                    isDraging = false;\n                    _lgUtils2.default.removeClass(_this.outer, 'lg-grabbing');\n                    _lgUtils2.default.addClass(_this.outer, 'lg-grab');\n                }\n            });\n        }\n    };\n\n    Plugin.prototype.manageSwipeClass = function () {\n        var touchNext = this.index + 1;\n        var touchPrev = this.index - 1;\n        var length = this.___slide.length;\n        if (this.s.loop) {\n            if (this.index === 0) {\n                touchPrev = length - 1;\n            } else if (this.index === length - 1) {\n                touchNext = 0;\n            }\n        }\n\n        for (var i = 0; i < this.___slide.length; i++) {\n            _lgUtils2.default.removeClass(this.___slide[i], 'lg-next-slide');\n            _lgUtils2.default.removeClass(this.___slide[i], 'lg-prev-slide');\n        }\n\n        if (touchPrev > -1) {\n            _lgUtils2.default.addClass(this.___slide[touchPrev], 'lg-prev-slide');\n        }\n\n        _lgUtils2.default.addClass(this.___slide[touchNext], 'lg-next-slide');\n    };\n\n    Plugin.prototype.mousewheel = function () {\n        var _this = this;\n        _lgUtils2.default.on(_this.outer, 'mousewheel.lg', function (e) {\n\n            if (!e.deltaY) {\n                return;\n            }\n\n            if (e.deltaY > 0) {\n                _this.goToPrevSlide();\n            } else {\n                _this.goToNextSlide();\n            }\n\n            e.preventDefault();\n        });\n    };\n\n    Plugin.prototype.closeGallery = function () {\n\n        var _this = this;\n        var mousedown = false;\n        _lgUtils2.default.on(this.outer.querySelector('.lg-close'), 'click.lg', function () {\n            _this.destroy();\n        });\n\n        if (_this.s.closable) {\n\n            // If you drag the slide and release outside gallery gets close on chrome\n            // for preventing this check mousedown and mouseup happened on .lg-item or lg-outer\n            _lgUtils2.default.on(_this.outer, 'mousedown.lg', function (e) {\n\n                if (_lgUtils2.default.hasClass(e.target, 'lg-outer') || _lgUtils2.default.hasClass(e.target, 'lg-item') || _lgUtils2.default.hasClass(e.target, 'lg-img-wrap')) {\n                    mousedown = true;\n                } else {\n                    mousedown = false;\n                }\n            });\n\n            _lgUtils2.default.on(_this.outer, 'mouseup.lg', function (e) {\n\n                if (_lgUtils2.default.hasClass(e.target, 'lg-outer') || _lgUtils2.default.hasClass(e.target, 'lg-item') || _lgUtils2.default.hasClass(e.target, 'lg-img-wrap') && mousedown) {\n                    if (!_lgUtils2.default.hasClass(_this.outer, 'lg-dragging')) {\n                        _this.destroy();\n                    }\n                }\n            });\n        }\n    };\n\n    Plugin.prototype.destroy = function (d) {\n\n        var _this = this;\n\n        if (!d) {\n            _lgUtils2.default.trigger(_this.el, 'onBeforeClose');\n        }\n\n        document.body.scrollTop = _this.prevScrollTop;\n        document.documentElement.scrollTop = _this.prevScrollTop;\n\n        /**\r\n         * if d is false or undefined destroy will only close the gallery\r\n         * plugins instance remains with the element\r\n         *\r\n         * if d is true destroy will completely remove the plugin\r\n         */\n\n        if (d) {\n            if (!_this.s.dynamic) {\n                // only when not using dynamic mode is $items a jquery collection\n\n                for (var i = 0; i < this.items.length; i++) {\n                    _lgUtils2.default.off(this.items[i], '.lg');\n                    _lgUtils2.default.off(this.items[i], '.lgcustom');\n                }\n            }\n\n            var lguid = _this.el.getAttribute('lg-uid');\n            delete window.lgData[lguid];\n            _this.el.removeAttribute('lg-uid');\n        }\n\n        // Unbind all events added by lightGallery\n        _lgUtils2.default.off(this.el, '.lgtm');\n\n        // Distroy all lightGallery modules\n        for (var key in window.lgModules) {\n            if (_this.modules[key]) {\n                _this.modules[key].destroy();\n            }\n        }\n\n        this.lGalleryOn = false;\n\n        clearTimeout(_this.hideBartimeout);\n        this.hideBartimeout = false;\n        _lgUtils2.default.off(window, '.lg');\n        _lgUtils2.default.removeClass(document.body, 'lg-on');\n        _lgUtils2.default.removeClass(document.body, 'lg-from-hash');\n\n        if (_this.outer) {\n            _lgUtils2.default.removeClass(_this.outer, 'lg-visible');\n        }\n\n        _lgUtils2.default.removeClass(document.querySelector('.lg-backdrop'), 'in');\n        setTimeout(function () {\n            try {\n                if (_this.outer) {\n                    _this.outer.parentNode.removeChild(_this.outer);\n                }\n\n                if (document.querySelector('.lg-backdrop')) {\n                    document.querySelector('.lg-backdrop').parentNode.removeChild(document.querySelector('.lg-backdrop'));\n                }\n\n                if (!d) {\n                    _lgUtils2.default.trigger(_this.el, 'onCloseAfter');\n                }\n            } catch (err) {}\n        }, _this.s.backdropDuration + 50);\n    };\n\n    window.lightGallery = function (el, options) {\n        if (!el) {\n            return;\n        }\n\n        try {\n            if (!el.getAttribute('lg-uid')) {\n                var uid = 'lg' + window.lgData.uid++;\n                window.lgData[uid] = new Plugin(el, options);\n                el.setAttribute('lg-uid', uid);\n            } else {\n                try {\n                    window.lgData[el.getAttribute('lg-uid')].init();\n                } catch (err) {\n                    console.error('lightGallery has not initiated properly');\n                }\n            }\n        } catch (err) {\n            console.error('lightGallery has not initiated properly');\n        }\n    };\n});\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lightgallery.js/lib/js/lightgallery.js","(function (global, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define(['exports'], factory);\n    } else if (typeof exports !== \"undefined\") {\n        factory(exports);\n    } else {\n        var mod = {\n            exports: {}\n        };\n        factory(mod.exports);\n        global.lgUtils = mod.exports;\n    }\n})(this, function (exports) {\n    'use strict';\n\n    Object.defineProperty(exports, \"__esModule\", {\n        value: true\n    });\n\n    /*\r\n     *@todo remove function from window and document. Update on and off functions\r\n     */\n    window.getAttribute = function (label) {\n        return window[label];\n    };\n\n    window.setAttribute = function (label, value) {\n        window[label] = value;\n    };\n\n    document.getAttribute = function (label) {\n        return document[label];\n    };\n\n    document.setAttribute = function (label, value) {\n        document[label] = value;\n    };\n\n    var utils = {\n        wrap: function wrap(el, className) {\n            if (!el) {\n                return;\n            }\n\n            var wrapper = document.createElement('div');\n            wrapper.className = className;\n            el.parentNode.insertBefore(wrapper, el);\n            el.parentNode.removeChild(el);\n            wrapper.appendChild(el);\n        },\n\n        addClass: function addClass(el, className) {\n            if (!el) {\n                return;\n            }\n\n            if (el.classList) {\n                el.classList.add(className);\n            } else {\n                el.className += ' ' + className;\n            }\n        },\n\n        removeClass: function removeClass(el, className) {\n            if (!el) {\n                return;\n            }\n\n            if (el.classList) {\n                el.classList.remove(className);\n            } else {\n                el.className = el.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n            }\n        },\n\n        hasClass: function hasClass(el, className) {\n            if (el.classList) {\n                return el.classList.contains(className);\n            } else {\n                return new RegExp('(^| )' + className + '( |$)', 'gi').test(el.className);\n            }\n\n            return false;\n        },\n\n        // ex Transform\n        // ex TransitionTimingFunction\n        setVendor: function setVendor(el, property, value) {\n            if (!el) {\n                return;\n            }\n\n            el.style[property.charAt(0).toLowerCase() + property.slice(1)] = value;\n            el.style['webkit' + property] = value;\n            el.style['moz' + property] = value;\n            el.style['ms' + property] = value;\n            el.style['o' + property] = value;\n        },\n\n        trigger: function trigger(el, event) {\n            var detail = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n            if (!el) {\n                return;\n            }\n\n            var customEvent = new CustomEvent(event, {\n                detail: detail\n            });\n            el.dispatchEvent(customEvent);\n        },\n\n        Listener: {\n            uid: 0\n        },\n        on: function on(el, events, fn) {\n            if (!el) {\n                return;\n            }\n\n            events.split(' ').forEach(function (event) {\n                var _id = el.getAttribute('lg-event-uid') || '';\n                utils.Listener.uid++;\n                _id += '&' + utils.Listener.uid;\n                el.setAttribute('lg-event-uid', _id);\n                utils.Listener[event + utils.Listener.uid] = fn;\n                el.addEventListener(event.split('.')[0], fn, false);\n            });\n        },\n\n        off: function off(el, event) {\n            if (!el) {\n                return;\n            }\n\n            var _id = el.getAttribute('lg-event-uid');\n            if (_id) {\n                _id = _id.split('&');\n                for (var i = 0; i < _id.length; i++) {\n                    if (_id[i]) {\n                        var _event = event + _id[i];\n                        if (_event.substring(0, 1) === '.') {\n                            for (var key in utils.Listener) {\n                                if (utils.Listener.hasOwnProperty(key)) {\n                                    if (key.split('.').indexOf(_event.split('.')[1]) > -1) {\n                                        el.removeEventListener(key.split('.')[0], utils.Listener[key]);\n                                        el.setAttribute('lg-event-uid', el.getAttribute('lg-event-uid').replace('&' + _id[i], ''));\n                                        delete utils.Listener[key];\n                                    }\n                                }\n                            }\n                        } else {\n                            el.removeEventListener(_event.split('.')[0], utils.Listener[_event]);\n                            el.setAttribute('lg-event-uid', el.getAttribute('lg-event-uid').replace('&' + _id[i], ''));\n                            delete utils.Listener[_event];\n                        }\n                    }\n                }\n            }\n        },\n\n        param: function param(obj) {\n            return Object.keys(obj).map(function (k) {\n                return encodeURIComponent(k) + '=' + encodeURIComponent(obj[k]);\n            }).join('&');\n        }\n    };\n\n    exports.default = utils;\n});\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lightgallery.js/lib/js/lg-utils.js"],"sourceRoot":""}