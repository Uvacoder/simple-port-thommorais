{"version":3,"sources":["webpack:///./src/js/modules/carousels.js","webpack:///./src/js/vendors/swiper.esm.js","webpack:///./src/js/controllers/powerUpsCarousels.js","webpack:///./node_modules/dom7/dist/dom7.modular.js","webpack:///./node_modules/ssr-window/dist/ssr-window.esm.js","webpack:///./src/js/controllers/screenshotCarousel.js","webpack:///./node_modules/lightgallery.js/lib/js/lightgallery.js","webpack:///./node_modules/lightgallery.js/lib/js/lg-utils.js"],"names":["obj","powerUpsCarousels","screenshots","w","window","navigator","userAgent","location","history","addEventListener","removeEventListener","getComputedStyle","Image","Date","win","Methods","addClass","removeClass","hasClass","toggleClass","attr","removeAttr","data","transform","transition","on","off","trigger","transitionEnd","outerWidth","outerHeight","offset","css","each","html","text","is","index","eq","append","prepend","next","nextAll","prev","prevAll","parent","parents","closest","find","children","remove","add","styles","Object","keys","forEach","methodName","fn","Utils","deleteProps","object","key","e","nextTick","callback","delay","setTimeout","now","getTranslate","el","axis","matrix","curTransform","transformMatrix","curStyle","WebKitCSSMatrix","webkitTransform","split","length","map","a","replace","join","MozTransform","OTransform","MsTransform","msTransform","getPropertyValue","toString","m41","parseFloat","m42","parseUrlQuery","url","query","urlToParse","href","i","params","param","indexOf","filter","paramsPart","decodeURIComponent","undefined","isObject","o","constructor","extend","to","nextSource","keysArray","nextIndex","len","nextKey","desc","getOwnPropertyDescriptor","enumerable","d","document","activeElement","blur","nodeName","querySelector","querySelectorAll","createElement","style","setAttribute","getElementsByTagName","hash","doc","Support","touch","Modernizr","checkTouch","DocumentTouch","transforms3d","csstransforms3d","checkTransforms3d","div","flexbox","checkFlexbox","styles$$1","observer","checkObserver","passiveListener","checkPassiveListener","supportsPassive","opts","defineProperty","get","gestures","checkGestures","SwiperClass","self","eventsListeners","eventName","events","handler","event","push","onceHandler","args","apply","eventHandler","index$$1","splice","data$$1","context","Array","isArray","slice","eventsArray","handlers","instanceParams","instance","modules","moduleName","module","modulesParams","moduleParams","modulePropName","moduleProp","bind","moduleEventName","create","Class","prototype","name","proto","static","install","installModule","m","components","use","updateSize","swiper","width","height","$el","clientWidth","clientHeight","isHorizontal","isVertical","parseInt","size","updateSlides","$wrapperEl","swiperSize","rtl","wrongRTL","slides","slideClass","isVirtual","virtual","enabled","slidesLength","snapGrid","slidesGrid","slidesSizesGrid","offsetBefore","slidesOffsetBefore","call","offsetAfter","slidesOffsetAfter","previousSlidesLength","previousSnapGridLength","previousSlidesGridLength","spaceBetween","slidePosition","prevSlideSize","virtualSize","marginLeft","marginTop","marginRight","marginBottom","slidesNumberEvenToRows","slidesPerColumn","Math","floor","ceil","slidesPerView","slidesPerColumnFill","max","slideSize","slidesPerRow","numFullColumns","slide","newSlideOrderIndex","column","row","order","roundLengths","swiperSlideSize","centeredSlides","abs","slidesPerGroup","newSlidesGrid","effect","setWrapperSize","emit","watchSlidesProgress","watchSlidesVisibility","updateSlidesOffset","updateAutoHeight","activeSlides","newHeight","activeIndex","offsetHeight","swiperSlideOffset","offsetLeft","offsetTop","updateSlidesProgress","translate","offsetCenter","slideVisibleClass","slideProgress","minTranslate","slideBefore","slideAfter","isVisible","progress","updateProgress","translatesDiff","maxTranslate","isBeginning","isEnd","wasBeginning","wasEnd","updateSlidesClasses","realIndex","slideActiveClass","slideNextClass","slidePrevClass","slideDuplicateActiveClass","slideDuplicateNextClass","slideDuplicatePrevClass","activeSlide","loop","slideDuplicateClass","nextSlide","prevSlide","updateActiveIndex","newActiveIndex","previousIndex","previousRealIndex","previousSnapIndex","snapIndex","normalizeSlideIndex","updateClickedSlide","target","slideFound","clickedSlide","clickedIndex","slideToClickedSlide","update","virtualTranslate","currentTranslate","setTranslate","byController","x","y","z","newProgress","setTransition","duration","transitionStart","runCallbacks","autoHeight","transitionEnd$1","animating","transition$1","Browser","isIE9","innerHTML","isSafari","ua","toLowerCase","isUiWebView","test","ie","pointerEnabled","msPointerEnabled","ieTouch","msMaxTouchPoints","maxTouchPoints","lteIE9","slideTo","speed","internal","slideIndex","initialSlide","allowSlideNext","allowSlidePrev","destroyed","slideNext","loopFix","_clientLeft","clientLeft","slidePrev","slideReset","slidesPerViewDynamic","slideToIndex","loopedSlides","loopCreate","loopFillGroupWithBlank","blankSlidesNum","blankNode","slideBlankClass","loopAdditionalSlides","prependSlides","appendSlides","cloneNode","newIndex","loopDestroy","setGrabCursor","moving","simulateTouch","cursor","unsetGrabCursor","grabCursor","appendSlide","prependSlide","removeSlide","slidesIndexes","indexToRemove","removeAllSlides","manipulation","Device","device","ios","android","androidChrome","desktop","windows","iphone","ipod","ipad","cordova","phonegap","match","os","osVersion","webView","osVersionArr","metaViewport","minimalUi","getAttribute","pixelRatio","devicePixelRatio","onTouchStart","touchEventsData","touches","originalEvent","isTouchEvent","type","which","isTouched","isMoved","noSwiping","noSwipingClass","allowClick","swipeHandler","currentX","targetTouches","pageX","currentY","pageY","startX","startY","iOSEdgeSwipeDetection","iOSEdgeSwipeThreshold","allowTouchCallbacks","isScrolling","startMoving","touchStartTime","swipeDirection","threshold","allowThresholdMove","preventDefault","formElements","onTouchMove","preventedByNestedSwiper","allowTouchMove","touchReleaseOnEdges","touchAngle","atan2","PI","touchMoveStopPropagation","nested","stopPropagation","startTranslate","allowMomentumBounce","diff","touchRatio","disableParentSwiper","resistanceRatio","resistance","followFinger","freeMode","velocities","position","time","onTouchEnd","touchEndTime","timeDiff","lastClickTime","clickTimeout","clearTimeout","currentPos","freeModeMomentum","lastMoveEvent","pop","velocityEvent","distance","velocity","freeModeMinimumVelocity","freeModeMomentumVelocityRatio","momentumDuration","freeModeMomentumRatio","momentumDistance","newPosition","doBounce","afterBouncePosition","bounceAmount","freeModeMomentumBounceRatio","freeModeMomentumBounce","freeModeSticky","j","longSwipesMs","stopIndex","groupSize","ratio","longSwipes","longSwipesRatio","shortSwipes","onResize","offsetWidth","breakpoints","setBreakpoint","newTranslate","min","onClick","preventClicks","preventClicksPropagation","stopImmediatePropagation","attachEvents","touchEvents","wrapperEl","touchEventsTarget","capture","start","move","end","passiveListeners","passive","detachEvents","breakpoint","getBreakpoint","currentBreakpoint","breakPointsParams","originalParams","needsReLoop","oldIndex","points","point","sort","b","innerWidth","addClasses","classNames","suffixes","direction","suffix","containerModifierClass","removeClasses","classes","loadImage","imageEl","src","srcset","sizes","checkForComplete","image","onReady","complete","onload","onerror","preloadImages","imagesToLoad","imagesLoaded","updateOnImagesReady","currentSrc","images","defaults","init","uniqueNavElements","wrapperClass","runCallbacksOnInit","prototypes","extendedDefaults","Swiper$1","prototypeGroup","protoMethod","moduleParamName","swiperParams","useModulesParams","passedParams","swipers","containerEl","newParams","dir","useModules","spv","breakLoop","translated","initialized","deleteInstance","cleanStyles","newDefaults","Device$2","Support$2","support","Browser$2","browser","Resize","resize","resizeHandler","orientationChangeHandler","destroy","Observer","func","MutationObserver","WebkitMutationObserver","attach","options","ObserverFunc","mutations","mutation","observe","attributes","childList","characterData","observers","observeParents","containerParents","disconnect","Observer$1","Virtual","force","previousFrom","from","previousTo","previousSlidesGrid","renderSlide","previousOffset","offsetProp","slidesAfter","slidesBefore","offset$$1","onRendered","lazy","load","renderExternal","getSlides","slidesToRender","prependIndexes","appendIndexes","cache","$slideEl","unshift","newCache","cachedIndex","Virtual$1","beforeInit","overwriteParams","Keyboard","handle","kc","keyCode","charCode","shiftKey","altKey","ctrlKey","metaKey","inView","windowScroll","left","pageXOffset","top","pageYOffset","windowWidth","windowHeight","innerHeight","swiperOffset","scrollLeft","swiperCoord","returnValue","enable","keyboard","disable","Keyboard$1","isEventSupported","isSupported","element","implementation","hasFeature","Mousewheel","lastScrollTime","getEvent","normalize","PIXEL_STEP","LINE_HEIGHT","PAGE_HEIGHT","sX","sY","pX","pY","detail","wheelDelta","wheelDeltaY","wheelDeltaX","HORIZONTAL_AXIS","deltaY","deltaX","deltaMode","spinX","spinY","pixelX","pixelY","mousewheel","delta","rtlFactor","forceToAxis","invert","releaseOnEdges","getTime","sensitivity","timeout","autoplay","autoplayDisableOnInteraction","stopAutoplay","eventsTarged","Mousewheel$1","Navigation","navigation","$nextEl","$prevEl","disabledClass","nextEl","prevEl","Navigation$1","hideOnClick","hiddenClass","toEdge","fromEdge","click","Pagination","pagination","current","total","paginationType","bullets","dynamicBullets","bulletSize","bulletActiveClass","bullet","$bullet","dynamicBulletsLength","bulletsOffset","currentClass","totalClass","scale","scaleX","scaleY","progressbarFillClass","renderCustom","render","paginationHTML","numberOfBullets","renderBullet","bulletClass","bulletElement","renderFraction","renderProgressbar","clickable","clickableClass","modifierClass","Pagination$1","activeIndexChange","snapIndexChange","slidesLengthChange","snapGridLengthChange","Scrollbar","scrollbar","dragSize","trackSize","$dragEl","newSize","newPos","hide","opacity","divider","moveDivider","display","scrollbarHide","setDragPosition","pointerPosition","clientX","clientY","positionMin","positionMax","onDragStart","dragTimeout","onDragMove","onDragEnd","snapOnRelease","enableDraggable","dragEvents","disableDraggable","$swiperEl","dragEl","draggable","Scrollbar$1","observerUpdate","Parallax","setTransform","p","currentOpacity","currentScale","parallax","slideEl","parallaxEl","$parallaxEl","parallaxDuration","Parallax$1","Zoom","getDistanceBetweenTouches","x1","y1","x2","y2","sqrt","onGestureStart","zoom","gesture","fakeGestureTouched","fakeGestureMoved","scaleStart","$imageEl","$imageWrapEl","containerClass","maxRatio","isScaling","onGestureChange","scaleMove","minRatio","onGestureEnd","changedTouches","touchesStart","slideWidth","slideHeight","scaledWidth","scaledHeight","minX","maxX","minY","maxY","touchesCurrent","prevPositionX","prevPositionY","prevTime","momentumDurationX","momentumDurationY","momentumDistanceX","newPositionX","momentumDistanceY","newPositionY","onTransitionEnd","toggle","out","in","zoomedSlideClass","touchX","touchY","offsetX","offsetY","diffX","diffY","translateX","translateY","imageWidth","imageHeight","translateMinX","translateMinY","translateMaxX","translateMaxY","Zoom$1","touchStart","touchEnd","doubleTap","Lazy","loadInSlide","loadInDuplicate","$images","elementClass","loadedClass","loadingClass","imageIndex","background","preloaderClass","slideOriginalIndex","originalSlide","duplicatedSlide","slideExist","initialImageLoaded","elIndex","loadPrevNext","loadPrevNextAmount","amount","maxIndex","minIndex","Lazy$1","loadOnTransitionStart","scroll","scrollbarDragMove","Controller","LinearSpline","binarySearch","search","guess","array","val","lastIndex","i1","i3","interpolate","getInterpolateFunction","c","controller","spline","controlled","control","multiplier","controlledTranslate","setControlledTranslate","by","inverse","setControlledTransition","Controller$1","a11y","makeElFocusable","addElRole","role","addElLabel","label","disableEl","enableEl","onEnterKey","$targetEl","notify","lastSlideMessage","nextSlideMessage","firstSlideMessage","prevSlideMessage","message","notification","liveRegion","updateNavigation","updatePagination","bulletIndex","bulletEl","$bulletEl","paginationBulletMessage","A11y","notificationClass","paginationUpdate","History","pushState","hashNavigation","paths","getPathValues","value","scrollToSlide","replaceState","setHistoryPopState","pathArray","pathname","setHistory","slugify","includes","currentState","state","text$$1","slideHistory","History$1","HashNavigation","onHashCange","newHash","activeSlideHash","setHash","slideHash","watchState","HashNavigation$1","Autoplay","run","$activeSlideEl","stopOnLastSlide","stop","running","pause","paused","Autoplay$1","disableOnInteraction","beforeTransitionStart","sliderFirstMove","Fade","tx","ty","slideOpacity","fadeEffect","crossFade","eventTriggered","triggerEvents","EffectFade","Cube","swiperWidth","swiperHeight","cubeEffect","wrapperRotate","$cubeShadowEl","shadow","slideAngle","round","tz","transform$$1","slideShadows","shadowBefore","shadowAfter","shadowOffset","shadowScale","shadowAngle","sin","cos","scale1","scale2","zFactor","EffectCube","Flip","flipEffect","limitRotation","rotate","rotateY","rotateX","zIndex","EffectFlip","Coverflow","coverflowEffect","center","depth","slideOffset","offsetMultiplier","modifier","translateZ","stretch","slideTransform","$shadowBeforeEl","$shadowAfterEl","ws","perspectiveOrigin","EffectCoverflow","motives","breaks","carousel","id","classList","Dom7","arr","$","selector","els","tempParent","trim","toCreate","childNodes","getElementById","nodeType","unique","uniqueArray","toCamelCase","string","group1","toUpperCase","requestAnimationFrame","webkitRequestAnimationFrame","cancelAnimationFrame","webkitCancelAnimationFrame","className","contains","attrs","arguments","attrName","removeAttribute","prop","props","propName","dom7ElementDataStorage","dataKey","removeData","dataset","multiple","values","selectedOptions","elStyle","webkitTransitionDuration","transitionDuration","eventType","targetSelector","listener","handleLiveEvent","eventData","dom7EventData","k","handleEvent","dom7Listeners","proxyListener","dom7LiveListeners","once","dom","proxy","evt","CustomEvent","bubbles","cancelable","createEvent","initEvent","dataIndex","dispatchEvent","fireCallBack","animationEnd","includeMargins","box","getBoundingClientRect","body","clientTop","scrollTop","scrollY","scrollX","show","toArray","matchedItems","modifiedItems","textContent","compareWith","matches","webkitMatchesSelector","msMatchesSelector","child","previousSibling","returnIndex","newChild","tempDiv","firstChild","appendChild","appendTo","insertBefore","prependTo","before","parentNode","insertAfter","after","nextSibling","nextElementSibling","nextEls","previousElementSibling","prevEls","siblings","foundElements","found","removeChild","detach","toAdd","empty","scrollTo","easing","animate","currentTop","currentLeft","maxTop","maxLeft","newTop","newLeft","animateTop","animateLeft","scrollHeight","scrollWidth","startTime","easeProgress","done","initialProps","initialParams","elements","que","easingProgress","frameId","dom7AnimateInstance","shift","initialFullValue","initialValue","unit","finalValue","finalFullValue","container","currentValue","elementsDone","propsDone","began","begin","animateInstance","noTrigger","eventShortcut","focus","focusin","focusout","keyup","keydown","keypress","submit","change","mousedown","mousemove","mouseup","mouseenter","mouseleave","mouseout","mouseover","touchstart","touchend","touchmove","screen","global","factory","define","exports","require","mod","lgUtils","lightgallery","_lgUtils","_lgUtils2","_interopRequireDefault","__esModule","default","_extends","assign","source","hasOwnProperty","initCustomEvent","Event","utils","lgData","uid","lgModules","mode","cssEasing","startClass","backdropDuration","hideBarsDelay","useLeft","closable","escKey","keyPress","controls","slideEndAnimatoin","hideControlOnEnd","getCaptionFromTitleOrAlt","appendSubHtmlTo","subHtmlSelectorRelative","preload","showAfterLoad","selectWithin","nextHtml","prevHtml","iframeMaxWidth","download","counter","appendCounterTo","swipeThreshold","enableSwipe","enableDrag","dynamic","dynamicEl","galleryId","Plugin","s","lGalleryOn","lgBusy","hideBartimeout","isTouch","documentElement","items","___slide","outer","_this","_hash","build","structure","arrow","closeGallery","list","subHtmlCont","template","insertAdjacentHTML","setVendor","setTop","doCss","inner","prevScrollTop","wH","lGallery","root","isVideo","Error","html5","youtube","vimeo","dailymotion","vk","addHtml","subHtml","currentEle","fL","substring","loadContent","rec","_hasPoster","_img","_src","_poster","_srcset","_sizes","_html","getResponsiveSrc","srcItms","rsWidth","rsSrc","__src","wWidth","poster","responsive","srcDyItms","iframe","_isVideo","videoClass","picturefill","console","error","_speed","fromTouch","fromThumb","_prevIndex","_length","_time","_next","_prev","downloadUrl","prevIndex","arrowDisable","touchPrev","touchNext","goToNextSlide","goToPrevSlide","xValue","yValue","touchMove","startCoords","endCoords","manageSwipeClass","isDraging","lguid","err","lightGallery","wrap","wrapper","RegExp","property","charAt","customEvent","Listener","_id","_event","encodeURIComponent"],"mappings":"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","file":"carousels.js","sourcesContent":["import powerUpsCarousels from '../controllers/powerUpsCarousels'\nimport screenshots from '../controllers/screenshotCarousel'\n\n const obj = {\n\n    // poweUps carousel\n    powerUpsCarousels: () => powerUpsCarousels(),\n\n    // screenshots\n    screenshots:  () => screenshots()\n\n}\n\nexport default obj\n\n\n// WEBPACK FOOTER //\n// ./src/js/modules/carousels.js","/**\n * Swiper 4.0.5\n * Most modern mobile touch slider and framework with hardware accelerated transitions\n * http://www.idangero.us/swiper/\n *\n * Copyright 2014-2017 Vladimir Kharlampidi\n *\n * Released under the MIT License\n *\n * Released on: November 7, 2017\n */\n\nimport { $, add, addClass, append, attr, children, closest, css, data, each, eq, find, hasClass, html, index, is, next, nextAll, off, offset, on, outerHeight, outerWidth, parent, parents, prepend, prev, prevAll, remove, removeAttr, removeClass, styles, text, toggleClass, transform, transition, transitionEnd, trigger } from 'dom7/dist/dom7.modular';\n\nlet w\n\nif (typeof window === 'undefined') {\n  w = {\n    navigator: {\n      userAgent: '',\n    },\n    location: {},\n    history: {},\n    addEventListener() {},\n    removeEventListener() {},\n    getComputedStyle() {\n      return {};\n    },\n    Image() {},\n    Date() {},\n  };\n} else {\n  w = window;\n}\n\nconst win = w;\n\nconst Methods = {\n  addClass,\n  removeClass,\n  hasClass,\n  toggleClass,\n  attr,\n  removeAttr,\n  data,\n  transform,\n  transition,\n  on,\n  off,\n  trigger,\n  transitionEnd,\n  outerWidth,\n  outerHeight,\n  offset,\n  css,\n  each,\n  html,\n  text,\n  is,\n  index,\n  eq,\n  append,\n  prepend,\n  next,\n  nextAll,\n  prev,\n  prevAll,\n  parent,\n  parents,\n  closest,\n  find,\n  children,\n  remove,\n  add,\n  styles,\n};\n\nObject.keys(Methods).forEach((methodName) => {\n  $.fn[methodName] = Methods[methodName];\n});\n\nconst Utils = {\n  deleteProps(obj) {\n    const object = obj;\n    Object.keys(object).forEach((key) => {\n      try {\n        object[key] = null;\n      } catch (e) {\n        // no getter for object\n      }\n      try {\n        delete object[key];\n      } catch (e) {\n        // something got wrong\n      }\n    });\n  },\n  nextTick(callback, delay = 0) {\n    return setTimeout(callback, delay);\n  },\n  now() {\n    return Date.now();\n  },\n  getTranslate(el, axis = 'x') {\n    let matrix;\n    let curTransform;\n    let transformMatrix;\n\n    const curStyle = win.getComputedStyle(el, null);\n\n    if (win.WebKitCSSMatrix) {\n      curTransform = curStyle.transform || curStyle.webkitTransform;\n      if (curTransform.split(',').length > 6) {\n        curTransform = curTransform.split(', ').map(a => a.replace(',', '.')).join(', ');\n      }\n      // Some old versions of Webkit choke when 'none' is passed; pass\n      // empty string instead in this case\n      transformMatrix = new win.WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);\n    } else {\n      transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');\n      matrix = transformMatrix.toString().split(',');\n    }\n\n    if (axis === 'x') {\n      // Latest Chrome and webkits Fix\n      if (win.WebKitCSSMatrix) curTransform = transformMatrix.m41;\n      // Crazy IE10 Matrix\n      else if (matrix.length === 16) curTransform = parseFloat(matrix[12]);\n      // Normal Browsers\n      else curTransform = parseFloat(matrix[4]);\n    }\n    if (axis === 'y') {\n      // Latest Chrome and webkits Fix\n      if (win.WebKitCSSMatrix) curTransform = transformMatrix.m42;\n      // Crazy IE10 Matrix\n      else if (matrix.length === 16) curTransform = parseFloat(matrix[13]);\n      // Normal Browsers\n      else curTransform = parseFloat(matrix[5]);\n    }\n    return curTransform || 0;\n  },\n  parseUrlQuery(url) {\n    const query = {};\n    let urlToParse = url || win.location.href;\n    let i;\n    let params;\n    let param;\n    let length;\n    if (typeof urlToParse === 'string' && urlToParse.length) {\n      urlToParse = urlToParse.indexOf('?') > -1 ? urlToParse.replace(/\\S*\\?/, '') : '';\n      params = urlToParse.split('&').filter(paramsPart => paramsPart !== '');\n      length = params.length;\n\n      for (i = 0; i < length; i += 1) {\n        param = params[i].replace(/#\\S+/g, '').split('=');\n        query[decodeURIComponent(param[0])] = typeof param[1] === 'undefined' ? undefined : decodeURIComponent(param[1]) || '';\n      }\n    }\n    return query;\n  },\n  isObject(o) {\n    return typeof o === 'object' && o !== null && o.constructor && o.constructor === Object;\n  },\n  extend(...args) {\n    const to = Object(args[0]);\n    for (let i = 1; i < args.length; i += 1) {\n      const nextSource = args[i];\n      if (nextSource !== undefined && nextSource !== null) {\n        const keysArray = Object.keys(Object(nextSource));\n        for (let nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex += 1) {\n          const nextKey = keysArray[nextIndex];\n          const desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n          if (desc !== undefined && desc.enumerable) {\n            if (Utils.isObject(to[nextKey]) && Utils.isObject(nextSource[nextKey])) {\n              Utils.extend(to[nextKey], nextSource[nextKey]);\n            } else if (!Utils.isObject(to[nextKey]) && Utils.isObject(nextSource[nextKey])) {\n              to[nextKey] = {};\n              Utils.extend(to[nextKey], nextSource[nextKey]);\n            } else {\n              to[nextKey] = nextSource[nextKey];\n            }\n          }\n        }\n      }\n    }\n    return to;\n  },\n};\n\nlet d;\nif (typeof document === 'undefined') {\n  d = {\n    addEventListener() {},\n    removeEventListener() {},\n    activeElement: {\n      blur() {},\n      nodeName: '',\n    },\n    querySelector() {\n      return {};\n    },\n    querySelectorAll() {\n      return [];\n    },\n    createElement() {\n      return {\n        style: {},\n        setAttribute() {},\n        getElementsByTagName() {\n          return [];\n        },\n      };\n    },\n    location: { hash: '' },\n  };\n} else {\n  d = document;\n}\n\nconst doc = d;\n\nconst Support = (function Support() {\n  return {\n    touch: (win.Modernizr && win.Modernizr.touch === true) || (function checkTouch() {\n      return !!(('ontouchstart' in win) || (win.DocumentTouch && doc instanceof win.DocumentTouch));\n    }()),\n\n    transforms3d: (win.Modernizr && win.Modernizr.csstransforms3d === true) || (function checkTransforms3d() {\n      const div = doc.createElement('div').style;\n      return ('webkitPerspective' in div || 'MozPerspective' in div || 'OPerspective' in div || 'MsPerspective' in div || 'perspective' in div);\n    }()),\n\n    flexbox: (function checkFlexbox() {\n      const div = doc.createElement('div').style;\n      const styles$$1 = ('alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient').split(' ');\n      for (let i = 0; i < styles$$1.length; i += 1) {\n        if (styles$$1[i] in div) return true;\n      }\n      return false;\n    }()),\n\n    observer: (function checkObserver() {\n      return ('MutationObserver' in win || 'WebkitMutationObserver' in win);\n    }()),\n\n    passiveListener: (function checkPassiveListener() {\n      let supportsPassive = false;\n      try {\n        const opts = Object.defineProperty({}, 'passive', {\n          get() {\n            supportsPassive = true;\n          },\n        });\n        win.addEventListener('testPassiveListener', null, opts);\n      } catch (e) {\n        // No support\n      }\n      return supportsPassive;\n    }()),\n\n    gestures: (function checkGestures() {\n      return 'ongesturestart' in win;\n    }()),\n  };\n}());\n\nclass SwiperClass {\n  constructor(params = {}) {\n    const self = this;\n    self.params = params;\n\n    // Events\n    self.eventsListeners = {};\n\n    if (self.params && self.params.on) {\n      Object.keys(self.params.on).forEach((eventName) => {\n        self.on(eventName, self.params.on[eventName]);\n      });\n    }\n  }\n  on(events, handler) {\n    const self = this;\n    if (typeof handler !== 'function') return self;\n    events.split(' ').forEach((event) => {\n      if (!self.eventsListeners[event]) self.eventsListeners[event] = [];\n      self.eventsListeners[event].push(handler);\n    });\n    return self;\n  }\n  once(events, handler) {\n    const self = this;\n    if (typeof handler !== 'function') return self;\n    function onceHandler(...args) {\n      handler.apply(self, args);\n      self.off(events, onceHandler);\n    }\n    return self.on(events, onceHandler);\n  }\n  off(events, handler) {\n    const self = this;\n    events.split(' ').forEach((event) => {\n      if (typeof handler === 'undefined') {\n        self.eventsListeners[event] = [];\n      } else {\n        self.eventsListeners[event].forEach((eventHandler, index$$1) => {\n          if (eventHandler === handler) {\n            self.eventsListeners[event].splice(index$$1, 1);\n          }\n        });\n      }\n    });\n    return self;\n  }\n  emit(...args) {\n    const self = this;\n    if (!self.eventsListeners) return self;\n    let events;\n    let data$$1;\n    let context;\n    if (typeof args[0] === 'string' || Array.isArray(args[0])) {\n      events = args[0];\n      data$$1 = args.slice(1, args.length);\n      context = self;\n    } else {\n      events = args[0].events;\n      data$$1 = args[0].data;\n      context = args[0].context || self;\n    }\n    const eventsArray = Array.isArray(events) ? events : events.split(' ');\n    eventsArray.forEach((event) => {\n      if (self.eventsListeners[event]) {\n        const handlers = [];\n        self.eventsListeners[event].forEach((eventHandler) => {\n          handlers.push(eventHandler);\n        });\n        handlers.forEach((eventHandler) => {\n          eventHandler.apply(context, data$$1);\n        });\n      }\n    });\n    return self;\n  }\n  useModulesParams(instanceParams) {\n    const instance = this;\n    if (!instance.modules) return;\n    Object.keys(instance.modules).forEach((moduleName) => {\n      const module = instance.modules[moduleName];\n      // Extend params\n      if (module.params) {\n        Utils.extend(instanceParams, module.params);\n      }\n    });\n  }\n  useModules(modulesParams = {}) {\n    const instance = this;\n    if (!instance.modules) return;\n    Object.keys(instance.modules).forEach((moduleName) => {\n      const module = instance.modules[moduleName];\n      const moduleParams = modulesParams[moduleName] || {};\n      // Extend instance methods and props\n      if (module.instance) {\n        Object.keys(module.instance).forEach((modulePropName) => {\n          const moduleProp = module.instance[modulePropName];\n          if (typeof moduleProp === 'function') {\n            instance[modulePropName] = moduleProp.bind(instance);\n          } else {\n            instance[modulePropName] = moduleProp;\n          }\n        });\n      }\n      // Add event listeners\n      if (module.on && instance.on) {\n        Object.keys(module.on).forEach((moduleEventName) => {\n          instance.on(moduleEventName, module.on[moduleEventName]);\n        });\n      }\n\n      // Module create callback\n      if (module.create) {\n        module.create.bind(instance)(moduleParams);\n      }\n    });\n  }\n  static set components(components) {\n    const Class = this;\n    if (!Class.use) return;\n    Class.use(components);\n  }\n  static installModule(module, ...params) {\n    const Class = this;\n    if (!Class.prototype.modules) Class.prototype.modules = {};\n    const name = module.name || (`${Object.keys(Class.prototype.modules).length}_${Utils.now()}`);\n    Class.prototype.modules[name] = module;\n    // Prototype\n    if (module.proto) {\n      Object.keys(module.proto).forEach((key) => {\n        Class.prototype[key] = module.proto[key];\n      });\n    }\n    // Class\n    if (module.static) {\n      Object.keys(module.static).forEach((key) => {\n        Class[key] = module.static[key];\n      });\n    }\n    // Callback\n    if (module.install) {\n      module.install.apply(Class, params);\n    }\n    return Class;\n  }\n  static use(module, ...params) {\n    const Class = this;\n    if (Array.isArray(module)) {\n      module.forEach(m => Class.installModule(m));\n      return Class;\n    }\n    return Class.installModule(module, ...params);\n  }\n}\n\nvar updateSize = function () {\n  const swiper = this;\n  let width;\n  let height;\n  const $el = swiper.$el;\n  if (typeof swiper.params.width !== 'undefined') {\n    width = swiper.params.width;\n  } else {\n    width = $el[0].clientWidth;\n  }\n  if (typeof swiper.params.height !== 'undefined') {\n    height = swiper.params.height;\n  } else {\n    height = $el[0].clientHeight;\n  }\n  if ((width === 0 && swiper.isHorizontal()) || (height === 0 && swiper.isVertical())) {\n    return;\n  }\n\n  // Subtract paddings\n  width = width - parseInt($el.css('padding-left'), 10) - parseInt($el.css('padding-right'), 10);\n  height = height - parseInt($el.css('padding-top'), 10) - parseInt($el.css('padding-bottom'), 10);\n\n  Utils.extend(swiper, {\n    width,\n    height,\n    size: swiper.isHorizontal() ? width : height,\n  });\n};\n\nvar updateSlides = function () {\n  const swiper = this;\n  const params = swiper.params;\n\n  const { $wrapperEl, size: swiperSize, rtl, wrongRTL } = swiper;\n  const slides = $wrapperEl.children(`.${swiper.params.slideClass}`);\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n  const slidesLength = isVirtual ? swiper.virtual.slides.length : slides.length;\n  let snapGrid = [];\n  const slidesGrid = [];\n  const slidesSizesGrid = [];\n\n  let offsetBefore = params.slidesOffsetBefore;\n  if (typeof offsetBefore === 'function') {\n    offsetBefore = params.slidesOffsetBefore.call(swiper);\n  }\n\n  let offsetAfter = params.slidesOffsetAfter;\n  if (typeof offsetAfter === 'function') {\n    offsetAfter = params.slidesOffsetAfter.call(swiper);\n  }\n\n  const previousSlidesLength = slidesLength;\n  const previousSnapGridLength = swiper.snapGrid.length;\n  const previousSlidesGridLength = swiper.snapGrid.length;\n\n  let spaceBetween = params.spaceBetween;\n  let slidePosition = -offsetBefore;\n  let prevSlideSize = 0;\n  let index$$1 = 0;\n  if (typeof swiperSize === 'undefined') {\n    return;\n  }\n  if (typeof spaceBetween === 'string' && spaceBetween.indexOf('%') >= 0) {\n    spaceBetween = (parseFloat(spaceBetween.replace('%', '')) / 100) * swiperSize;\n  }\n\n  swiper.virtualSize = -spaceBetween;\n\n  // reset margins\n  if (rtl) slides.css({ marginLeft: '', marginTop: '' });\n  else slides.css({ marginRight: '', marginBottom: '' });\n\n  let slidesNumberEvenToRows;\n  if (params.slidesPerColumn > 1) {\n    if (Math.floor(slidesLength / params.slidesPerColumn) === slidesLength / swiper.params.slidesPerColumn) {\n      slidesNumberEvenToRows = slidesLength;\n    } else {\n      slidesNumberEvenToRows = Math.ceil(slidesLength / params.slidesPerColumn) * params.slidesPerColumn;\n    }\n    if (params.slidesPerView !== 'auto' && params.slidesPerColumnFill === 'row') {\n      slidesNumberEvenToRows = Math.max(slidesNumberEvenToRows, params.slidesPerView * params.slidesPerColumn);\n    }\n  }\n\n  // Calc slides\n  let slideSize;\n  const slidesPerColumn = params.slidesPerColumn;\n  const slidesPerRow = slidesNumberEvenToRows / slidesPerColumn;\n  const numFullColumns = slidesPerRow - ((params.slidesPerColumn * slidesPerRow) - slidesLength);\n  for (let i = 0; i < slidesLength; i += 1) {\n    slideSize = 0;\n    const slide = slides.eq(i);\n    if (params.slidesPerColumn > 1) {\n      // Set slides order\n      let newSlideOrderIndex;\n      let column;\n      let row;\n      if (params.slidesPerColumnFill === 'column') {\n        column = Math.floor(i / slidesPerColumn);\n        row = i - (column * slidesPerColumn);\n        if (column > numFullColumns || (column === numFullColumns && row === slidesPerColumn - 1)) {\n          row += 1;\n          if (row >= slidesPerColumn) {\n            row = 0;\n            column += 1;\n          }\n        }\n        newSlideOrderIndex = column + ((row * slidesNumberEvenToRows) / slidesPerColumn);\n        slide\n          .css({\n            '-webkit-box-ordinal-group': newSlideOrderIndex,\n            '-moz-box-ordinal-group': newSlideOrderIndex,\n            '-ms-flex-order': newSlideOrderIndex,\n            '-webkit-order': newSlideOrderIndex,\n            order: newSlideOrderIndex,\n          });\n      } else {\n        row = Math.floor(i / slidesPerRow);\n        column = i - (row * slidesPerRow);\n      }\n      slide\n        .css(\n          `margin-${swiper.isHorizontal() ? 'top' : 'left'}`,\n          (row !== 0 && params.spaceBetween) && (`${params.spaceBetween}px`)\n        )\n        .attr('data-swiper-column', column)\n        .attr('data-swiper-row', row);\n    }\n    if (slide.css('display') === 'none') continue; // eslint-disable-line\n    if (params.slidesPerView === 'auto') {\n      slideSize = swiper.isHorizontal() ? slide.outerWidth(true) : slide.outerHeight(true);\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n    } else {\n      slideSize = (swiperSize - ((params.slidesPerView - 1) * spaceBetween)) / params.slidesPerView;\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n\n      if (slides[i]) {\n        if (swiper.isHorizontal()) {\n          slides[i].style.width = `${slideSize}px`;\n        } else {\n          slides[i].style.height = `${slideSize}px`;\n        }\n      }\n    }\n    if (slides[i]) {\n      slides[i].swiperSlideSize = slideSize;\n    }\n    slidesSizesGrid.push(slideSize);\n\n\n    if (params.centeredSlides) {\n      slidePosition = slidePosition + (slideSize / 2) + (prevSlideSize / 2) + spaceBetween;\n      if (prevSlideSize === 0 && i !== 0) slidePosition = slidePosition - (swiperSize / 2) - spaceBetween;\n      if (i === 0) slidePosition = slidePosition - (swiperSize / 2) - spaceBetween;\n      if (Math.abs(slidePosition) < 1 / 1000) slidePosition = 0;\n      if ((index$$1) % params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n    } else {\n      if ((index$$1) % params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n      slidePosition = slidePosition + slideSize + spaceBetween;\n    }\n\n    swiper.virtualSize += slideSize + spaceBetween;\n\n    prevSlideSize = slideSize;\n\n    index$$1 += 1;\n  }\n  swiper.virtualSize = Math.max(swiper.virtualSize, swiperSize) + offsetAfter;\n  let newSlidesGrid;\n\n  if (\n    rtl && wrongRTL && (params.effect === 'slide' || params.effect === 'coverflow')) {\n    $wrapperEl.css({ width: `${swiper.virtualSize + params.spaceBetween}px` });\n  }\n  if (!Support.flexbox || params.setWrapperSize) {\n    if (swiper.isHorizontal()) $wrapperEl.css({ width: `${swiper.virtualSize + params.spaceBetween}px` });\n    else $wrapperEl.css({ height: `${swiper.virtualSize + params.spaceBetween}px` });\n  }\n\n  if (params.slidesPerColumn > 1) {\n    swiper.virtualSize = (slideSize + params.spaceBetween) * slidesNumberEvenToRows;\n    swiper.virtualSize = Math.ceil(swiper.virtualSize / params.slidesPerColumn) - params.spaceBetween;\n    if (swiper.isHorizontal()) $wrapperEl.css({ width: `${swiper.virtualSize + params.spaceBetween}px` });\n    else $wrapperEl.css({ height: `${swiper.virtualSize + params.spaceBetween}px` });\n    if (params.centeredSlides) {\n      newSlidesGrid = [];\n      for (let i = 0; i < snapGrid.length; i += 1) {\n        if (snapGrid[i] < swiper.virtualSize + snapGrid[0]) newSlidesGrid.push(snapGrid[i]);\n      }\n      snapGrid = newSlidesGrid;\n    }\n  }\n\n  // Remove last grid elements depending on width\n  if (!params.centeredSlides) {\n    newSlidesGrid = [];\n    for (let i = 0; i < snapGrid.length; i += 1) {\n      if (snapGrid[i] <= swiper.virtualSize - swiperSize) {\n        newSlidesGrid.push(snapGrid[i]);\n      }\n    }\n    snapGrid = newSlidesGrid;\n    if (Math.floor(swiper.virtualSize - swiperSize) - Math.floor(snapGrid[snapGrid.length - 1]) > 1) {\n      snapGrid.push(swiper.virtualSize - swiperSize);\n    }\n  }\n  if (snapGrid.length === 0) snapGrid = [0];\n\n  if (params.spaceBetween !== 0) {\n    if (swiper.isHorizontal()) {\n      if (rtl) slides.css({ marginLeft: `${spaceBetween}px` });\n      else slides.css({ marginRight: `${spaceBetween}px` });\n    } else slides.css({ marginBottom: `${spaceBetween}px` });\n  }\n\n  Utils.extend(swiper, {\n    slides,\n    snapGrid,\n    slidesGrid,\n    slidesSizesGrid,\n  });\n\n  if (slidesLength !== previousSlidesLength) {\n    swiper.emit('slidesLengthChange');\n  }\n  if (snapGrid.length !== previousSnapGridLength) {\n    swiper.emit('snapGridLengthChange');\n  }\n  if (slidesGrid.length !== previousSlidesGridLength) {\n    swiper.emit('slidesGridLengthChange');\n  }\n\n  if (params.watchSlidesProgress || params.watchSlidesVisibility) {\n    swiper.updateSlidesOffset();\n  }\n};\n\nvar updateAutoHeight = function () {\n  const swiper = this;\n  const activeSlides = [];\n  let newHeight = 0;\n  let i;\n\n  // Find slides currently in view\n  if (swiper.params.slidesPerView !== 'auto' && swiper.params.slidesPerView > 1) {\n    for (i = 0; i < Math.ceil(swiper.params.slidesPerView); i += 1) {\n      const index$$1 = swiper.activeIndex + i;\n      if (index$$1 > swiper.slides.length) break;\n      activeSlides.push(swiper.slides.eq(index$$1)[0]);\n    }\n  } else {\n    activeSlides.push(swiper.slides.eq(swiper.activeIndex)[0]);\n  }\n\n  // Find new height from highest slide in view\n  for (i = 0; i < activeSlides.length; i += 1) {\n    if (typeof activeSlides[i] !== 'undefined') {\n      const height = activeSlides[i].offsetHeight;\n      newHeight = height > newHeight ? height : newHeight;\n    }\n  }\n\n  // Update Height\n  if (newHeight) swiper.$wrapperEl.css('height', `${newHeight}px`);\n};\n\nvar updateSlidesOffset = function () {\n  const swiper = this;\n  const slides = swiper.slides;\n  for (let i = 0; i < slides.length; i += 1) {\n    slides[i].swiperSlideOffset = swiper.isHorizontal() ? slides[i].offsetLeft : slides[i].offsetTop;\n  }\n};\n\nvar updateSlidesProgress = function (translate = this.translate || 0) {\n  const swiper = this;\n  const params = swiper.params;\n\n  const { slides, rtl } = swiper;\n\n  if (slides.length === 0) return;\n  if (typeof slides[0].swiperSlideOffset === 'undefined') swiper.updateSlidesOffset();\n\n  let offsetCenter = -translate;\n  if (rtl) offsetCenter = translate;\n\n  // Visible Slides\n  slides.removeClass(params.slideVisibleClass);\n\n  for (let i = 0; i < slides.length; i += 1) {\n    const slide = slides[i];\n    const slideProgress =\n      (\n        (offsetCenter + (params.centeredSlides ? swiper.minTranslate() : 0)) - slide.swiperSlideOffset\n      ) / (slide.swiperSlideSize + params.spaceBetween);\n    if (params.watchSlidesVisibility) {\n      const slideBefore = -(offsetCenter - slide.swiperSlideOffset);\n      const slideAfter = slideBefore + swiper.slidesSizesGrid[i];\n      const isVisible =\n                (slideBefore >= 0 && slideBefore < swiper.size) ||\n                (slideAfter > 0 && slideAfter <= swiper.size) ||\n                (slideBefore <= 0 && slideAfter >= swiper.size);\n      if (isVisible) {\n        slides.eq(i).addClass(params.slideVisibleClass);\n      }\n    }\n    slide.progress = rtl ? -slideProgress : slideProgress;\n  }\n};\n\nvar updateProgress = function (translate = this.translate || 0) {\n  const swiper = this;\n  const params = swiper.params;\n\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n  let { progress, isBeginning, isEnd } = swiper;\n  const wasBeginning = isBeginning;\n  const wasEnd = isEnd;\n  if (translatesDiff === 0) {\n    progress = 0;\n    isBeginning = true;\n    isEnd = true;\n  } else {\n    progress = (translate - swiper.minTranslate()) / (translatesDiff);\n    isBeginning = progress <= 0;\n    isEnd = progress >= 1;\n  }\n  Utils.extend(swiper, {\n    progress,\n    isBeginning,\n    isEnd,\n  });\n\n  if (params.watchSlidesProgress || params.watchSlidesVisibility) swiper.updateSlidesProgress(translate);\n\n  if (isBeginning && !wasBeginning) {\n    swiper.emit('reachBeginning toEdge');\n  }\n  if (isEnd && !wasEnd) {\n    swiper.emit('reachEnd toEdge');\n  }\n  if ((wasBeginning && !isBeginning) || (wasEnd && !isEnd)) {\n    swiper.emit('fromEdge');\n  }\n\n  swiper.emit('progress', progress);\n};\n\nvar updateSlidesClasses = function () {\n  const swiper = this;\n\n  const { slides, params, $wrapperEl, activeIndex, realIndex } = swiper;\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n\n  slides.removeClass(`${params.slideActiveClass} ${params.slideNextClass} ${params.slidePrevClass} ${params.slideDuplicateActiveClass} ${params.slideDuplicateNextClass} ${params.slideDuplicatePrevClass}`);\n\n  let activeSlide;\n  if (isVirtual) {\n    activeSlide = swiper.$wrapperEl.find(`.${params.slideClass}[data-swiper-slide-index=\"${activeIndex}\"]`);\n  } else {\n    activeSlide = slides.eq(activeIndex);\n  }\n\n  // Active classes\n  activeSlide.addClass(params.slideActiveClass);\n\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (activeSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl\n        .children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${realIndex}\"]`)\n        .addClass(params.slideDuplicateActiveClass);\n    } else {\n      $wrapperEl\n        .children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${realIndex}\"]`)\n        .addClass(params.slideDuplicateActiveClass);\n    }\n  }\n  // Next Slide\n  let nextSlide = activeSlide.nextAll(`.${params.slideClass}`).eq(0).addClass(params.slideNextClass);\n  if (params.loop && nextSlide.length === 0) {\n    nextSlide = slides.eq(0);\n    nextSlide.addClass(params.slideNextClass);\n  }\n  // Prev Slide\n  let prevSlide = activeSlide.prevAll(`.${params.slideClass}`).eq(0).addClass(params.slidePrevClass);\n  if (params.loop && prevSlide.length === 0) {\n    prevSlide = slides.eq(-1);\n    prevSlide.addClass(params.slidePrevClass);\n  }\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (nextSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl\n        .children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${nextSlide.attr('data-swiper-slide-index')}\"]`)\n        .addClass(params.slideDuplicateNextClass);\n    } else {\n      $wrapperEl\n        .children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${nextSlide.attr('data-swiper-slide-index')}\"]`)\n        .addClass(params.slideDuplicateNextClass);\n    }\n    if (prevSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl\n        .children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${prevSlide.attr('data-swiper-slide-index')}\"]`)\n        .addClass(params.slideDuplicatePrevClass);\n    } else {\n      $wrapperEl\n        .children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${prevSlide.attr('data-swiper-slide-index')}\"]`)\n        .addClass(params.slideDuplicatePrevClass);\n    }\n  }\n};\n\nvar updateActiveIndex = function (newActiveIndex) {\n  const swiper = this;\n  const translate = swiper.rtl ? swiper.translate : -swiper.translate;\n  const { slidesGrid, snapGrid, params, activeIndex: previousIndex, realIndex: previousRealIndex, snapIndex: previousSnapIndex } = swiper;\n  let activeIndex = newActiveIndex;\n  let snapIndex;\n  if (typeof activeIndex === 'undefined') {\n    for (let i = 0; i < slidesGrid.length; i += 1) {\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1] - ((slidesGrid[i + 1] - slidesGrid[i]) / 2)) {\n          activeIndex = i;\n        } else if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1]) {\n          activeIndex = i + 1;\n        }\n      } else if (translate >= slidesGrid[i]) {\n        activeIndex = i;\n      }\n    }\n    // Normalize slideIndex\n    if (params.normalizeSlideIndex) {\n      if (activeIndex < 0 || typeof activeIndex === 'undefined') activeIndex = 0;\n    }\n  }\n  if (snapGrid.indexOf(translate) >= 0) {\n    snapIndex = snapGrid.indexOf(translate);\n  } else {\n    snapIndex = Math.floor(activeIndex / params.slidesPerGroup);\n  }\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n  if (activeIndex === previousIndex) {\n    if (snapIndex !== previousSnapIndex) {\n      swiper.snapIndex = snapIndex;\n      swiper.emit('snapIndexChange');\n    }\n    return;\n  }\n\n  // Get real index\n  const realIndex = parseInt(swiper.slides.eq(activeIndex).attr('data-swiper-slide-index') || activeIndex, 10);\n\n  Utils.extend(swiper, {\n    snapIndex,\n    realIndex,\n    previousIndex,\n    activeIndex,\n  });\n  swiper.emit('activeIndexChange');\n  swiper.emit('snapIndexChange');\n  if (previousRealIndex !== realIndex) {\n    swiper.emit('realIndexChange');\n  }\n  swiper.emit('slideChange');\n};\n\nvar updateClickedSlide = function (e) {\n  const swiper = this;\n  const params = swiper.params;\n  const slide = $(e.target).closest(`.${params.slideClass}`)[0];\n  let slideFound = false;\n  if (slide) {\n    for (let i = 0; i < swiper.slides.length; i += 1) {\n      if (swiper.slides[i] === slide) slideFound = true;\n    }\n  }\n\n  if (slide && slideFound) {\n    swiper.clickedSlide = slide;\n    if (swiper.virtual && swiper.params.virtual.enabled) {\n      swiper.clickedIndex = parseInt($(slide).attr('data-swiper-slide-index'), 10);\n    } else {\n      swiper.clickedIndex = $(slide).index();\n    }\n  } else {\n    swiper.clickedSlide = undefined;\n    swiper.clickedIndex = undefined;\n    return;\n  }\n  if (params.slideToClickedSlide && swiper.clickedIndex !== undefined && swiper.clickedIndex !== swiper.activeIndex) {\n    swiper.slideToClickedSlide();\n  }\n};\n\nvar update = {\n  updateSize,\n  updateSlides,\n  updateAutoHeight,\n  updateSlidesOffset,\n  updateSlidesProgress,\n  updateProgress,\n  updateSlidesClasses,\n  updateActiveIndex,\n  updateClickedSlide,\n};\n\nvar getTranslate = function (axis = this.isHorizontal() ? 'x' : 'y') {\n  const swiper = this;\n\n  const { params, rtl, translate, $wrapperEl } = swiper;\n\n  if (params.virtualTranslate) {\n    return rtl ? -translate : translate;\n  }\n\n  let currentTranslate = Utils.getTranslate($wrapperEl[0], axis);\n  if (rtl) currentTranslate = -currentTranslate;\n\n  return currentTranslate || 0;\n};\n\nvar setTranslate = function (translate, byController) {\n  const swiper = this;\n  const { rtl, params, $wrapperEl, progress } = swiper;\n  let x = 0;\n  let y = 0;\n  const z = 0;\n\n  if (swiper.isHorizontal()) {\n    x = rtl ? -translate : translate;\n  } else {\n    y = translate;\n  }\n\n  if (params.roundLengths) {\n    x = Math.floor(x);\n    y = Math.floor(y);\n  }\n\n  if (!params.virtualTranslate) {\n    if (Support.transforms3d) $wrapperEl.transform(`translate3d(${x}px, ${y}px, ${z}px)`);\n    else $wrapperEl.transform(`translate(${x}px, ${y}px)`);\n  }\n\n  swiper.translate = swiper.isHorizontal() ? x : y;\n\n  // Check if we need to update progress\n  let newProgress;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (translate - swiper.minTranslate()) / (translatesDiff);\n  }\n  if (newProgress !== progress) {\n    swiper.updateProgress(translate);\n  }\n\n  swiper.emit('setTranslate', swiper.translate, byController);\n};\n\nvar minTranslate = function () {\n  return (-this.snapGrid[0]);\n};\n\nvar maxTranslate = function () {\n  return (-this.snapGrid[this.snapGrid.length - 1]);\n};\n\nvar translate = {\n  getTranslate,\n  setTranslate,\n  minTranslate,\n  maxTranslate,\n};\n\nvar setTransition = function (duration, byController) {\n  const swiper = this;\n\n  swiper.$wrapperEl.transition(duration);\n\n  swiper.emit('setTransition', duration, byController);\n};\n\nvar transitionStart = function (runCallbacks = true) {\n  const swiper = this;\n  const { activeIndex, params, previousIndex } = swiper;\n  if (params.autoHeight) {\n    swiper.updateAutoHeight();\n  }\n  swiper.emit('transitionStart');\n\n  if (!runCallbacks) return;\n  if (activeIndex !== previousIndex) {\n    swiper.emit('slideChangeTransitionStart');\n    if (activeIndex > previousIndex) {\n      swiper.emit('slideNextTransitionStart');\n    } else {\n      swiper.emit('slidePrevTransitionStart');\n    }\n  }\n};\n\nvar transitionEnd$1 = function (runCallbacks = true) {\n  const swiper = this;\n  const { activeIndex, previousIndex } = swiper;\n  swiper.animating = false;\n  swiper.setTransition(0);\n\n  swiper.emit('transitionEnd');\n  if (runCallbacks) {\n    if (activeIndex !== previousIndex) {\n      swiper.emit('slideChangeTransitionEnd');\n      if (activeIndex > previousIndex) {\n        swiper.emit('slideNextTransitionEnd');\n      } else {\n        swiper.emit('slidePrevTransitionEnd');\n      }\n    }\n  }\n};\n\nvar transition$1 = {\n  setTransition,\n  transitionStart,\n  transitionEnd: transitionEnd$1,\n};\n\nconst Browser = (function Browser() {\n  function isIE9() {\n    // create temporary DIV\n    const div = doc.createElement('div');\n    // add content to tmp DIV which is wrapped into the IE HTML conditional statement\n    div.innerHTML = '<!--[if lte IE 9]><i></i><![endif]-->';\n    // return true / false value based on what will browser render\n    return div.getElementsByTagName('i').length === 1;\n  }\n  function isSafari() {\n    const ua = win.navigator.userAgent.toLowerCase();\n    return (ua.indexOf('safari') >= 0 && ua.indexOf('chrome') < 0 && ua.indexOf('android') < 0);\n  }\n  return {\n    isSafari: isSafari(),\n    isUiWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(win.navigator.userAgent),\n    ie: win.navigator.pointerEnabled || win.navigator.msPointerEnabled,\n    ieTouch: (win.navigator.msPointerEnabled && win.navigator.msMaxTouchPoints > 1) ||\n             (win.navigator.pointerEnabled && win.navigator.maxTouchPoints > 1),\n    lteIE9: isIE9(),\n  };\n}());\n\nvar slideTo = function (index$$1 = 0, speed = this.params.speed, runCallbacks = true, internal) {\n  const swiper = this;\n  let slideIndex = index$$1;\n  if (slideIndex < 0) slideIndex = 0;\n\n  const { params, snapGrid, slidesGrid, previousIndex, activeIndex, rtl, $wrapperEl } = swiper;\n\n  let snapIndex = Math.floor(slideIndex / params.slidesPerGroup);\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n\n  if ((activeIndex || params.initialSlide || 0) === (previousIndex || 0) && runCallbacks) {\n    swiper.emit('beforeSlideChangeStart');\n  }\n\n  const translate = -snapGrid[snapIndex];\n\n  // Update progress\n  swiper.updateProgress(translate);\n\n  // Normalize slideIndex\n  if (params.normalizeSlideIndex) {\n    for (let i = 0; i < slidesGrid.length; i += 1) {\n      if (-Math.floor(translate * 100) >= Math.floor(slidesGrid[i] * 100)) {\n        slideIndex = i;\n      }\n    }\n  }\n\n  // Directions locks\n  if (!swiper.allowSlideNext && translate < swiper.translate && translate < swiper.minTranslate()) {\n    return false;\n  }\n  if (!swiper.allowSlidePrev && translate > swiper.translate && translate > swiper.maxTranslate()) {\n    if ((activeIndex || 0) !== slideIndex) return false;\n  }\n\n  // Update Index\n  if ((rtl && -translate === swiper.translate) || (!rtl && translate === swiper.translate)) {\n    swiper.updateActiveIndex(slideIndex);\n    // Update Height\n    if (params.autoHeight) {\n      swiper.updateAutoHeight();\n    }\n    swiper.updateSlidesClasses();\n    if (params.effect !== 'slide') {\n      swiper.setTranslate(translate);\n    }\n    return false;\n  }\n\n  if (speed === 0 || Browser.lteIE9) {\n    swiper.setTransition(0);\n    swiper.setTranslate(translate);\n    swiper.updateActiveIndex(slideIndex);\n    swiper.updateSlidesClasses();\n    swiper.emit('beforeTransitionStart', speed, internal);\n    swiper.transitionStart(runCallbacks);\n    swiper.transitionEnd(runCallbacks);\n  } else {\n    swiper.setTransition(speed);\n    swiper.setTranslate(translate);\n    swiper.updateActiveIndex(slideIndex);\n    swiper.updateSlidesClasses();\n    swiper.emit('beforeTransitionStart', speed, internal);\n    swiper.transitionStart(runCallbacks);\n    if (!swiper.animating) {\n      swiper.animating = true;\n      $wrapperEl.transitionEnd(() => {\n        if (!swiper || swiper.destroyed) return;\n        swiper.transitionEnd(runCallbacks);\n      });\n    }\n  }\n\n  return true;\n};\n\n/* eslint no-unused-vars: \"off\" */\nvar slideNext = function (speed = this.params.speed, runCallbacks = true, internal) {\n  const swiper = this;\n  const { params, animating } = swiper;\n  if (params.loop) {\n    if (animating) return false;\n    swiper.loopFix();\n    // eslint-disable-next-line\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n    return swiper.slideTo(swiper.activeIndex + params.slidesPerGroup, speed, runCallbacks, internal);\n  }\n  return swiper.slideTo(swiper.activeIndex + params.slidesPerGroup, speed, runCallbacks, internal);\n};\n\n/* eslint no-unused-vars: \"off\" */\nvar slidePrev = function (speed = this.params.speed, runCallbacks = true, internal) {\n  const swiper = this;\n  const { params, animating } = swiper;\n\n  if (params.loop) {\n    if (animating) return false;\n    swiper.loopFix();\n    // eslint-disable-next-line\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n    return swiper.slideTo(swiper.activeIndex - 1, speed, runCallbacks, internal);\n  }\n  return swiper.slideTo(swiper.activeIndex - 1, speed, runCallbacks, internal);\n};\n\n/* eslint no-unused-vars: \"off\" */\nvar slideReset = function (speed = this.params.speed, runCallbacks = true, internal) {\n  const swiper = this;\n  return swiper.slideTo(swiper.activeIndex, speed, runCallbacks, internal);\n};\n\nvar slideToClickedSlide = function () {\n  const swiper = this;\n  const { params, $wrapperEl } = swiper;\n\n  const slidesPerView = params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : params.slidesPerView;\n  let slideToIndex = swiper.clickedIndex;\n  let realIndex;\n  if (params.loop) {\n    if (swiper.animating) return;\n    realIndex = parseInt($(swiper.clickedSlide).attr('data-swiper-slide-index'), 10);\n    if (params.centeredSlides) {\n      if (\n        (slideToIndex < swiper.loopedSlides - (slidesPerView / 2)) ||\n        (slideToIndex > (swiper.slides.length - swiper.loopedSlides) + (slidesPerView / 2))\n      ) {\n        swiper.loopFix();\n        slideToIndex = $wrapperEl\n          .children(`.${params.slideClass}[data-swiper-slide-index=\"${realIndex}\"]:not(.${params.slideDuplicateClass})`)\n          .eq(0)\n          .index();\n\n        Utils.nextTick(() => {\n          swiper.slideTo(slideToIndex);\n        });\n      } else {\n        swiper.slideTo(slideToIndex);\n      }\n    } else if (slideToIndex > swiper.slides.length - slidesPerView) {\n      swiper.loopFix();\n      slideToIndex = $wrapperEl\n        .children(`.${params.slideClass}[data-swiper-slide-index=\"${realIndex}\"]:not(.${params.slideDuplicateClass})`)\n        .eq(0)\n        .index();\n\n      Utils.nextTick(() => {\n        swiper.slideTo(slideToIndex);\n      });\n    } else {\n      swiper.slideTo(slideToIndex);\n    }\n  } else {\n    swiper.slideTo(slideToIndex);\n  }\n};\n\nvar slide = {\n  slideTo,\n  slideNext,\n  slidePrev,\n  slideReset,\n  slideToClickedSlide,\n};\n\nvar loopCreate = function () {\n  const swiper = this;\n  const { params, $wrapperEl } = swiper;\n  // Remove duplicated slides\n  $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}`).remove();\n\n  let slides = $wrapperEl.children(`.${params.slideClass}`);\n\n  if (params.loopFillGroupWithBlank) {\n    const blankSlidesNum = params.slidesPerGroup - (slides.length % params.slidesPerGroup);\n    if (blankSlidesNum !== params.slidesPerGroup) {\n      for (let i = 0; i < blankSlidesNum; i += 1) {\n        const blankNode = $(doc.createElement('div')).addClass(`${params.slideClass} ${params.slideBlankClass}`);\n        $wrapperEl.append(blankNode);\n      }\n      slides = $wrapperEl.children(`.${params.slideClass}`);\n    }\n  }\n\n  if (params.slidesPerView === 'auto' && !params.loopedSlides) params.loopedSlides = slides.length;\n\n  swiper.loopedSlides = parseInt(params.loopedSlides || params.slidesPerView, 10);\n  swiper.loopedSlides += params.loopAdditionalSlides;\n  if (swiper.loopedSlides > slides.length) {\n    swiper.loopedSlides = slides.length;\n  }\n\n  const prependSlides = [];\n  const appendSlides = [];\n  slides.each((index$$1, el) => {\n    const slide = $(el);\n    if (index$$1 < swiper.loopedSlides) appendSlides.push(el);\n    if (index$$1 < slides.length && index$$1 >= slides.length - swiper.loopedSlides) prependSlides.push(el);\n    slide.attr('data-swiper-slide-index', index$$1);\n  });\n  for (let i = 0; i < appendSlides.length; i += 1) {\n    $wrapperEl.append($(appendSlides[i].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n  for (let i = prependSlides.length - 1; i >= 0; i -= 1) {\n    $wrapperEl.prepend($(prependSlides[i].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n};\n\nvar loopFix = function () {\n  const swiper = this;\n  const { params, activeIndex, slides, loopedSlides, allowSlidePrev, allowSlideNext } = swiper;\n  let newIndex;\n  swiper.allowSlidePrev = true;\n  swiper.allowSlideNext = true;\n  // Fix For Negative Oversliding\n  if (activeIndex < loopedSlides) {\n    newIndex = (slides.length - (loopedSlides * 3)) + activeIndex;\n    newIndex += loopedSlides;\n    swiper.slideTo(newIndex, 0, false, true);\n  } else if ((params.slidesPerView === 'auto' && activeIndex >= loopedSlides * 2) || (activeIndex > slides.length - (params.slidesPerView * 2))) {\n    // Fix For Positive Oversliding\n    newIndex = -slides.length + activeIndex + loopedSlides;\n    newIndex += loopedSlides;\n    swiper.slideTo(newIndex, 0, false, true);\n  }\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n};\n\nvar loopDestroy = function () {\n  const swiper = this;\n  const { $wrapperEl, params, slides } = swiper;\n  $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}`).remove();\n  slides.removeAttr('data-swiper-slide-index');\n};\n\nvar loop = {\n  loopCreate,\n  loopFix,\n  loopDestroy,\n};\n\nvar setGrabCursor = function (moving) {\n  const swiper = this;\n  if (Support.touch || !swiper.params.simulateTouch) return;\n  const el = swiper.el;\n  el.style.cursor = 'move';\n  el.style.cursor = moving ? '-webkit-grabbing' : '-webkit-grab';\n  el.style.cursor = moving ? '-moz-grabbin' : '-moz-grab';\n  el.style.cursor = moving ? 'grabbing' : 'grab';\n};\n\nvar unsetGrabCursor = function () {\n  const swiper = this;\n  if (Support.touch) return;\n  swiper.el.style.cursor = '';\n};\n\nvar grabCursor = {\n  setGrabCursor,\n  unsetGrabCursor,\n};\n\nvar appendSlide = function (slides) {\n  const swiper = this;\n  const { $wrapperEl, params } = swiper;\n  if (params.loop) {\n    swiper.loopDestroy();\n  }\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (let i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.append(slides[i]);\n    }\n  } else {\n    $wrapperEl.append(slides);\n  }\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n  if (!(params.observer && Support.observer)) {\n    swiper.update();\n  }\n};\n\nvar prependSlide = function (slides) {\n  const swiper = this;\n  const { params, $wrapperEl, activeIndex } = swiper;\n\n  if (params.loop) {\n    swiper.loopDestroy();\n  }\n  let newActiveIndex = activeIndex + 1;\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (let i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.prepend(slides[i]);\n    }\n    newActiveIndex = activeIndex + slides.length;\n  } else {\n    $wrapperEl.prepend(slides);\n  }\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n  if (!(params.observer && Support.observer)) {\n    swiper.update();\n  }\n  swiper.slideTo(newActiveIndex, 0, false);\n};\n\nvar removeSlide = function (slidesIndexes) {\n  const swiper = this;\n  const { params, $wrapperEl, activeIndex } = swiper;\n\n  if (params.loop) {\n    swiper.loopDestroy();\n    swiper.slides = $wrapperEl.children(`.${params.slideClass}`);\n  }\n  let newActiveIndex = activeIndex;\n  let indexToRemove;\n\n  if (typeof slidesIndexes === 'object' && 'length' in slidesIndexes) {\n    for (let i = 0; i < slidesIndexes.length; i += 1) {\n      indexToRemove = slidesIndexes[i];\n      if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();\n      if (indexToRemove < newActiveIndex) newActiveIndex -= 1;\n    }\n    newActiveIndex = Math.max(newActiveIndex, 0);\n  } else {\n    indexToRemove = slidesIndexes;\n    if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();\n    if (indexToRemove < newActiveIndex) newActiveIndex -= 1;\n    newActiveIndex = Math.max(newActiveIndex, 0);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!(params.observer && Support.observer)) {\n    swiper.update();\n  }\n  if (params.loop) {\n    swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);\n  } else {\n    swiper.slideTo(newActiveIndex, 0, false);\n  }\n};\n\nvar removeAllSlides = function () {\n  const swiper = this;\n\n  const slidesIndexes = [];\n  for (let i = 0; i < swiper.slides.length; i += 1) {\n    slidesIndexes.push(i);\n  }\n  swiper.removeSlide(slidesIndexes);\n};\n\nvar manipulation = {\n  appendSlide,\n  prependSlide,\n  removeSlide,\n  removeAllSlides,\n};\n\nconst Device = (function Device() {\n  const ua = win.navigator.userAgent;\n\n  const device = {\n    ios: false,\n    android: false,\n    androidChrome: false,\n    desktop: false,\n    windows: false,\n    iphone: false,\n    ipod: false,\n    ipad: false,\n    cordova: win.cordova || win.phonegap,\n    phonegap: win.cordova || win.phonegap,\n  };\n\n  const windows = ua.match(/(Windows Phone);?[\\s\\/]+([\\d.]+)?/); // eslint-disable-line\n  const android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/); // eslint-disable-line\n  const ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n  const ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n  const iphone = !ipad && ua.match(/(iPhone\\sOS|iOS)\\s([\\d_]+)/);\n\n\n  // Windows\n  if (windows) {\n    device.os = 'windows';\n    device.osVersion = windows[2];\n    device.windows = true;\n  }\n  // Android\n  if (android && !windows) {\n    device.os = 'android';\n    device.osVersion = android[2];\n    device.android = true;\n    device.androidChrome = ua.toLowerCase().indexOf('chrome') >= 0;\n  }\n  if (ipad || iphone || ipod) {\n    device.os = 'ios';\n    device.ios = true;\n  }\n  // iOS\n  if (iphone && !ipod) {\n    device.osVersion = iphone[2].replace(/_/g, '.');\n    device.iphone = true;\n  }\n  if (ipad) {\n    device.osVersion = ipad[2].replace(/_/g, '.');\n    device.ipad = true;\n  }\n  if (ipod) {\n    device.osVersion = ipod[3] ? ipod[3].replace(/_/g, '.') : null;\n    device.iphone = true;\n  }\n  // iOS 8+ changed UA\n  if (device.ios && device.osVersion && ua.indexOf('Version/') >= 0) {\n    if (device.osVersion.split('.')[0] === '10') {\n      device.osVersion = ua.toLowerCase().split('version/')[1].split(' ')[0];\n    }\n  }\n\n  // Desktop\n  device.desktop = !(device.os || device.android || device.webView);\n\n  // Webview\n  device.webView = (iphone || ipad || ipod) && ua.match(/.*AppleWebKit(?!.*Safari)/i);\n\n  // Minimal UI\n  if (device.os && device.os === 'ios') {\n    const osVersionArr = device.osVersion.split('.');\n    const metaViewport = doc.querySelector('meta[name=\"viewport\"]');\n    device.minimalUi =\n      !device.webView &&\n      (ipod || iphone) &&\n      (osVersionArr[0] * 1 === 7 ? osVersionArr[1] * 1 >= 1 : osVersionArr[0] * 1 > 7) &&\n      metaViewport && metaViewport.getAttribute('content').indexOf('minimal-ui') >= 0;\n  }\n\n  // Pixel Ratio\n  device.pixelRatio = win.devicePixelRatio || 1;\n\n  // Export object\n  return device;\n}());\n\nvar onTouchStart = function (event) {\n  const swiper = this;\n  const data$$1 = swiper.touchEventsData;\n  const { params, touches } = swiper;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n  data$$1.isTouchEvent = e.type === 'touchstart';\n  if (!data$$1.isTouchEvent && 'which' in e && e.which === 3) return;\n  if (data$$1.isTouched && data$$1.isMoved) return;\n  if (params.noSwiping && $(e.target).closest(`.${params.noSwipingClass}`)[0]) {\n    swiper.allowClick = true;\n    return;\n  }\n  if (params.swipeHandler) {\n    if (!$(e).closest(params.swipeHandler)[0]) return;\n  }\n\n  touches.currentX = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n  touches.currentY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  const startX = touches.currentX;\n  const startY = touches.currentY;\n\n  // Do NOT start if iOS edge swipe is detected. Otherwise iOS app (UIWebView) cannot swipe-to-go-back anymore\n  if (Device.ios && params.iOSEdgeSwipeDetection && startX <= params.iOSEdgeSwipeThreshold) {\n    return;\n  }\n  Utils.extend(data$$1, {\n    isTouched: true,\n    isMoved: false,\n    allowTouchCallbacks: true,\n    isScrolling: undefined,\n    startMoving: undefined,\n  });\n\n  touches.startX = startX;\n  touches.startY = startY;\n  data$$1.touchStartTime = Utils.now();\n  swiper.allowClick = true;\n  swiper.updateSize();\n  swiper.swipeDirection = undefined;\n  if (params.threshold > 0) data$$1.allowThresholdMove = false;\n  if (e.type !== 'touchstart') {\n    let preventDefault = true;\n    if ($(e.target).is(data$$1.formElements)) preventDefault = false;\n    if (doc.activeElement && $(doc.activeElement).is(data$$1.formElements)) {\n      doc.activeElement.blur();\n    }\n    if (preventDefault) {\n      e.preventDefault();\n    }\n  }\n  swiper.emit('touchStart', e);\n};\n\nvar onTouchMove = function (event) {\n  const swiper = this;\n  const data$$1 = swiper.touchEventsData;\n  const { params, touches, rtl } = swiper;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n  if (data$$1.isTouchEvent && e.type === 'mousemove') return;\n  const pageX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n  const pageY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n  if (e.preventedByNestedSwiper) {\n    touches.startX = pageX;\n    touches.startY = pageY;\n    return;\n  }\n  if (!swiper.allowTouchMove) {\n    // isMoved = true;\n    swiper.allowClick = false;\n    if (data$$1.isTouched) {\n      Utils.extend(touches, {\n        startX: pageX,\n        startY: pageY,\n        currentX: pageX,\n        currentY: pageY,\n      });\n      data$$1.touchStartTime = Utils.now();\n    }\n    return;\n  }\n  if (data$$1.isTouchEvent && params.touchReleaseOnEdges && !params.loop) {\n    if (swiper.isVertical()) {\n      // Vertical\n      if (\n        (touches.currentY < touches.startY && swiper.translate <= swiper.maxTranslate()) ||\n        (touches.currentY > touches.startY && swiper.translate >= swiper.minTranslate())\n      ) {\n        return;\n      }\n    } else if (\n      (touches.currentX < touches.startX && swiper.translate <= swiper.maxTranslate()) ||\n      (touches.currentX > touches.startX && swiper.translate >= swiper.minTranslate())\n    ) {\n      return;\n    }\n  }\n  if (data$$1.isTouchEvent && doc.activeElement) {\n    if (e.target === doc.activeElement && $(e.target).is(data$$1.formElements)) {\n      data$$1.isMoved = true;\n      swiper.allowClick = false;\n      return;\n    }\n  }\n  if (data$$1.allowTouchCallbacks) {\n    swiper.emit('touchMove', e);\n  }\n  if (e.targetTouches && e.targetTouches.length > 1) return;\n\n  touches.currentX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n  touches.currentY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\n  if (typeof data$$1.isScrolling === 'undefined') {\n    let touchAngle;\n    if ((swiper.isHorizontal() && touches.currentY === touches.startY) || (swiper.isVertical() && touches.currentX === touches.startX)) {\n      data$$1.isScrolling = false;\n    } else {\n      touchAngle = (Math.atan2(Math.abs(touches.currentY - touches.startY), Math.abs(touches.currentX - touches.startX)) * 180) / Math.PI;\n      data$$1.isScrolling = swiper.isHorizontal() ? touchAngle > params.touchAngle : (90 - touchAngle > params.touchAngle);\n    }\n  }\n  if (data$$1.isScrolling) {\n    swiper.emit('touchMoveOpposite', e);\n  }\n  if (typeof startMoving === 'undefined') {\n    if (touches.currentX !== touches.startX || touches.currentY !== touches.startY) {\n      data$$1.startMoving = true;\n    }\n  }\n  if (!data$$1.isTouched) return;\n  if (data$$1.isScrolling) {\n    data$$1.isTouched = false;\n    return;\n  }\n  if (!data$$1.startMoving) {\n    return;\n  }\n  swiper.allowClick = false;\n  e.preventDefault();\n  if (params.touchMoveStopPropagation && !params.nested) {\n    e.stopPropagation();\n  }\n\n  if (!data$$1.isMoved) {\n    if (params.loop) {\n      swiper.loopFix();\n    }\n    data$$1.startTranslate = swiper.getTranslate();\n    swiper.setTransition(0);\n    if (swiper.animating) {\n      swiper.$wrapperEl.trigger('webkitTransitionEnd transitionend');\n    }\n    data$$1.allowMomentumBounce = false;\n    // Grab Cursor\n    if (params.grabCursor && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n      swiper.setGrabCursor(true);\n    }\n    swiper.emit('sliderFirstMove', e);\n  }\n  swiper.emit('sliderMove', e);\n  data$$1.isMoved = true;\n\n  let diff = swiper.isHorizontal() ? touches.currentX - touches.startX : touches.currentY - touches.startY;\n  touches.diff = diff;\n\n  diff *= params.touchRatio;\n  if (rtl) diff = -diff;\n\n  swiper.swipeDirection = diff > 0 ? 'prev' : 'next';\n  data$$1.currentTranslate = diff + data$$1.startTranslate;\n\n  let disableParentSwiper = true;\n  let resistanceRatio = params.resistanceRatio;\n  if (params.touchReleaseOnEdges) {\n    resistanceRatio = 0;\n  }\n  if ((diff > 0 && data$$1.currentTranslate > swiper.minTranslate())) {\n    disableParentSwiper = false;\n    if (params.resistance) data$$1.currentTranslate = (swiper.minTranslate() - 1) + ((-swiper.minTranslate() + data$$1.startTranslate + diff) ** resistanceRatio);\n  } else if (diff < 0 && data$$1.currentTranslate < swiper.maxTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data$$1.currentTranslate = (swiper.maxTranslate() + 1) - ((swiper.maxTranslate() - data$$1.startTranslate - diff) ** resistanceRatio);\n  }\n\n  if (disableParentSwiper) {\n    e.preventedByNestedSwiper = true;\n  }\n\n  // Directions locks\n  if (!swiper.allowSlideNext && swiper.swipeDirection === 'next' && data$$1.currentTranslate < data$$1.startTranslate) {\n    data$$1.currentTranslate = data$$1.startTranslate;\n  }\n  if (!swiper.allowSlidePrev && swiper.swipeDirection === 'prev' && data$$1.currentTranslate > data$$1.startTranslate) {\n    data$$1.currentTranslate = data$$1.startTranslate;\n  }\n\n\n  // Threshold\n  if (params.threshold > 0) {\n    if (Math.abs(diff) > params.threshold || data$$1.allowThresholdMove) {\n      if (!data$$1.allowThresholdMove) {\n        data$$1.allowThresholdMove = true;\n        touches.startX = touches.currentX;\n        touches.startY = touches.currentY;\n        data$$1.currentTranslate = data$$1.startTranslate;\n        touches.diff = swiper.isHorizontal() ? touches.currentX - touches.startX : touches.currentY - touches.startY;\n        return;\n      }\n    } else {\n      data$$1.currentTranslate = data$$1.startTranslate;\n      return;\n    }\n  }\n\n  if (!params.followFinger) return;\n\n  // Update active index in free mode\n  if (params.freeMode || params.watchSlidesProgress || params.watchSlidesVisibility) {\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n  if (params.freeMode) {\n    // Velocity\n    if (data$$1.velocities.length === 0) {\n      data$$1.velocities.push({\n        position: touches[swiper.isHorizontal() ? 'startX' : 'startY'],\n        time: data$$1.touchStartTime,\n      });\n    }\n    data$$1.velocities.push({\n      position: touches[swiper.isHorizontal() ? 'currentX' : 'currentY'],\n      time: Utils.now(),\n    });\n  }\n  // Update progress\n  swiper.updateProgress(data$$1.currentTranslate);\n  // Update translate\n  swiper.setTranslate(data$$1.currentTranslate);\n};\n\nvar onTouchEnd = function (event) {\n  const swiper = this;\n  const data$$1 = swiper.touchEventsData;\n\n  const { params, touches, rtl, $wrapperEl, slidesGrid, snapGrid } = swiper;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n  if (data$$1.allowTouchCallbacks) {\n    swiper.emit('touchEnd', e);\n  }\n  data$$1.allowTouchCallbacks = false;\n  if (!data$$1.isTouched) return;\n  // Return Grab Cursor\n  if (params.grabCursor && data$$1.isMoved && data$$1.isTouched && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n    swiper.setGrabCursor(false);\n  }\n\n  // Time diff\n  const touchEndTime = Utils.now();\n  const timeDiff = touchEndTime - data$$1.touchStartTime;\n\n  // Tap, doubleTap, Click\n  if (swiper.allowClick) {\n    swiper.updateClickedSlide(e);\n    swiper.emit('tap', e);\n    if (timeDiff < 300 && (touchEndTime - data$$1.lastClickTime) > 300) {\n      if (data$$1.clickTimeout) clearTimeout(data$$1.clickTimeout);\n      data$$1.clickTimeout = Utils.nextTick(() => {\n        if (!swiper || swiper.destroyed) return;\n        swiper.emit('click', e);\n      }, 300);\n    }\n    if (timeDiff < 300 && (touchEndTime - data$$1.lastClickTime) < 300) {\n      if (data$$1.clickTimeout) clearTimeout(data$$1.clickTimeout);\n      swiper.emit('doubleTap', e);\n    }\n  }\n\n  data$$1.lastClickTime = Utils.now();\n  Utils.nextTick(() => {\n    if (!swiper.destroyed) swiper.allowClick = true;\n  });\n\n  if (!data$$1.isTouched || !data$$1.isMoved || !swiper.swipeDirection || touches.diff === 0 || data$$1.currentTranslate === data$$1.startTranslate) {\n    data$$1.isTouched = false;\n    data$$1.isMoved = false;\n    return;\n  }\n  data$$1.isTouched = false;\n  data$$1.isMoved = false;\n\n  let currentPos;\n  if (params.followFinger) {\n    currentPos = rtl ? swiper.translate : -swiper.translate;\n  } else {\n    currentPos = -data$$1.currentTranslate;\n  }\n  if (params.freeMode) {\n    if (currentPos < -swiper.minTranslate()) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    } else if (currentPos > -swiper.maxTranslate()) {\n      if (swiper.slides.length < snapGrid.length) {\n        swiper.slideTo(snapGrid.length - 1);\n      } else {\n        swiper.slideTo(swiper.slides.length - 1);\n      }\n      return;\n    }\n\n    if (params.freeModeMomentum) {\n      if (data$$1.velocities.length > 1) {\n        const lastMoveEvent = data$$1.velocities.pop();\n        const velocityEvent = data$$1.velocities.pop();\n\n        const distance = lastMoveEvent.position - velocityEvent.position;\n        const time = lastMoveEvent.time - velocityEvent.time;\n        swiper.velocity = distance / time;\n        swiper.velocity /= 2;\n        if (Math.abs(swiper.velocity) < params.freeModeMinimumVelocity) {\n          swiper.velocity = 0;\n        }\n        // this implies that the user stopped moving a finger then released.\n        // There would be no events with distance zero, so the last event is stale.\n        if (time > 150 || (Utils.now() - lastMoveEvent.time) > 300) {\n          swiper.velocity = 0;\n        }\n      } else {\n        swiper.velocity = 0;\n      }\n      swiper.velocity *= params.freeModeMomentumVelocityRatio;\n\n      data$$1.velocities.length = 0;\n      let momentumDuration = 1000 * params.freeModeMomentumRatio;\n      const momentumDistance = swiper.velocity * momentumDuration;\n\n      let newPosition = swiper.translate + momentumDistance;\n      if (rtl) newPosition = -newPosition;\n      let doBounce = false;\n      let afterBouncePosition;\n      const bounceAmount = Math.abs(swiper.velocity) * 20 * params.freeModeMomentumBounceRatio;\n      if (newPosition < swiper.maxTranslate()) {\n        if (params.freeModeMomentumBounce) {\n          if (newPosition + swiper.maxTranslate() < -bounceAmount) {\n            newPosition = swiper.maxTranslate() - bounceAmount;\n          }\n          afterBouncePosition = swiper.maxTranslate();\n          doBounce = true;\n          data$$1.allowMomentumBounce = true;\n        } else {\n          newPosition = swiper.maxTranslate();\n        }\n      } else if (newPosition > swiper.minTranslate()) {\n        if (params.freeModeMomentumBounce) {\n          if (newPosition - swiper.minTranslate() > bounceAmount) {\n            newPosition = swiper.minTranslate() + bounceAmount;\n          }\n          afterBouncePosition = swiper.minTranslate();\n          doBounce = true;\n          data$$1.allowMomentumBounce = true;\n        } else {\n          newPosition = swiper.minTranslate();\n        }\n      } else if (params.freeModeSticky) {\n        let nextSlide;\n        for (let j = 0; j < snapGrid.length; j += 1) {\n          if (snapGrid[j] > -newPosition) {\n            nextSlide = j;\n            break;\n          }\n        }\n        if (Math.abs(snapGrid[nextSlide] - newPosition) < Math.abs(snapGrid[nextSlide - 1] - newPosition) || swiper.swipeDirection === 'next') {\n          newPosition = snapGrid[nextSlide];\n        } else {\n          newPosition = snapGrid[nextSlide - 1];\n        }\n        if (!rtl) newPosition = -newPosition;\n      }\n      // Fix duration\n      if (swiper.velocity !== 0) {\n        if (rtl) {\n          momentumDuration = Math.abs((-newPosition - swiper.translate) / swiper.velocity);\n        } else {\n          momentumDuration = Math.abs((newPosition - swiper.translate) / swiper.velocity);\n        }\n      } else if (params.freeModeSticky) {\n        swiper.slideReset();\n        return;\n      }\n\n      if (params.freeModeMomentumBounce && doBounce) {\n        swiper.updateProgress(afterBouncePosition);\n        swiper.setTransition(momentumDuration);\n        swiper.setTranslate(newPosition);\n        swiper.transitionStart();\n        swiper.animating = true;\n        $wrapperEl.transitionEnd(() => {\n          if (!swiper || swiper.destroyed || !data$$1.allowMomentumBounce) return;\n          swiper.emit('momentumBounce');\n\n          swiper.setTransition(params.speed);\n          swiper.setTranslate(afterBouncePosition);\n          $wrapperEl.transitionEnd(() => {\n            if (!swiper || swiper.destroyed) return;\n            swiper.transitionEnd();\n          });\n        });\n      } else if (swiper.velocity) {\n        swiper.updateProgress(newPosition);\n        swiper.setTransition(momentumDuration);\n        swiper.setTranslate(newPosition);\n        swiper.transitionStart();\n        if (!swiper.animating) {\n          swiper.animating = true;\n          $wrapperEl.transitionEnd(() => {\n            if (!swiper || swiper.destroyed) return;\n            swiper.transitionEnd();\n          });\n        }\n      } else {\n        swiper.updateProgress(newPosition);\n      }\n\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n    if (!params.freeModeMomentum || timeDiff >= params.longSwipesMs) {\n      swiper.updateProgress();\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n    return;\n  }\n\n  // Find current slide\n  let stopIndex = 0;\n  let groupSize = swiper.slidesSizesGrid[0];\n  for (let i = 0; i < slidesGrid.length; i += params.slidesPerGroup) {\n    if (typeof slidesGrid[i + params.slidesPerGroup] !== 'undefined') {\n      if (currentPos >= slidesGrid[i] && currentPos < slidesGrid[i + params.slidesPerGroup]) {\n        stopIndex = i;\n        groupSize = slidesGrid[i + params.slidesPerGroup] - slidesGrid[i];\n      }\n    } else if (currentPos >= slidesGrid[i]) {\n      stopIndex = i;\n      groupSize = slidesGrid[slidesGrid.length - 1] - slidesGrid[slidesGrid.length - 2];\n    }\n  }\n\n  // Find current slide size\n  const ratio = (currentPos - slidesGrid[stopIndex]) / groupSize;\n\n  if (timeDiff > params.longSwipesMs) {\n    // Long touches\n    if (!params.longSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n    if (swiper.swipeDirection === 'next') {\n      if (ratio >= params.longSwipesRatio) swiper.slideTo(stopIndex + params.slidesPerGroup);\n      else swiper.slideTo(stopIndex);\n    }\n    if (swiper.swipeDirection === 'prev') {\n      if (ratio > (1 - params.longSwipesRatio)) swiper.slideTo(stopIndex + params.slidesPerGroup);\n      else swiper.slideTo(stopIndex);\n    }\n  } else {\n    // Short swipes\n    if (!params.shortSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n    if (swiper.swipeDirection === 'next') {\n      swiper.slideTo(stopIndex + params.slidesPerGroup);\n    }\n    if (swiper.swipeDirection === 'prev') {\n      swiper.slideTo(stopIndex);\n    }\n  }\n};\n\nvar onResize = function () {\n  const swiper = this;\n\n  const { params, el, allowSlideNext, allowSlidePrev } = swiper;\n\n  if (el && el.offsetWidth === 0) return;\n\n  // Breakpoints\n  if (params.breakpoints) {\n    swiper.setBreakpoint();\n  }\n\n  // Disable locks on resize\n  swiper.allowSlideNext = true;\n  swiper.allowSlidePrev = true;\n\n  swiper.updateSize();\n  swiper.updateSlides();\n\n  if (params.freeMode) {\n    const newTranslate = Math.min(Math.max(swiper.translate, swiper.maxTranslate()), swiper.minTranslate());\n    swiper.setTranslate(newTranslate);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n\n    if (params.autoHeight) {\n      swiper.updateAutoHeight();\n    }\n  } else {\n    swiper.updateSlidesClasses();\n    if ((params.slidesPerView === 'auto' || params.slidesPerView > 1) && swiper.isEnd && !swiper.params.centeredSlides) {\n      swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n    } else {\n      swiper.slideTo(swiper.activeIndex, 0, false, true);\n    }\n  }\n  // Return locks after resize\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n};\n\nvar onClick = function (e) {\n  const swiper = this;\n  if (!swiper.allowClick) {\n    if (swiper.params.preventClicks) e.preventDefault();\n    if (swiper.params.preventClicksPropagation && swiper.animating) {\n      e.stopPropagation();\n      e.stopImmediatePropagation();\n    }\n  }\n};\n\nfunction attachEvents() {\n  const swiper = this;\n\n  const { params, touchEvents, el, wrapperEl } = swiper;\n\n  {\n    swiper.onTouchStart = onTouchStart.bind(swiper);\n    swiper.onTouchMove = onTouchMove.bind(swiper);\n    swiper.onTouchEnd = onTouchEnd.bind(swiper);\n  }\n\n  swiper.onClick = onClick.bind(swiper);\n\n  const target = params.touchEventsTarget === 'container' ? el : wrapperEl;\n  const capture = !!params.nested;\n\n  // Touch Events\n  {\n    if (Browser.ie) {\n      target.addEventListener(touchEvents.start, swiper.onTouchStart, false);\n      (Support.touch ? target : doc).addEventListener(touchEvents.move, swiper.onTouchMove, capture);\n      (Support.touch ? target : doc).addEventListener(touchEvents.end, swiper.onTouchEnd, false);\n    } else {\n      if (Support.touch) {\n        const passiveListener = touchEvents.start === 'onTouchStart' && Support.passiveListener && params.passiveListeners ? { passive: true, capture: false } : false;\n        target.addEventListener(touchEvents.start, swiper.onTouchStart, passiveListener);\n        target.addEventListener(touchEvents.move, swiper.onTouchMove, capture);\n        target.addEventListener(touchEvents.end, swiper.onTouchEnd, passiveListener);\n      }\n      if ((params.simulateTouch && !Device.ios && !Device.android) || (params.simulateTouch && !Support.touch && Device.ios)) {\n        target.addEventListener('mousedown', swiper.onTouchStart, false);\n        doc.addEventListener('mousemove', swiper.onTouchMove, capture);\n        doc.addEventListener('mouseup', swiper.onTouchEnd, false);\n      }\n    }\n    // Prevent Links Clicks\n    if (params.preventClicks || params.preventClicksPropagation) {\n      target.addEventListener('click', swiper.onClick, true);\n    }\n  }\n\n  // Resize handler\n  swiper.on('resize observerUpdate', onResize);\n}\n\nfunction detachEvents() {\n  const swiper = this;\n\n  const { params, touchEvents, el, wrapperEl } = swiper;\n\n  const target = params.touchEventsTarget === 'container' ? el : wrapperEl;\n  const capture = !!params.nested;\n\n  // Touch Events\n  {\n    if (Browser.ie) {\n      target.removeEventListener(touchEvents.start, swiper.onTouchStart, false);\n      (Support.touch ? target : doc).removeEventListener(touchEvents.move, swiper.onTouchMove, capture);\n      (Support.touch ? target : doc).removeEventListener(touchEvents.end, swiper.onTouchEnd, false);\n    } else {\n      if (Support.touch) {\n        const passiveListener = touchEvents.start === 'onTouchStart' && Support.passiveListener && params.passiveListeners ? { passive: true, capture: false } : false;\n        target.removeEventListener(touchEvents.start, swiper.onTouchStart, passiveListener);\n        target.removeEventListener(touchEvents.move, swiper.onTouchMove, capture);\n        target.removeEventListener(touchEvents.end, swiper.onTouchEnd, passiveListener);\n      }\n      if ((params.simulateTouch && !Device.ios && !Device.android) || (params.simulateTouch && !Support.touch && Device.ios)) {\n        target.removeEventListener('mousedown', swiper.onTouchStart, false);\n        doc.removeEventListener('mousemove', swiper.onTouchMove, capture);\n        doc.removeEventListener('mouseup', swiper.onTouchEnd, false);\n      }\n    }\n    // Prevent Links Clicks\n    if (params.preventClicks || params.preventClicksPropagation) {\n      target.removeEventListener('click', swiper.onClick, true);\n    }\n  }\n\n  // Resize handler\n  swiper.off('resize observerUpdate', onResize);\n}\n\nvar events = {\n  attachEvents,\n  detachEvents,\n};\n\nvar setBreakpoint = function () {\n  const swiper = this;\n  const { activeIndex, loopedSlides = 0, params } = swiper;\n  const breakpoints = params.breakpoints;\n  if (!breakpoints || (breakpoints && Object.keys(breakpoints).length === 0)) return;\n  // Set breakpoint for window width and update parameters\n  const breakpoint = swiper.getBreakpoint(breakpoints);\n  if (breakpoint && swiper.currentBreakpoint !== breakpoint) {\n    const breakPointsParams = breakpoint in breakpoints ? breakpoints[breakpoint] : swiper.originalParams;\n    const needsReLoop = params.loop && (breakPointsParams.slidesPerView !== params.slidesPerView);\n\n    Utils.extend(swiper.params, breakPointsParams);\n\n    Utils.extend(swiper, {\n      allowTouchMove: swiper.params.allowTouchMove,\n      allowSlideNext: swiper.params.allowSlideNext,\n      allowSlidePrev: swiper.params.allowSlidePrev,\n    });\n\n    swiper.currentBreakpoint = breakpoint;\n\n    if (needsReLoop) {\n      const oldIndex = activeIndex - loopedSlides;\n      swiper.loopDestroy();\n      swiper.loopCreate();\n      swiper.updateSlides();\n      swiper.slideTo(oldIndex + loopedSlides, 0, false);\n    }\n  }\n};\n\nvar getBreakpoint = function (breakpoints) {\n  // Get breakpoint for window width\n  if (!breakpoints) return undefined;\n  let breakpoint = false;\n  const points = [];\n  Object.keys(breakpoints).forEach((point) => {\n    points.push(point);\n  });\n  points.sort((a, b) => parseInt(a, 10) > parseInt(b, 10));\n  for (let i = 0; i < points.length; i += 1) {\n    const point = points[i];\n    if (point >= win.innerWidth && !breakpoint) {\n      breakpoint = point;\n    }\n  }\n  return breakpoint || 'max';\n};\n\nvar breakpoints = { setBreakpoint, getBreakpoint };\n\nvar addClasses = function () {\n  const swiper = this;\n  const { classNames, params, rtl, $el } = swiper;\n  const suffixes = [];\n\n  suffixes.push(params.direction);\n\n  if (params.freeMode) {\n    suffixes.push('free-mode');\n  }\n  if (!Support.flexbox) {\n    suffixes.push('no-flexbox');\n  }\n  if (params.autoHeight) {\n    suffixes.push('autoheight');\n  }\n  if (rtl) {\n    suffixes.push('rtl');\n  }\n  if (params.slidesPerColumn > 1) {\n    suffixes.push('multirow');\n  }\n  if (Device.android) {\n    suffixes.push('android');\n  }\n  if (Device.ios) {\n    suffixes.push('ios');\n  }\n  // WP8 Touch Events Fix\n  if (win.navigator.pointerEnabled || win.navigator.msPointerEnabled) {\n    suffixes.push(`wp8-${params.direction}`);\n  }\n\n  suffixes.forEach((suffix) => {\n    classNames.push(params.containerModifierClass + suffix);\n  });\n\n  $el.addClass(classNames.join(' '));\n\n};\n\nvar removeClasses = function () {\n  const swiper = this;\n  const { $el, classNames } = swiper;\n\n  $el.removeClass(classNames.join(' '));\n};\n\nvar classes = { addClasses, removeClasses };\n\nvar loadImage = function (imageEl, src, srcset, sizes, checkForComplete, callback) {\n  let image;\n  function onReady() {\n    if (callback) callback();\n  }\n  if (!imageEl.complete || !checkForComplete) {\n    if (src) {\n      image = new win.Image();\n      image.onload = onReady;\n      image.onerror = onReady;\n      if (sizes) {\n        image.sizes = sizes;\n      }\n      if (srcset) {\n        image.srcset = srcset;\n      }\n      if (src) {\n        image.src = src;\n      }\n    } else {\n      onReady();\n    }\n  } else {\n    // image already loaded...\n    onReady();\n  }\n};\n\nvar preloadImages = function () {\n  const swiper = this;\n  swiper.imagesToLoad = swiper.$el.find('img');\n  function onReady() {\n    if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper.destroyed) return;\n    if (swiper.imagesLoaded !== undefined) swiper.imagesLoaded += 1;\n    if (swiper.imagesLoaded === swiper.imagesToLoad.length) {\n      if (swiper.params.updateOnImagesReady) swiper.update();\n      swiper.emit('imagesReady');\n    }\n  }\n  for (let i = 0; i < swiper.imagesToLoad.length; i += 1) {\n    const imageEl = swiper.imagesToLoad[i];\n    swiper.loadImage(\n      imageEl,\n      imageEl.currentSrc || imageEl.getAttribute('src'),\n      imageEl.srcset || imageEl.getAttribute('srcset'),\n      imageEl.sizes || imageEl.getAttribute('sizes'),\n      true,\n      onReady\n    );\n  }\n};\n\nvar images = {\n  loadImage,\n  preloadImages,\n};\n\nvar defaults = {\n  init: true,\n  direction: 'horizontal',\n  touchEventsTarget: 'container',\n  initialSlide: 0,\n  speed: 300,\n\n  // To support iOS's swipe-to-go-back gesture (when being used in-app, with UIWebView).\n  iOSEdgeSwipeDetection: false,\n  iOSEdgeSwipeThreshold: 20,\n\n  // Free mode\n  freeMode: false,\n  freeModeMomentum: true,\n  freeModeMomentumRatio: 1,\n  freeModeMomentumBounce: true,\n  freeModeMomentumBounceRatio: 1,\n  freeModeMomentumVelocityRatio: 1,\n  freeModeSticky: false,\n  freeModeMinimumVelocity: 0.02,\n\n  // Autoheight\n  autoHeight: false,\n\n  // Set wrapper width\n  setWrapperSize: false,\n\n  // Virtual Translate\n  virtualTranslate: false,\n\n  // Effects\n  effect: 'slide', // 'slide' or 'fade' or 'cube' or 'coverflow' or 'flip'\n\n  // Breakpoints\n  breakpoints: undefined,\n\n  // Slides grid\n  spaceBetween: 0,\n  slidesPerView: 1,\n  slidesPerColumn: 1,\n  slidesPerColumnFill: 'column',\n  slidesPerGroup: 1,\n  centeredSlides: false,\n  slidesOffsetBefore: 0, // in px\n  slidesOffsetAfter: 0, // in px\n  normalizeSlideIndex: true,\n\n  // Round length\n  roundLengths: false,\n\n  // Touches\n  touchRatio: 1,\n  touchAngle: 45,\n  simulateTouch: true,\n  shortSwipes: true,\n  longSwipes: true,\n  longSwipesRatio: 0.5,\n  longSwipesMs: 300,\n  followFinger: true,\n  allowTouchMove: true,\n  threshold: 0,\n  touchMoveStopPropagation: true,\n  touchReleaseOnEdges: false,\n\n  // Unique Navigation Elements\n  uniqueNavElements: true,\n\n  // Resistance\n  resistance: true,\n  resistanceRatio: 0.85,\n\n  // Progress\n  watchSlidesProgress: false,\n  watchSlidesVisibility: false,\n\n  // Cursor\n  grabCursor: false,\n\n  // Clicks\n  preventClicks: true,\n  preventClicksPropagation: true,\n  slideToClickedSlide: false,\n\n  // Images\n  preloadImages: true,\n  updateOnImagesReady: true,\n\n  // loop\n  loop: false,\n  loopAdditionalSlides: 0,\n  loopedSlides: null,\n  loopFillGroupWithBlank: false,\n\n  // Swiping/no swiping\n  allowSlidePrev: true,\n  allowSlideNext: true,\n  swipeHandler: null, // '.swipe-handler',\n  noSwiping: true,\n  noSwipingClass: 'swiper-no-swiping',\n\n  // Passive Listeners\n  passiveListeners: true,\n\n  // NS\n  containerModifierClass: 'swiper-container-', // NEW\n  slideClass: 'swiper-slide',\n  slideBlankClass: 'swiper-slide-invisible-blank',\n  slideActiveClass: 'swiper-slide-active',\n  slideDuplicateActiveClass: 'swiper-slide-duplicate-active',\n  slideVisibleClass: 'swiper-slide-visible',\n  slideDuplicateClass: 'swiper-slide-duplicate',\n  slideNextClass: 'swiper-slide-next',\n  slideDuplicateNextClass: 'swiper-slide-duplicate-next',\n  slidePrevClass: 'swiper-slide-prev',\n  slideDuplicatePrevClass: 'swiper-slide-duplicate-prev',\n  wrapperClass: 'swiper-wrapper',\n\n  // Callbacks\n  runCallbacksOnInit: true,\n};\n\nconst prototypes = {\n  update,\n  translate,\n  transition: transition$1,\n  slide,\n  loop,\n  grabCursor,\n  manipulation,\n  events,\n  breakpoints,\n  classes,\n  images,\n};\n\nconst extendedDefaults = {};\n\nclass Swiper$1 extends SwiperClass {\n  constructor(...args) {\n    let el;\n    let params;\n    if (args.length === 1 && args[0].constructor && args[0].constructor === Object) {\n      params = args[0];\n    } else {\n      [el, params] = args;\n    }\n    if (!params) params = {};\n\n    params = Utils.extend({}, params);\n    if (el && !params.el) params.el = el;\n\n    super(params);\n\n    Object.keys(prototypes).forEach((prototypeGroup) => {\n      Object.keys(prototypes[prototypeGroup]).forEach((protoMethod) => {\n        if (!Swiper$1.prototype[protoMethod]) {\n          Swiper$1.prototype[protoMethod] = prototypes[prototypeGroup][protoMethod];\n        }\n      });\n    });\n\n    // Swiper Instance\n    const swiper = this;\n\n    Object.keys(swiper.modules).forEach((moduleName) => {\n      const module = swiper.modules[moduleName];\n      if (module.params) {\n        const moduleParamName = Object.keys(module.params)[0];\n        const moduleParams = module.params[moduleParamName];\n        if (typeof moduleParams !== 'object') return;\n        if (!(moduleParamName in params && 'enabled' in moduleParams)) return;\n        if (params[moduleParamName] === true) {\n          params[moduleParamName] = { enabled: true };\n        }\n        if (\n          typeof params[moduleParamName] === 'object' &&\n          !('enabled' in params[moduleParamName])\n        ) {\n          params[moduleParamName].enabled = true;\n        }\n        if (!params[moduleParamName]) params[moduleParamName] = { enabled: false };\n      }\n    });\n\n    // Extend defaults with modules params\n    const swiperParams = Utils.extend({}, defaults);\n    swiper.useModulesParams(swiperParams);\n\n    // Extend defaults with passed params\n    swiper.params = Utils.extend({}, swiperParams, extendedDefaults, params);\n    swiper.originalParams = Utils.extend({}, swiper.params);\n    swiper.passedParams = Utils.extend({}, params);\n\n    // Find el\n    const $el = $(swiper.params.el);\n    el = $el[0];\n\n    if (!el) {\n      return undefined;\n    }\n\n    if ($el.length > 1) {\n      const swipers = [];\n      $el.each((index$$1, containerEl) => {\n        const newParams = Utils.extend({}, params, { el: containerEl });\n        swipers.push(new Swiper$1(newParams));\n      });\n      return swipers;\n    }\n\n    el.swiper = swiper;\n    $el.data('swiper', swiper);\n\n    // Find Wrapper\n    const $wrapperEl = $el.children(`.${swiper.params.wrapperClass}`);\n\n    // Extend Swiper\n    Utils.extend(swiper, {\n      $el,\n      el,\n      $wrapperEl,\n      wrapperEl: $wrapperEl[0],\n\n      // Classes\n      classNames: [],\n\n      // Slides\n      slides: $(),\n      slidesGrid: [],\n      snapGrid: [],\n      slidesSizesGrid: [],\n\n      // isDirection\n      isHorizontal() {\n        return swiper.params.direction === 'horizontal';\n      },\n      isVertical() {\n        return swiper.params.direction === 'vertical';\n      },\n      // RTL\n      rtl: swiper.params.direction === 'horizontal' && (el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl'),\n      wrongRTL: $wrapperEl.css('display') === '-webkit-box',\n\n      // Indexes\n      activeIndex: 0,\n      realIndex: 0,\n\n      //\n      isBeginning: true,\n      isEnd: false,\n\n      // Props\n      translate: 0,\n      progress: 0,\n      velocity: 0,\n      animating: false,\n\n      // Locks\n      allowSlideNext: swiper.params.allowSlideNext,\n      allowSlidePrev: swiper.params.allowSlidePrev,\n\n      // Touch Events\n      touchEvents: (function touchEvents() {\n        const touch = ['touchstart', 'touchmove', 'touchend'];\n        let desktop = ['mousedown', 'mousemove', 'mouseup'];\n        if (win.navigator.pointerEnabled) {\n          desktop = ['pointerdown', 'pointermove', 'pointerup'];\n        } else if (win.navigator.msPointerEnabled) {\n          desktop = ['MSPointerDown', 'MsPointerMove', 'MsPointerUp'];\n        }\n\n        return {\n          start: Support.touch || !swiper.params.simulateTouch ? touch[0] : desktop[0],\n          move: Support.touch || !swiper.params.simulateTouch ? touch[1] : desktop[1],\n          end: Support.touch || !swiper.params.simulateTouch ? touch[2] : desktop[2],\n        };\n      }()),\n      touchEventsData: {\n        isTouched: undefined,\n        isMoved: undefined,\n        allowTouchCallbacks: undefined,\n        touchStartTime: undefined,\n        isScrolling: undefined,\n        currentTranslate: undefined,\n        startTranslate: undefined,\n        allowThresholdMove: undefined,\n        // Form elements to match\n        formElements: 'input, select, option, textarea, button, video',\n        // Last click time\n        lastClickTime: Utils.now(),\n        clickTimeout: undefined,\n        // Velocities\n        velocities: [],\n        allowMomentumBounce: undefined,\n        isTouchEvent: undefined,\n        startMoving: undefined,\n      },\n\n      // Clicks\n      allowClick: true,\n\n      // Touches\n      allowTouchMove: swiper.params.allowTouchMove,\n\n      touches: {\n        startX: 0,\n        startY: 0,\n        currentX: 0,\n        currentY: 0,\n        diff: 0,\n      },\n\n      // Images\n      imagesToLoad: [],\n      imagesLoaded: 0,\n\n    });\n\n    // Install Modules\n    swiper.useModules();\n\n    // Init\n    if (swiper.params.init) {\n      swiper.init();\n    }\n\n    // Return app instance\n    return swiper;\n  }\n  slidesPerViewDynamic() {\n    const swiper = this;\n    const { params, slides, slidesGrid, size: swiperSize, activeIndex } = swiper;\n    let spv = 1;\n    if (params.centeredSlides) {\n      let slideSize = slides[activeIndex].swiperSlideSize;\n      let breakLoop;\n      for (let i = activeIndex + 1; i < slides.length; i += 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += slides[i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n      for (let i = activeIndex - 1; i >= 0; i -= 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += slides[i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n    } else {\n      for (let i = activeIndex + 1; i < slides.length; i += 1) {\n        if (slidesGrid[i] - slidesGrid[activeIndex] < swiperSize) {\n          spv += 1;\n        }\n      }\n    }\n    return spv;\n  }\n  update() {\n    const swiper = this;\n    if (!swiper || swiper.destroyed) return;\n    swiper.updateSize();\n    swiper.updateSlides();\n    swiper.updateProgress();\n    swiper.updateSlidesClasses();\n\n    let newTranslate;\n    function setTranslate() {\n      newTranslate = Math.min(Math.max(swiper.translate, swiper.maxTranslate()), swiper.minTranslate());\n      swiper.setTranslate(newTranslate);\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n    let translated;\n    if (swiper.params.freeMode) {\n      setTranslate();\n      if (swiper.params.autoHeight) {\n        swiper.updateAutoHeight();\n      }\n    } else {\n      if ((swiper.params.slidesPerView === 'auto' || swiper.params.slidesPerView > 1) && swiper.isEnd && !swiper.params.centeredSlides) {\n        translated = swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n      } else {\n        translated = swiper.slideTo(swiper.activeIndex, 0, false, true);\n      }\n      if (!translated) {\n        setTranslate();\n      }\n    }\n    swiper.emit('update');\n  }\n  init() {\n    const swiper = this;\n    if (swiper.initialized) return;\n\n    swiper.emit('beforeInit');\n\n    // Set breakpoint\n    if (swiper.params.breakpoints) {\n      swiper.setBreakpoint();\n    }\n\n    // Add Classes\n    swiper.addClasses();\n\n    // Create loop\n    if (swiper.params.loop) {\n      swiper.loopCreate();\n    }\n\n    // Update size\n    swiper.updateSize();\n\n    // Update slides\n    swiper.updateSlides();\n\n    // Set Grab Cursor\n    if (swiper.params.grabCursor) {\n      swiper.setGrabCursor();\n    }\n\n    if (swiper.params.preloadImages) {\n      swiper.preloadImages();\n    }\n\n    // Slide To Initial Slide\n    if (swiper.params.loop) {\n      swiper.slideTo(swiper.params.initialSlide + swiper.loopedSlides, 0, swiper.params.runCallbacksOnInit);\n    } else {\n      swiper.slideTo(swiper.params.initialSlide, 0, swiper.params.runCallbacksOnInit);\n    }\n\n    // Attach events\n    swiper.attachEvents();\n\n    // Init Flag\n    swiper.initialized = true;\n\n    // Emit\n    swiper.emit('init');\n  }\n  destroy(deleteInstance = true, cleanStyles = true) {\n    const swiper = this;\n    const { params, $el, $wrapperEl, slides } = swiper;\n    swiper.emit('beforeDestroy');\n\n    // Init Flag\n    swiper.initialized = false;\n\n    // Detach events\n    swiper.detachEvents();\n\n    // Destroy loop\n    if (params.loop) {\n      swiper.loopDestroy();\n    }\n\n    // Cleanup styles\n    if (cleanStyles) {\n      swiper.removeClasses();\n      $el.removeAttr('style');\n      $wrapperEl.removeAttr('style');\n      if (slides && slides.length) {\n        slides\n          .removeClass([\n            params.slideVisibleClass,\n            params.slideActiveClass,\n            params.slideNextClass,\n            params.slidePrevClass,\n          ].join(' '))\n          .removeAttr('style')\n          .removeAttr('data-swiper-slide-index')\n          .removeAttr('data-swiper-column')\n          .removeAttr('data-swiper-row');\n      }\n    }\n\n    swiper.emit('destroy');\n\n    // Detach emitter events\n    Object.keys(swiper.eventsListeners).forEach((eventName) => {\n      swiper.off(eventName);\n    });\n\n    if (deleteInstance !== false) {\n      swiper.$el[0].swiper = null;\n      swiper.$el.data('swiper', null);\n      Utils.deleteProps(swiper);\n    }\n    swiper.destroyed = true;\n  }\n  static extendDefaults(newDefaults) {\n    Utils.extend(extendedDefaults, newDefaults);\n  }\n  static get extendedDefaults() {\n    return extendedDefaults;\n  }\n  static get defaults() {\n    return defaults;\n  }\n  static get Class() {\n    return SwiperClass;\n  }\n  static get $() {\n    return $;\n  }\n}\n\nvar Device$2 = {\n  name: 'device',\n  proto: {\n    device: Device,\n  },\n  static: {\n    device: Device,\n  },\n};\n\nvar Support$2 = {\n  name: 'support',\n  proto: {\n    support: Support,\n  },\n  static: {\n    support: Support,\n  },\n};\n\nvar Browser$2 = {\n  name: 'browser',\n  proto: {\n    browser: Browser,\n  },\n  static: {\n    browser: Browser,\n  },\n};\n\nvar Resize = {\n  name: 'resize',\n  create() {\n    const swiper = this;\n    Utils.extend(swiper, {\n      resize: {\n        resizeHandler() {\n          if (!swiper || swiper.destroyed || !swiper.initialized) return;\n          swiper.emit('beforeResize');\n          swiper.emit('resize');\n        },\n        orientationChangeHandler() {\n          if (!swiper || swiper.destroyed || !swiper.initialized) return;\n          swiper.emit('orientationchange');\n        },\n      },\n    });\n  },\n  on: {\n    init() {\n      const swiper = this;\n      // Emit resize\n      win.addEventListener('resize', swiper.resize.resizeHandler);\n\n      // Emit orientationchange\n      win.addEventListener('orientationchange', swiper.resize.orientationChangeHandler);\n    },\n    destroy() {\n      const swiper = this;\n      win.removeEventListener('resize', swiper.resize.resizeHandler);\n      win.removeEventListener('orientationchange', swiper.resize.orientationChangeHandler);\n    },\n  },\n};\n\nconst Observer = {\n  func: win.MutationObserver || win.WebkitMutationObserver,\n  attach(target, options = {}) {\n    const swiper = this;\n\n    const ObserverFunc = Observer.func;\n    const observer = new ObserverFunc((mutations) => {\n      mutations.forEach((mutation) => {\n        swiper.emit('observerUpdate', mutation);\n      });\n    });\n\n    observer.observe(target, {\n      attributes: typeof options.attributes === 'undefined' ? true : options.attributes,\n      childList: typeof options.childList === 'undefined' ? true : options.childList,\n      characterData: typeof options.characterData === 'undefined' ? true : options.characterData,\n    });\n\n    swiper.observer.observers.push(observer);\n  },\n  init() {\n    const swiper = this;\n    if (!Support.observer || !swiper.params.observer) return;\n    if (swiper.params.observeParents) {\n      const containerParents = swiper.$el.parents();\n      for (let i = 0; i < containerParents.length; i += 1) {\n        swiper.observer.attach(containerParents[i]);\n      }\n    }\n    // Observe container\n    swiper.observer.attach(swiper.$el[0], { childList: false });\n\n    // Observe wrapper\n    swiper.observer.attach(swiper.$wrapperEl[0], { attributes: false });\n  },\n  destroy() {\n    const swiper = this;\n    swiper.observer.observers.forEach((observer) => {\n      observer.disconnect();\n    });\n    swiper.observer.observers = [];\n  },\n};\n\nvar Observer$1 = {\n  name: 'observer',\n  params: {\n    observer: false,\n    observeParents: false,\n  },\n  create() {\n    const swiper = this;\n    Utils.extend(swiper, {\n      observer: {\n        init: Observer.init.bind(swiper),\n        attach: Observer.attach.bind(swiper),\n        destroy: Observer.destroy.bind(swiper),\n        observers: [],\n      },\n    });\n  },\n  on: {\n    init() {\n      const swiper = this;\n      swiper.observer.init();\n    },\n    destroy() {\n      const swiper = this;\n      swiper.observer.destroy();\n    },\n  },\n};\n\nconst Virtual = {\n  update(force) {\n    const swiper = this;\n    const { slidesPerView, slidesPerGroup, centeredSlides } = swiper.params;\n    const {\n      from: previousFrom,\n      to: previousTo,\n      slides,\n      slidesGrid: previousSlidesGrid,\n      renderSlide,\n      offset: previousOffset,\n    } = swiper.virtual;\n    swiper.updateActiveIndex();\n    const activeIndex = swiper.activeIndex || 0;\n\n    let offsetProp;\n    if (swiper.rtl && swiper.isHorizontal()) offsetProp = 'right';\n    else offsetProp = swiper.isHorizontal() ? 'left' : 'top';\n\n    let slidesAfter;\n    let slidesBefore;\n    if (centeredSlides) {\n      slidesAfter = Math.floor(slidesPerView / 2) + slidesPerGroup;\n      slidesBefore = Math.floor(slidesPerView / 2) + slidesPerGroup;\n    } else {\n      slidesAfter = slidesPerView + (slidesPerGroup - 1);\n      slidesBefore = slidesPerGroup;\n    }\n    const from = Math.max((activeIndex || 0) - slidesBefore, 0);\n    const to = Math.min((activeIndex || 0) + slidesAfter, slides.length - 1);\n    const offset$$1 = (swiper.slidesGrid[from] || 0) - (swiper.slidesGrid[0] || 0);\n\n    Utils.extend(swiper.virtual, {\n      from,\n      to,\n      offset: offset$$1,\n      slidesGrid: swiper.slidesGrid,\n    });\n\n    function onRendered() {\n      swiper.updateSlides();\n      swiper.updateProgress();\n      swiper.updateSlidesClasses();\n      if (swiper.lazy && swiper.params.lazy.enabled) {\n        swiper.lazy.load();\n      }\n    }\n\n    if (previousFrom === from && previousTo === to && !force) {\n      if (swiper.slidesGrid !== previousSlidesGrid && offset$$1 !== previousOffset) {\n        swiper.slides.css(offsetProp, `${offset$$1}px`);\n      }\n      swiper.updateProgress();\n      return;\n    }\n    if (swiper.params.virtual.renderExternal) {\n      swiper.params.virtual.renderExternal.call(swiper, {\n        offset: offset$$1,\n        from,\n        to,\n        slides: (function getSlides() {\n          const slidesToRender = [];\n          for (let i = from; i <= to; i += 1) {\n            slidesToRender.push(slides[i]);\n          }\n          return slidesToRender;\n        }()),\n      });\n      onRendered();\n      return;\n    }\n    const prependIndexes = [];\n    const appendIndexes = [];\n    if (force) {\n      swiper.$wrapperEl.find(`.${swiper.params.slideClass}`).remove();\n    } else {\n      for (let i = previousFrom; i <= previousTo; i += 1) {\n        if (i < from || i > to) {\n          swiper.$wrapperEl.find(`.${swiper.params.slideClass}[data-swiper-slide-index=\"${i}\"]`).remove();\n        }\n      }\n    }\n    for (let i = 0; i < slides.length; i += 1) {\n      if (i >= from && i <= to) {\n        if (typeof previousTo === 'undefined' || force) {\n          appendIndexes.push(i);\n        } else {\n          if (i > previousTo) appendIndexes.push(i);\n          if (i < previousFrom) prependIndexes.push(i);\n        }\n      }\n    }\n    appendIndexes.forEach((index$$1) => {\n      swiper.$wrapperEl.append(renderSlide(slides[index$$1], index$$1));\n    });\n    prependIndexes.sort((a, b) => a < b).forEach((index$$1) => {\n      swiper.$wrapperEl.prepend(renderSlide(slides[index$$1], index$$1));\n    });\n    swiper.$wrapperEl.children('.swiper-slide').css(offsetProp, `${offset$$1}px`);\n    onRendered();\n  },\n  renderSlide(slide, index$$1) {\n    const swiper = this;\n    const params = swiper.params.virtual;\n    if (params.cache && swiper.virtual.cache[index$$1]) {\n      return swiper.virtual.cache[index$$1];\n    }\n    const $slideEl = params.renderSlide\n      ? $(params.renderSlide.call(swiper, slide, index$$1))\n      : $(`<div class=\"${swiper.params.slideClass}\" data-swiper-slide-index=\"${index$$1}\">${slide}</div>`);\n    if (!$slideEl.attr('data-swiper-slide-index')) $slideEl.attr('data-swiper-slide-index', index$$1);\n    if (params.cache) swiper.virtual.cache[index$$1] = $slideEl;\n    return $slideEl;\n  },\n  appendSlide(slide) {\n    const swiper = this;\n    swiper.virtual.slides.push(slide);\n    swiper.virtual.update(true);\n  },\n  prependSlide(slide) {\n    const swiper = this;\n    swiper.virtual.slides.unshift(slide);\n    if (swiper.params.virtual.cache) {\n      const cache = swiper.virtual.cache;\n      const newCache = {};\n      Object.keys(cache).forEach((cachedIndex) => {\n        newCache[cachedIndex + 1] = cache[cachedIndex];\n      });\n      swiper.virtual.cache = newCache;\n    }\n    swiper.virtual.update(true);\n    swiper.slideNext(0);\n  },\n};\n\nvar Virtual$1 = {\n  name: 'virtual',\n  params: {\n    virtual: {\n      enabled: false,\n      slides: [],\n      cache: true,\n      renderSlide: null,\n      renderExternal: null,\n    },\n  },\n  create() {\n    const swiper = this;\n    Utils.extend(swiper, {\n      virtual: {\n        update: Virtual.update.bind(swiper),\n        appendSlide: Virtual.appendSlide.bind(swiper),\n        prependSlide: Virtual.prependSlide.bind(swiper),\n        renderSlide: Virtual.renderSlide.bind(swiper),\n        slides: swiper.params.virtual.slides,\n        cache: {},\n      },\n    });\n  },\n  on: {\n    beforeInit() {\n      const swiper = this;\n      if (!swiper.params.virtual.enabled) return;\n      swiper.classNames.push(`${swiper.params.containerModifierClass}virtual`);\n      const overwriteParams = {\n        watchSlidesProgress: true,\n      };\n      Utils.extend(swiper.params, overwriteParams);\n      Utils.extend(swiper.originalParams, overwriteParams);\n\n      swiper.virtual.update();\n    },\n    setTranslate() {\n      const swiper = this;\n      if (!swiper.params.virtual.enabled) return;\n      swiper.virtual.update();\n    },\n  },\n};\n\nconst Keyboard = {\n  handle(event) {\n    const swiper = this;\n    let e = event;\n    if (e.originalEvent) e = e.originalEvent; // jquery fix\n    const kc = e.keyCode || e.charCode;\n    // Directions locks\n    if (!swiper.allowSlideNext && ((swiper.isHorizontal() && kc === 39) || (swiper.isVertical() && kc === 40))) {\n      return false;\n    }\n    if (!swiper.allowSlidePrev && ((swiper.isHorizontal() && kc === 37) || (swiper.isVertical() && kc === 38))) {\n      return false;\n    }\n    if (e.shiftKey || e.altKey || e.ctrlKey || e.metaKey) {\n      return undefined;\n    }\n    if (doc.activeElement && doc.activeElement.nodeName && (doc.activeElement.nodeName.toLowerCase() === 'input' || doc.activeElement.nodeName.toLowerCase() === 'textarea')) {\n      return undefined;\n    }\n    if (kc === 37 || kc === 39 || kc === 38 || kc === 40) {\n      let inView = false;\n      // Check that swiper should be inside of visible area of window\n      if (swiper.$el.parents(`.${swiper.params.slideClass}`).length > 0 && swiper.$el.parents(`.${swiper.params.slideActiveClass}`).length === 0) {\n        return undefined;\n      }\n      const windowScroll = {\n        left: win.pageXOffset,\n        top: win.pageYOffset,\n      };\n      const windowWidth = win.innerWidth;\n      const windowHeight = win.innerHeight;\n      const swiperOffset = swiper.$el.offset();\n      if (swiper.rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;\n      const swiperCoord = [\n        [swiperOffset.left, swiperOffset.top],\n        [swiperOffset.left + swiper.width, swiperOffset.top],\n        [swiperOffset.left, swiperOffset.top + swiper.height],\n        [swiperOffset.left + swiper.width, swiperOffset.top + swiper.height],\n      ];\n      for (let i = 0; i < swiperCoord.length; i += 1) {\n        const point = swiperCoord[i];\n        if (\n          point[0] >= windowScroll.left && point[0] <= windowScroll.left + windowWidth &&\n            point[1] >= windowScroll.top && point[1] <= windowScroll.top + windowHeight\n        ) {\n          inView = true;\n        }\n      }\n      if (!inView) return undefined;\n    }\n    if (swiper.isHorizontal()) {\n      if (kc === 37 || kc === 39) {\n        if (e.preventDefault) e.preventDefault();\n        else e.returnValue = false;\n      }\n      if ((kc === 39 && !swiper.rtl) || (kc === 37 && swiper.rtl)) swiper.slideNext();\n      if ((kc === 37 && !swiper.rtl) || (kc === 39 && swiper.rtl)) swiper.slidePrev();\n    } else {\n      if (kc === 38 || kc === 40) {\n        if (e.preventDefault) e.preventDefault();\n        else e.returnValue = false;\n      }\n      if (kc === 40) swiper.slideNext();\n      if (kc === 38) swiper.slidePrev();\n    }\n    swiper.emit('keyPress', kc);\n    return undefined;\n  },\n  enable() {\n    const swiper = this;\n    if (swiper.keyboard.enabled) return;\n    $(doc).on('keydown', swiper.keyboard.handle);\n    swiper.keyboard.enabled = true;\n  },\n  disable() {\n    const swiper = this;\n    if (!swiper.keyboard.enabled) return;\n    $(doc).off('keydown', swiper.keyboard.handle);\n    swiper.keyboard.enabled = false;\n  },\n};\n\nvar Keyboard$1 = {\n  name: 'keyboard',\n  params: {\n    keyboard: {\n      enabled: false,\n    },\n  },\n  create() {\n    const swiper = this;\n    Utils.extend(swiper, {\n      keyboard: {\n        enabled: false,\n        enable: Keyboard.enable.bind(swiper),\n        disable: Keyboard.disable.bind(swiper),\n        handle: Keyboard.handle.bind(swiper),\n      },\n    });\n  },\n  on: {\n    init() {\n      const swiper = this;\n      if (swiper.params.keyboard.enabled) {\n        swiper.keyboard.enable();\n      }\n    },\n    destroy() {\n      const swiper = this;\n      if (swiper.keyboard.enabled) {\n        swiper.keyboard.disable();\n      }\n    },\n  },\n};\n\nfunction isEventSupported() {\n  const eventName = 'onwheel';\n  let isSupported = eventName in doc;\n\n  if (!isSupported) {\n    const element = doc.createElement('div');\n    element.setAttribute(eventName, 'return;');\n    isSupported = typeof element[eventName] === 'function';\n  }\n\n  if (!isSupported &&\n    doc.implementation &&\n    doc.implementation.hasFeature &&\n    // always returns true in newer browsers as per the standard.\n    // @see http://dom.spec.whatwg.org/#dom-domimplementation-hasfeature\n    doc.implementation.hasFeature('', '') !== true\n  ) {\n    // This is the only way to test support for the `wheel` event in IE9+.\n    isSupported = doc.implementation.hasFeature('Events.wheel', '3.0');\n  }\n\n  return isSupported;\n}\nconst Mousewheel = {\n  lastScrollTime: Utils.now(),\n  event: (function getEvent() {\n    if (win.navigator.userAgent.indexOf('firefox') > -1) return 'DOMMouseScroll';\n    return isEventSupported() ? 'wheel' : 'mousewheel';\n  }()),\n  normalize(e) {\n    // Reasonable defaults\n    const PIXEL_STEP = 10;\n    const LINE_HEIGHT = 40;\n    const PAGE_HEIGHT = 800;\n\n    let sX = 0;\n    let sY = 0; // spinX, spinY\n    let pX = 0;\n    let pY = 0; // pixelX, pixelY\n\n    // Legacy\n    if ('detail' in e) {\n      sY = e.detail;\n    }\n    if ('wheelDelta' in e) {\n      sY = -e.wheelDelta / 120;\n    }\n    if ('wheelDeltaY' in e) {\n      sY = -e.wheelDeltaY / 120;\n    }\n    if ('wheelDeltaX' in e) {\n      sX = -e.wheelDeltaX / 120;\n    }\n\n    // side scrolling on FF with DOMMouseScroll\n    if ('axis' in e && e.axis === e.HORIZONTAL_AXIS) {\n      sX = sY;\n      sY = 0;\n    }\n\n    pX = sX * PIXEL_STEP;\n    pY = sY * PIXEL_STEP;\n\n    if ('deltaY' in e) {\n      pY = e.deltaY;\n    }\n    if ('deltaX' in e) {\n      pX = e.deltaX;\n    }\n\n    if ((pX || pY) && e.deltaMode) {\n      if (e.deltaMode === 1) { // delta in LINE units\n        pX *= LINE_HEIGHT;\n        pY *= LINE_HEIGHT;\n      } else { // delta in PAGE units\n        pX *= PAGE_HEIGHT;\n        pY *= PAGE_HEIGHT;\n      }\n    }\n\n    // Fall-back if spin cannot be determined\n    if (pX && !sX) {\n      sX = (pX < 1) ? -1 : 1;\n    }\n    if (pY && !sY) {\n      sY = (pY < 1) ? -1 : 1;\n    }\n\n    return {\n      spinX: sX,\n      spinY: sY,\n      pixelX: pX,\n      pixelY: pY,\n    };\n  },\n  handle(event) {\n    let e = event;\n    const swiper = this;\n    const params = swiper.params.mousewheel;\n    if (e.originalEvent) e = e.originalEvent; // jquery fix\n    let delta = 0;\n    const rtlFactor = swiper.rtl ? -1 : 1;\n\n    const data$$1 = Mousewheel.normalize(e);\n\n    if (params.forceToAxis) {\n      if (swiper.isHorizontal()) {\n        if (Math.abs(data$$1.pixelX) > Math.abs(data$$1.pixelY)) delta = data$$1.pixelX * rtlFactor;\n        else return true;\n      } else if (Math.abs(data$$1.pixelY) > Math.abs(data$$1.pixelX)) delta = data$$1.pixelY;\n      else return true;\n    } else {\n      delta = Math.abs(data$$1.pixelX) > Math.abs(data$$1.pixelY) ? -data$$1.pixelX * rtlFactor : -data$$1.pixelY;\n    }\n\n    if (delta === 0) return true;\n\n    if (params.invert) delta = -delta;\n\n    if (!swiper.params.freeMode) {\n      if (Utils.now() - swiper.mousewheel.lastScrollTime > 60) {\n        if (delta < 0) {\n          if ((!swiper.isEnd || swiper.params.loop) && !swiper.animating) {\n            swiper.slideNext();\n            swiper.emit('scroll', e);\n          } else if (params.releaseOnEdges) return true;\n        } else if ((!swiper.isBeginning || swiper.params.loop) && !swiper.animating) {\n          swiper.slidePrev();\n          swiper.emit('scroll', e);\n        } else if (params.releaseOnEdges) return true;\n      }\n      swiper.mousewheel.lastScrollTime = (new win.Date()).getTime();\n    } else {\n      // Freemode or scrollContainer:\n      let position = swiper.getTranslate() + (delta * params.sensitivity);\n      const wasBeginning = swiper.isBeginning;\n      const wasEnd = swiper.isEnd;\n\n      if (position >= swiper.minTranslate()) position = swiper.minTranslate();\n      if (position <= swiper.maxTranslate()) position = swiper.maxTranslate();\n\n      swiper.setTransition(0);\n      swiper.setTranslate(position);\n      swiper.updateProgress();\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n\n      if ((!wasBeginning && swiper.isBeginning) || (!wasEnd && swiper.isEnd)) {\n        swiper.updateSlidesClasses();\n      }\n\n      if (swiper.params.freeModeSticky) {\n        clearTimeout(swiper.mousewheel.timeout);\n        swiper.mousewheel.timeout = Utils.nextTick(() => {\n          swiper.slideReset();\n        }, 300);\n      }\n      // Emit event\n      swiper.emit('scroll', e);\n\n      // Stop autoplay\n      if (swiper.params.autoplay && swiper.params.autoplayDisableOnInteraction) swiper.stopAutoplay();\n\n      // Return page scroll on edge positions\n      if (position === 0 || position === swiper.maxTranslate()) return true;\n    }\n\n    if (e.preventDefault) e.preventDefault();\n    else e.returnValue = false;\n    return false;\n  },\n  enable() {\n    const swiper = this;\n    if (!Mousewheel.event) return false;\n    if (swiper.mousewheel.enabled) return false;\n    let target = swiper.$el;\n    if (swiper.params.mousewheel.eventsTarged !== 'container') {\n      target = $(swiper.params.mousewheel.eventsTarged);\n    }\n    target.on(Mousewheel.event, swiper.mousewheel.handle);\n    swiper.mousewheel.enabled = true;\n    return true;\n  },\n  disable() {\n    const swiper = this;\n    if (!Mousewheel.event) return false;\n    if (!swiper.mousewheel.enabled) return false;\n    let target = swiper.$el;\n    if (swiper.params.mousewheel.eventsTarged !== 'container') {\n      target = $(swiper.params.mousewheel.eventsTarged);\n    }\n    target.off(Mousewheel.event, swiper.mousewheel.handle);\n    swiper.mousewheel.enabled = false;\n    return true;\n  },\n};\n\nvar Mousewheel$1 = {\n  name: 'mousewheel',\n  params: {\n    mousewheel: {\n      enabled: false,\n      releaseOnEdges: false,\n      invert: false,\n      forceToAxis: false,\n      sensitivity: 1,\n      eventsTarged: 'container',\n    },\n  },\n  create() {\n    const swiper = this;\n    Utils.extend(swiper, {\n      mousewheel: {\n        enabled: false,\n        enable: Mousewheel.enable.bind(swiper),\n        disable: Mousewheel.disable.bind(swiper),\n        handle: Mousewheel.handle.bind(swiper),\n        lastScrollTime: Utils.now(),\n      },\n    });\n  },\n  on: {\n    init() {\n      const swiper = this;\n      if (swiper.params.mousewheel.enabled) swiper.mousewheel.enable();\n    },\n    destroy() {\n      const swiper = this;\n      if (swiper.mousewheel.enabled) swiper.mousewheel.disable();\n    },\n  },\n};\n\nconst Navigation = {\n  update() {\n    // Update Navigation Buttons\n    const swiper = this;\n    const params = swiper.params.navigation;\n\n    if (swiper.params.loop) return;\n    const { $nextEl, $prevEl } = swiper.navigation;\n\n    if ($prevEl && $prevEl.length > 0) {\n      if (swiper.isBeginning) {\n        $prevEl.addClass(params.disabledClass);\n      } else {\n        $prevEl.removeClass(params.disabledClass);\n      }\n    }\n    if ($nextEl && $nextEl.length > 0) {\n      if (swiper.isEnd) {\n        $nextEl.addClass(params.disabledClass);\n      } else {\n        $nextEl.removeClass(params.disabledClass);\n      }\n    }\n  },\n  init() {\n    const swiper = this;\n    const params = swiper.params.navigation;\n    if (!(params.nextEl || params.prevEl)) return;\n\n    let $nextEl;\n    let $prevEl;\n    if (params.nextEl) {\n      $nextEl = $(params.nextEl);\n      if (\n        swiper.params.uniqueNavElements &&\n        typeof params.nextEl === 'string' &&\n        $nextEl.length > 1 &&\n        swiper.$el.find(params.nextEl).length === 1\n      ) {\n        $nextEl = swiper.$el.find(params.nextEl);\n      }\n    }\n    if (params.prevEl) {\n      $prevEl = $(params.prevEl);\n      if (\n        swiper.params.uniqueNavElements &&\n        typeof params.prevEl === 'string' &&\n        $prevEl.length > 1 &&\n        swiper.$el.find(params.prevEl).length === 1\n      ) {\n        $prevEl = swiper.$el.find(params.prevEl);\n      }\n    }\n\n    if ($nextEl && $nextEl.length > 0) {\n      $nextEl.on('click', (e) => {\n        e.preventDefault();\n        if (swiper.isEnd && !swiper.params.loop) return;\n        swiper.slideNext();\n      });\n    }\n    if ($prevEl && $prevEl.length > 0) {\n      $prevEl.on('click', (e) => {\n        e.preventDefault();\n        if (swiper.isBeginning && !swiper.params.loop) return;\n        swiper.slidePrev();\n      });\n    }\n\n    Utils.extend(swiper.navigation, {\n      $nextEl,\n      nextEl: $nextEl && $nextEl[0],\n      $prevEl,\n      prevEl: $prevEl && $prevEl[0],\n    });\n  },\n  destroy() {\n    const swiper = this;\n    const { $nextEl, $prevEl } = swiper.navigation;\n    if ($nextEl && $nextEl.length) {\n      $nextEl.off('click');\n      $nextEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n    if ($prevEl && $prevEl.length) {\n      $prevEl.off('click');\n      $prevEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n  },\n};\n\nvar Navigation$1 = {\n  name: 'navigation',\n  params: {\n    navigation: {\n      nextEl: null,\n      prevEl: null,\n\n      hideOnClick: false,\n      disabledClass: 'swiper-button-disabled',\n      hiddenClass: 'swiper-button-hidden',\n    },\n  },\n  create() {\n    const swiper = this;\n    Utils.extend(swiper, {\n      navigation: {\n        init: Navigation.init.bind(swiper),\n        update: Navigation.update.bind(swiper),\n        destroy: Navigation.destroy.bind(swiper),\n      },\n    });\n  },\n  on: {\n    init() {\n      const swiper = this;\n      swiper.navigation.init();\n      swiper.navigation.update();\n    },\n    toEdge() {\n      const swiper = this;\n      swiper.navigation.update();\n    },\n    fromEdge() {\n      const swiper = this;\n      swiper.navigation.update();\n    },\n    destroy() {\n      const swiper = this;\n      swiper.navigation.destroy();\n    },\n    click(e) {\n      const swiper = this;\n      const { $nextEl, $prevEl } = swiper.navigation;\n      if (\n        swiper.params.navigation.hideOnClick &&\n        !$(e.target).is($prevEl) &&\n        !$(e.target).is($nextEl)\n      ) {\n        if ($nextEl) $nextEl.toggleClass(swiper.params.navigation.hiddenClass);\n        if ($prevEl) $prevEl.toggleClass(swiper.params.navigation.hiddenClass);\n      }\n    },\n  },\n};\n\nconst Pagination = {\n  update() {\n    // Render || Update Pagination bullets/items\n    const swiper = this;\n    const rtl = swiper.rtl;\n    const params = swiper.params.pagination;\n    if (!params.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0) return;\n    const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n    const $el = swiper.pagination.$el;\n    // Current/Total\n    let current;\n    const total = swiper.params.loop ? Math.ceil((slidesLength - (swiper.loopedSlides * 2)) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n    if (swiper.params.loop) {\n      current = Math.ceil((swiper.activeIndex - swiper.loopedSlides) / swiper.params.slidesPerGroup);\n      if (current > slidesLength - 1 - (swiper.loopedSlides * 2)) {\n        current -= (slidesLength - (swiper.loopedSlides * 2));\n      }\n      if (current > total - 1) current -= total;\n      if (current < 0 && swiper.params.paginationType !== 'bullets') current = total + current;\n    } else if (typeof swiper.snapIndex !== 'undefined') {\n      current = swiper.snapIndex;\n    } else {\n      current = swiper.activeIndex || 0;\n    }\n    // Types\n    if (params.type === 'bullets' && swiper.pagination.bullets && swiper.pagination.bullets.length > 0) {\n      const bullets = swiper.pagination.bullets;\n      if (params.dynamicBullets) {\n        swiper.pagination.bulletSize = bullets.eq(0)[swiper.isHorizontal() ? 'outerWidth' : 'outerHeight'](true);\n        $el.css(swiper.isHorizontal() ? 'width' : 'height', `${swiper.pagination.bulletSize * 5}px`);\n      }\n      bullets.removeClass(`${params.bulletActiveClass} ${params.bulletActiveClass}-next ${params.bulletActiveClass}-next-next ${params.bulletActiveClass}-prev ${params.bulletActiveClass}-prev-prev`);\n      if ($el.length > 1) {\n        bullets.each((index$$1, bullet) => {\n          const $bullet = $(bullet);\n          if ($bullet.index() === current) {\n            $bullet.addClass(params.bulletActiveClass);\n            if (params.dynamicBullets) {\n              $bullet\n                .prev()\n                .addClass(`${params.bulletActiveClass}-prev`)\n                .prev()\n                .addClass(`${params.bulletActiveClass}-prev-prev`);\n              $bullet\n                .next()\n                .addClass(`${params.bulletActiveClass}-next`)\n                .next()\n                .addClass(`${params.bulletActiveClass}-next-next`);\n            }\n          }\n        });\n      } else {\n        const $bullet = bullets.eq(current);\n        $bullet.addClass(params.bulletActiveClass);\n        if (params.dynamicBullets) {\n          $bullet\n            .prev()\n            .addClass(`${params.bulletActiveClass}-prev`)\n            .prev()\n            .addClass(`${params.bulletActiveClass}-prev-prev`);\n          $bullet\n            .next()\n            .addClass(`${params.bulletActiveClass}-next`)\n            .next()\n            .addClass(`${params.bulletActiveClass}-next-next`);\n        }\n      }\n      if (params.dynamicBullets) {\n        const dynamicBulletsLength = Math.min(bullets.length, 5);\n        const bulletsOffset = (((swiper.pagination.bulletSize * dynamicBulletsLength) - (swiper.pagination.bulletSize)) / 2) - (current * swiper.pagination.bulletSize);\n        const offsetProp = rtl ? 'right' : 'left';\n        bullets.css(swiper.isHorizontal() ? offsetProp : 'top', `${bulletsOffset}px`);\n      }\n    }\n    if (params.type === 'fraction') {\n      $el.find(`.${params.currentClass}`).text(current + 1);\n      $el.find(`.${params.totalClass}`).text(total);\n    }\n    if (params.type === 'progressbar') {\n      const scale = (current + 1) / total;\n      let scaleX = scale;\n      let scaleY = 1;\n      if (!swiper.isHorizontal()) {\n        scaleY = scale;\n        scaleX = 1;\n      }\n      $el.find(`.${params.progressbarFillClass}`).transform(`translate3d(0,0,0) scaleX(${scaleX}) scaleY(${scaleY})`).transition(swiper.params.speed);\n    }\n    if (params.type === 'custom' && params.renderCustom) {\n      $el.html(params.renderCustom(swiper, current + 1, total));\n      swiper.emit('paginationRender', swiper, $el[0]);\n    } else {\n      swiper.emit('paginationUpdate', swiper, $el[0]);\n    }\n  },\n  render() {\n    // Render Container\n    const swiper = this;\n    const params = swiper.params.pagination;\n    if (!params.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0) return;\n    const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n\n    const $el = swiper.pagination.$el;\n    let paginationHTML = '';\n    if (params.type === 'bullets') {\n      const numberOfBullets = swiper.params.loop ? Math.ceil((slidesLength - (swiper.loopedSlides * 2)) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n      for (let i = 0; i < numberOfBullets; i += 1) {\n        if (params.renderBullet) {\n          paginationHTML += params.renderBullet.call(swiper, i, params.bulletClass);\n        } else {\n          paginationHTML += `<${params.bulletElement} class=\"${params.bulletClass}\"></${params.bulletElement}>`;\n        }\n      }\n      $el.html(paginationHTML);\n      swiper.pagination.bullets = $el.find(`.${params.bulletClass}`);\n    }\n    if (params.type === 'fraction') {\n      if (params.renderFraction) {\n        paginationHTML = params.renderFraction.call(swiper, params.currentClass, params.totalClass);\n      } else {\n        paginationHTML =\n        `<span class=\"${params.currentClass}\"></span>` +\n        ' / ' +\n        `<span class=\"${params.totalClass}\"></span>`;\n      }\n      $el.html(paginationHTML);\n    }\n    if (params.type === 'progressbar') {\n      if (params.renderProgressbar) {\n        paginationHTML = params.renderProgressbar.call(swiper, params.progressbarFillClass);\n      } else {\n        paginationHTML = `<span class=\"${params.progressbarFillClass}\"></span>`;\n      }\n      $el.html(paginationHTML);\n    }\n    if (params.type !== 'custom') {\n      swiper.emit('paginationRender', swiper.pagination.$el[0]);\n    }\n  },\n  init() {\n    const swiper = this;\n    const params = swiper.params.pagination;\n    if (!params.el) return;\n\n    let $el = $(params.el);\n    if ($el.length === 0) return;\n\n    if (\n      swiper.params.uniqueNavElements &&\n      typeof params.el === 'string' &&\n      $el.length > 1 &&\n      swiper.$el.find(params.el).length === 1\n    ) {\n      $el = swiper.$el.find(params.el);\n    }\n\n    if (params.type === 'bullets' && params.clickable) {\n      $el.addClass(params.clickableClass);\n    }\n\n    $el.addClass(params.modifierClass + params.type);\n\n    if (params.type === 'bullets' && params.dynamicBullets) {\n      $el.addClass(`${params.modifierClass}${params.type}-dynamic`);\n    }\n\n    if (params.clickable) {\n      $el.on('click', `.${params.bulletClass}`, function onClick(e) {\n        e.preventDefault();\n        let index$$1 = $(this).index() * swiper.params.slidesPerGroup;\n        if (swiper.params.loop) index$$1 += swiper.loopedSlides;\n        swiper.slideTo(index$$1);\n      });\n    }\n\n    Utils.extend(swiper.pagination, {\n      $el,\n      el: $el[0],\n    });\n  },\n  destroy() {\n    const swiper = this;\n    const params = swiper.params.pagination;\n    if (!params.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0) return;\n    const $el = swiper.pagination.$el;\n\n    $el.removeClass(params.hiddenClass);\n    $el.removeClass(params.modifierClass + params.type);\n    if (swiper.pagination.bullets) swiper.pagination.bullets.removeClass(params.bulletActiveClass);\n    if (params.clickable) {\n      $el.off('click', `.${params.bulletClass}`);\n    }\n  },\n};\n\nvar Pagination$1 = {\n  name: 'pagination',\n  params: {\n    pagination: {\n      el: null,\n      bulletElement: 'span',\n      clickable: false,\n      hideOnClick: false,\n      renderBullet: null,\n      renderProgressbar: null,\n      renderFraction: null,\n      renderCustom: null,\n      type: 'bullets', // 'bullets' or 'progressbar' or 'fraction' or 'custom'\n      dynamicBullets: false,\n\n      bulletClass: 'swiper-pagination-bullet',\n      bulletActiveClass: 'swiper-pagination-bullet-active',\n      modifierClass: 'swiper-pagination-', // NEW\n      currentClass: 'swiper-pagination-current',\n      totalClass: 'swiper-pagination-total',\n      hiddenClass: 'swiper-pagination-hidden',\n      progressbarFillClass: 'swiper-pagination-progressbar-fill',\n      clickableClass: 'swiper-pagination-clickable', // NEW\n    },\n  },\n  create() {\n    const swiper = this;\n    Utils.extend(swiper, {\n      pagination: {\n        init: Pagination.init.bind(swiper),\n        render: Pagination.render.bind(swiper),\n        update: Pagination.update.bind(swiper),\n        destroy: Pagination.destroy.bind(swiper),\n      },\n    });\n  },\n  on: {\n    init() {\n      const swiper = this;\n      swiper.pagination.init();\n      swiper.pagination.render();\n      swiper.pagination.update();\n    },\n    activeIndexChange() {\n      const swiper = this;\n      if (swiper.params.loop) {\n        swiper.pagination.update();\n      } else if (typeof swiper.snapIndex === 'undefined') {\n        swiper.pagination.update();\n      }\n    },\n    snapIndexChange() {\n      const swiper = this;\n      if (!swiper.params.loop) {\n        swiper.pagination.update();\n      }\n    },\n    slidesLengthChange() {\n      const swiper = this;\n      if (swiper.params.loop) {\n        swiper.pagination.render();\n        swiper.pagination.update();\n      }\n    },\n    snapGridLengthChange() {\n      const swiper = this;\n      if (!swiper.params.loop) {\n        swiper.pagination.render();\n        swiper.pagination.update();\n      }\n    },\n    destroy() {\n      const swiper = this;\n      swiper.pagination.destroy();\n    },\n    click(e) {\n      const swiper = this;\n      if (\n        swiper.params.pagination.el &&\n        swiper.params.pagination.hideOnClick &&\n        swiper.pagination.$el.length > 0 &&\n        !$(e.target).hasClass(swiper.params.pagination.bulletClass)\n      ) {\n        swiper.pagination.$el.toggleClass(swiper.params.pagination.hiddenClass);\n      }\n    },\n  },\n};\n\nconst Scrollbar = {\n  setTranslate() {\n    const swiper = this;\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    const { scrollbar, rtl, progress } = swiper;\n    const { dragSize, trackSize, $dragEl, $el } = scrollbar;\n    const params = swiper.params.scrollbar;\n\n    let newSize = dragSize;\n    let newPos = (trackSize - dragSize) * progress;\n    if (rtl && swiper.isHorizontal()) {\n      newPos = -newPos;\n      if (newPos > 0) {\n        newSize = dragSize - newPos;\n        newPos = 0;\n      } else if (-newPos + dragSize > trackSize) {\n        newSize = trackSize + newPos;\n      }\n    } else if (newPos < 0) {\n      newSize = dragSize + newPos;\n      newPos = 0;\n    } else if (newPos + dragSize > trackSize) {\n      newSize = trackSize - newPos;\n    }\n    if (swiper.isHorizontal()) {\n      if (Support.transforms3d) {\n        $dragEl.transform(`translate3d(${newPos}px, 0, 0)`);\n      } else {\n        $dragEl.transform(`translateX(${newPos}px)`);\n      }\n      $dragEl[0].style.width = `${newSize}px`;\n    } else {\n      if (Support.transforms3d) {\n        $dragEl.transform(`translate3d(0px, ${newPos}px, 0)`);\n      } else {\n        $dragEl.transform(`translateY(${newPos}px)`);\n      }\n      $dragEl[0].style.height = `${newSize}px`;\n    }\n    if (params.hide) {\n      clearTimeout(swiper.scrollbar.timeout);\n      $el[0].style.opacity = 1;\n      swiper.scrollbar.timeout = setTimeout(() => {\n        $el[0].style.opacity = 0;\n        $el.transition(400);\n      }, 1000);\n    }\n  },\n  setTransition(duration) {\n    const swiper = this;\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    swiper.scrollbar.$dragEl.transition(duration);\n  },\n  updateSize() {\n    const swiper = this;\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n\n    const { scrollbar } = swiper;\n    const { $dragEl, $el } = scrollbar;\n\n    $dragEl[0].style.width = '';\n    $dragEl[0].style.height = '';\n    const trackSize = swiper.isHorizontal() ? $el[0].offsetWidth : $el[0].offsetHeight;\n\n    const divider = swiper.size / swiper.virtualSize;\n    const moveDivider = divider * (trackSize / swiper.size);\n    let dragSize;\n    if (swiper.params.scrollbar.dragSize === 'auto') {\n      dragSize = trackSize * divider;\n    } else {\n      dragSize = parseInt(swiper.params.scrollbar.dragSize, 10);\n    }\n\n    if (swiper.isHorizontal()) {\n      $dragEl[0].style.width = `${dragSize}px`;\n    } else {\n      $dragEl[0].style.height = `${dragSize}px`;\n    }\n\n    if (divider >= 1) {\n      $el[0].style.display = 'none';\n    } else {\n      $el[0].style.display = '';\n    }\n    if (swiper.params.scrollbarHide) {\n      $el[0].style.opacity = 0;\n    }\n    Utils.extend(scrollbar, {\n      trackSize,\n      divider,\n      moveDivider,\n      dragSize,\n    });\n  },\n  setDragPosition(e) {\n    const swiper = this;\n    const { scrollbar } = swiper;\n    const { $el, dragSize, moveDivider } = scrollbar;\n\n    let pointerPosition;\n    if (swiper.isHorizontal()) {\n      pointerPosition = ((e.type === 'touchstart' || e.type === 'touchmove') ? e.targetTouches[0].pageX : e.pageX || e.clientX);\n    } else {\n      pointerPosition = ((e.type === 'touchstart' || e.type === 'touchmove') ? e.targetTouches[0].pageY : e.pageY || e.clientY);\n    }\n    let position = (pointerPosition) - $el.offset()[swiper.isHorizontal() ? 'left' : 'top'] - (dragSize / 2);\n    const positionMin = -swiper.minTranslate() * moveDivider;\n    const positionMax = -swiper.maxTranslate() * moveDivider;\n    if (position < positionMin) {\n      position = positionMin;\n    } else if (position > positionMax) {\n      position = positionMax;\n    }\n    if (swiper.rtl) {\n      position = positionMax - position;\n    }\n    position = -position / moveDivider;\n    swiper.updateProgress(position);\n    swiper.setTranslate(position);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  },\n  onDragStart(e) {\n    const swiper = this;\n    const params = swiper.params.scrollbar;\n    const { scrollbar, $wrapperEl } = swiper;\n    const { $el, $dragEl } = scrollbar;\n    swiper.scrollbar.isTouched = true;\n    e.preventDefault();\n    e.stopPropagation();\n\n    $wrapperEl.transition(100);\n    $dragEl.transition(100);\n    scrollbar.setDragPosition(e);\n\n    clearTimeout(swiper.scrollbar.dragTimeout);\n\n    $el.transition(0);\n    if (params.hide) {\n      $el.css('opacity', 1);\n    }\n    swiper.emit('scrollbarDragStart', e);\n  },\n  onDragMove(e) {\n    const swiper = this;\n    const { scrollbar, $wrapperEl } = swiper;\n    const { $el, $dragEl } = scrollbar;\n\n    if (!swiper.scrollbar.isTouched) return;\n    if (e.preventDefault) e.preventDefault();\n    else e.returnValue = false;\n    scrollbar.setDragPosition(e);\n    $wrapperEl.transition(0);\n    $el.transition(0);\n    $dragEl.transition(0);\n    swiper.emit('scrollbarDragMove', e);\n  },\n  onDragEnd(e) {\n    const swiper = this;\n\n    const params = swiper.params.scrollbar;\n    const { scrollbar } = swiper;\n    const { $el } = scrollbar;\n\n    if (!swiper.scrollbar.isTouched) return;\n    swiper.scrollbar.isTouched = false;\n    if (params.hide) {\n      clearTimeout(swiper.scrollbar.dragTimeout);\n      swiper.scrollbar.dragTimeout = Utils.nextTick(() => {\n        $el.css('opacity', 0);\n        $el.transition(400);\n      }, 1000);\n    }\n    swiper.emit('scrollbarDragEnd', e);\n    if (params.snapOnRelease) {\n      swiper.slideReset();\n    }\n  },\n  enableDraggable() {\n    const swiper = this;\n    if (!swiper.params.scrollbar.el) return;\n    const { scrollbar } = swiper;\n    const $el = scrollbar.$el;\n    const target = Support.touch ? $el[0] : document;\n    $el.on(swiper.scrollbar.dragEvents.start, swiper.scrollbar.onDragStart);\n    $(target).on(swiper.scrollbar.dragEvents.move, swiper.scrollbar.onDragMove);\n    $(target).on(swiper.scrollbar.dragEvents.end, swiper.scrollbar.onDragEnd);\n  },\n  disableDraggable() {\n    const swiper = this;\n    if (!swiper.params.scrollbar.el) return;\n    const { scrollbar } = swiper;\n    const $el = scrollbar.$el;\n    const target = Support.touch ? $el[0] : document;\n    $el.off(swiper.scrollbar.dragEvents.start);\n    $(target).off(swiper.scrollbar.dragEvents.move);\n    $(target).off(swiper.scrollbar.dragEvents.end);\n  },\n  init() {\n    const swiper = this;\n    if (!swiper.params.scrollbar.el) return;\n    const { scrollbar, $el: $swiperEl, touchEvents } = swiper;\n    const params = swiper.params.scrollbar;\n\n    let $el = $(params.el);\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1 && $swiperEl.find(params.el).length === 1) {\n      $el = $swiperEl.find(params.el);\n    }\n\n    let $dragEl = $el.find('.swiper-scrollbar-drag');\n    if ($dragEl.length === 0) {\n      $dragEl = $('<div class=\"swiper-scrollbar-drag\"></div>');\n      $el.append($dragEl);\n    }\n\n    swiper.scrollbar.dragEvents = (function dragEvents() {\n      if ((swiper.params.simulateTouch === false && !Support.touch)) {\n        return {\n          start: 'mousedown',\n          move: 'mousemove',\n          end: 'mouseup',\n        };\n      }\n      return touchEvents;\n    }());\n\n    Utils.extend(scrollbar, {\n      $el,\n      el: $el[0],\n      $dragEl,\n      dragEl: $dragEl[0],\n    });\n\n    if (params.draggable) {\n      scrollbar.enableDraggable();\n    }\n  },\n  destroy() {\n    const swiper = this;\n    swiper.scrollbar.disableDraggable();\n  },\n};\n\nvar Scrollbar$1 = {\n  name: 'scrollbar',\n  params: {\n    scrollbar: {\n      el: null,\n      dragSize: 'auto',\n      hide: false,\n      draggable: false,\n      snapOnRelease: true,\n    },\n  },\n  create() {\n    const swiper = this;\n    Utils.extend(swiper, {\n      scrollbar: {\n        init: Scrollbar.init.bind(swiper),\n        destroy: Scrollbar.destroy.bind(swiper),\n        updateSize: Scrollbar.updateSize.bind(swiper),\n        setTranslate: Scrollbar.setTranslate.bind(swiper),\n        setTransition: Scrollbar.setTransition.bind(swiper),\n        enableDraggable: Scrollbar.enableDraggable.bind(swiper),\n        disableDraggable: Scrollbar.disableDraggable.bind(swiper),\n        setDragPosition: Scrollbar.setDragPosition.bind(swiper),\n        onDragStart: Scrollbar.onDragStart.bind(swiper),\n        onDragMove: Scrollbar.onDragMove.bind(swiper),\n        onDragEnd: Scrollbar.onDragEnd.bind(swiper),\n        isTouched: false,\n        timeout: null,\n        dragTimeout: null,\n      },\n    });\n  },\n  on: {\n    init() {\n      const swiper = this;\n      swiper.scrollbar.init();\n      swiper.scrollbar.updateSize();\n      swiper.scrollbar.setTranslate();\n    },\n    update() {\n      const swiper = this;\n      swiper.scrollbar.updateSize();\n    },\n    resize() {\n      const swiper = this;\n      swiper.scrollbar.updateSize();\n    },\n    observerUpdate() {\n      const swiper = this;\n      swiper.scrollbar.updateSize();\n    },\n    setTranslate() {\n      const swiper = this;\n      swiper.scrollbar.setTranslate();\n    },\n    setTransition(duration) {\n      const swiper = this;\n      swiper.scrollbar.setTransition(duration);\n    },\n    destroy() {\n      const swiper = this;\n      swiper.scrollbar.destroy();\n    },\n  },\n};\n\nconst Parallax = {\n  setTransform(el, progress) {\n    const swiper = this;\n    const { rtl } = swiper;\n\n    const $el = $(el);\n    const rtlFactor = rtl ? -1 : 1;\n\n    const p = $el.attr('data-swiper-parallax') || '0';\n    let x = $el.attr('data-swiper-parallax-x');\n    let y = $el.attr('data-swiper-parallax-y');\n    const scale = $el.attr('data-swiper-parallax-scale');\n    const opacity = $el.attr('data-swiper-parallax-opacity');\n\n    if (x || y) {\n      x = x || '0';\n      y = y || '0';\n    } else if (swiper.isHorizontal()) {\n      x = p;\n      y = '0';\n    } else {\n      y = p;\n      x = '0';\n    }\n\n    if ((x).indexOf('%') >= 0) {\n      x = `${parseInt(x, 10) * progress * rtlFactor}%`;\n    } else {\n      x = `${x * progress * rtlFactor}px`;\n    }\n    if ((y).indexOf('%') >= 0) {\n      y = `${parseInt(y, 10) * progress}%`;\n    } else {\n      y = `${y * progress}px`;\n    }\n\n    if (typeof opacity !== 'undefined' && opacity !== null) {\n      const currentOpacity = opacity - ((opacity - 1) * (1 - Math.abs(progress)));\n      $el[0].style.opacity = currentOpacity;\n    }\n    if (typeof scale === 'undefined' || scale === null) {\n      $el.transform(`translate3d(${x}, ${y}, 0px)`);\n    } else {\n      const currentScale = scale - ((scale - 1) * (1 - Math.abs(progress)));\n      $el.transform(`translate3d(${x}, ${y}, 0px) scale(${currentScale})`);\n    }\n  },\n  setTranslate() {\n    const swiper = this;\n    const { $el, slides, progress, snapGrid } = swiper;\n    $el.children('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]')\n      .each((index$$1, el) => {\n        swiper.parallax.setTransform(el, progress);\n      });\n    slides.each((slideIndex, slideEl) => {\n      let slideProgress = slideEl.progress;\n      if (swiper.params.slidesPerGroup > 1 && swiper.params.slidesPerView !== 'auto') {\n        slideProgress += Math.ceil(slideIndex / 2) - (progress * (snapGrid.length - 1));\n      }\n      slideProgress = Math.min(Math.max(slideProgress, -1), 1);\n      $(slideEl).find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]')\n        .each((index$$1, el) => {\n          swiper.parallax.setTransform(el, slideProgress);\n        });\n    });\n  },\n  setTransition(duration = this.params.speed) {\n    const swiper = this;\n    const { $el } = swiper;\n    $el.find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]')\n      .each((index$$1, parallaxEl) => {\n        const $parallaxEl = $(parallaxEl);\n        let parallaxDuration = parseInt($parallaxEl.attr('data-swiper-parallax-duration'), 10) || duration;\n        if (duration === 0) parallaxDuration = 0;\n        $parallaxEl.transition(parallaxDuration);\n      });\n  },\n};\n\nvar Parallax$1 = {\n  name: 'parallax',\n  params: {\n    parallax: {\n      enabled: false,\n    },\n  },\n  create() {\n    const swiper = this;\n    Utils.extend(swiper, {\n      parallax: {\n        setTransform: Parallax.setTransform.bind(swiper),\n        setTranslate: Parallax.setTranslate.bind(swiper),\n        setTransition: Parallax.setTransition.bind(swiper),\n      },\n    });\n  },\n  on: {\n    beforeInit() {\n      const swiper = this;\n      swiper.params.watchSlidesProgress = true;\n    },\n    init() {\n      const swiper = this;\n      if (!swiper.params.parallax) return;\n      swiper.parallax.setTranslate();\n    },\n    setTranslate() {\n      const swiper = this;\n      if (!swiper.params.parallax) return;\n      swiper.parallax.setTranslate();\n    },\n    setTransition(duration) {\n      const swiper = this;\n      if (!swiper.params.parallax) return;\n      swiper.parallax.setTransition(duration);\n    },\n  },\n};\n\nconst Zoom = {\n  // Calc Scale From Multi-touches\n  getDistanceBetweenTouches(e) {\n    if (e.targetTouches.length < 2) return 1;\n    const x1 = e.targetTouches[0].pageX;\n    const y1 = e.targetTouches[0].pageY;\n    const x2 = e.targetTouches[1].pageX;\n    const y2 = e.targetTouches[1].pageY;\n    const distance = Math.sqrt(((x2 - x1) ** 2) + ((y2 - y1) ** 2));\n    return distance;\n  },\n  // Events\n  onGestureStart(e) {\n    const swiper = this;\n    const params = swiper.params.zoom;\n    const zoom = swiper.zoom;\n    const { gesture } = zoom;\n    zoom.fakeGestureTouched = false;\n    zoom.fakeGestureMoved = false;\n    if (!Support.gestures) {\n      if (e.type !== 'touchstart' || (e.type === 'touchstart' && e.targetTouches.length < 2)) {\n        return;\n      }\n      zoom.fakeGestureTouched = true;\n      gesture.scaleStart = Zoom.getDistanceBetweenTouches(e);\n    }\n    if (!gesture.$slideEl || !gesture.$slideEl.length) {\n      gesture.$slideEl = $(this);\n      if (gesture.$slideEl.length === 0) gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n      gesture.$imageEl = gesture.$slideEl.find('img, svg, canvas');\n      gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n      gesture.maxRatio = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n      if (gesture.$imageWrapEl.length === 0) {\n        gesture.$imageEl = undefined;\n        return;\n      }\n    }\n    gesture.$imageEl.transition(0);\n    swiper.zoom.isScaling = true;\n  },\n  onGestureChange(e) {\n    const swiper = this;\n    const params = swiper.params.zoom;\n    const zoom = swiper.zoom;\n    const { gesture } = zoom;\n    if (!Support.gestures) {\n      if (e.type !== 'touchmove' || (e.type === 'touchmove' && e.targetTouches.length < 2)) {\n        return;\n      }\n      zoom.fakeGestureMoved = true;\n      gesture.scaleMove = Zoom.getDistanceBetweenTouches(e);\n    }\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    if (Support.gestures) {\n      swiper.zoom.scale = e.scale * zoom.currentScale;\n    } else {\n      zoom.scale = (gesture.scaleMove / gesture.scaleStart) * zoom.currentScale;\n    }\n    if (zoom.scale > gesture.maxRatio) {\n      zoom.scale = (gesture.maxRatio - 1) + (((zoom.scale - gesture.maxRatio) + 1) ** 0.5);\n    }\n    if (zoom.scale < params.minRatio) {\n      zoom.scale = (params.minRatio + 1) - (((params.minRatio - zoom.scale) + 1) ** 0.5);\n    }\n    gesture.$imageEl.transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n  },\n  onGestureEnd(e) {\n    const swiper = this;\n    const params = swiper.params.zoom;\n    const zoom = swiper.zoom;\n    const { gesture } = zoom;\n    if (!Support.gestures) {\n      if (!zoom.fakeGestureTouched || !zoom.fakeGestureMoved) {\n        return;\n      }\n      if (e.type !== 'touchend' || (e.type === 'touchend' && e.changedTouches.length < 2 && !Device.android)) {\n        return;\n      }\n      zoom.fakeGestureTouched = false;\n      zoom.fakeGestureMoved = false;\n    }\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    zoom.scale = Math.max(Math.min(zoom.scale, gesture.maxRatio), params.minRatio);\n    gesture.$imageEl.transition(swiper.params.speed).transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n    zoom.currentScale = zoom.scale;\n    zoom.isScaling = false;\n    if (zoom.scale === 1) gesture.$slideEl = undefined;\n  },\n  onTouchStart(e) {\n    const swiper = this;\n    const zoom = swiper.zoom;\n    const { gesture, image } = zoom;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    if (image.isTouched) return;\n    if (Device.android) e.preventDefault();\n    image.isTouched = true;\n    image.touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n    image.touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  },\n  onTouchMove(e) {\n    const swiper = this;\n    const zoom = swiper.zoom;\n    const { gesture, image, velocity } = zoom;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    swiper.allowClick = false;\n    if (!image.isTouched || !gesture.$slideEl) return;\n\n    if (!image.isMoved) {\n      image.width = gesture.$imageEl[0].offsetWidth;\n      image.height = gesture.$imageEl[0].offsetHeight;\n      image.startX = Utils.getTranslate(gesture.$imageWrapEl[0], 'x') || 0;\n      image.startY = Utils.getTranslate(gesture.$imageWrapEl[0], 'y') || 0;\n      gesture.slideWidth = gesture.$slideEl[0].offsetWidth;\n      gesture.slideHeight = gesture.$slideEl[0].offsetHeight;\n      gesture.$imageWrapEl.transition(0);\n      if (swiper.rtl) image.startX = -image.startX;\n      if (swiper.rtl) image.startY = -image.startY;\n    }\n    // Define if we need image drag\n    const scaledWidth = image.width * zoom.scale;\n    const scaledHeight = image.height * zoom.scale;\n\n    if (scaledWidth < gesture.slideWidth && scaledHeight < gesture.slideHeight) return;\n\n    image.minX = Math.min(((gesture.slideWidth / 2) - (scaledWidth / 2)), 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(((gesture.slideHeight / 2) - (scaledHeight / 2)), 0);\n    image.maxY = -image.minY;\n\n    image.touchesCurrent.x = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n    image.touchesCurrent.y = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\n    if (!image.isMoved && !zoom.isScaling) {\n      if (\n        swiper.isHorizontal() &&\n        (\n          (Math.floor(image.minX) === Math.floor(image.startX) && image.touchesCurrent.x < image.touchesStart.x) ||\n          (Math.floor(image.maxX) === Math.floor(image.startX) && image.touchesCurrent.x > image.touchesStart.x)\n        )\n      ) {\n        image.isTouched = false;\n        return;\n      } else if (\n        !swiper.isHorizontal() &&\n        (\n          (Math.floor(image.minY) === Math.floor(image.startY) && image.touchesCurrent.y < image.touchesStart.y) ||\n          (Math.floor(image.maxY) === Math.floor(image.startY) && image.touchesCurrent.y > image.touchesStart.y)\n        )\n      ) {\n        image.isTouched = false;\n        return;\n      }\n    }\n    e.preventDefault();\n    e.stopPropagation();\n\n    image.isMoved = true;\n    image.currentX = (image.touchesCurrent.x - image.touchesStart.x) + image.startX;\n    image.currentY = (image.touchesCurrent.y - image.touchesStart.y) + image.startY;\n\n    if (image.currentX < image.minX) {\n      image.currentX = (image.minX + 1) - (((image.minX - image.currentX) + 1) ** 0.8);\n    }\n    if (image.currentX > image.maxX) {\n      image.currentX = (image.maxX - 1) + (((image.currentX - image.maxX) + 1) ** 0.8);\n    }\n\n    if (image.currentY < image.minY) {\n      image.currentY = (image.minY + 1) - (((image.minY - image.currentY) + 1) ** 0.8);\n    }\n    if (image.currentY > image.maxY) {\n      image.currentY = (image.maxY - 1) + (((image.currentY - image.maxY) + 1) ** 0.8);\n    }\n\n    // Velocity\n    if (!velocity.prevPositionX) velocity.prevPositionX = image.touchesCurrent.x;\n    if (!velocity.prevPositionY) velocity.prevPositionY = image.touchesCurrent.y;\n    if (!velocity.prevTime) velocity.prevTime = Date.now();\n    velocity.x = (image.touchesCurrent.x - velocity.prevPositionX) / (Date.now() - velocity.prevTime) / 2;\n    velocity.y = (image.touchesCurrent.y - velocity.prevPositionY) / (Date.now() - velocity.prevTime) / 2;\n    if (Math.abs(image.touchesCurrent.x - velocity.prevPositionX) < 2) velocity.x = 0;\n    if (Math.abs(image.touchesCurrent.y - velocity.prevPositionY) < 2) velocity.y = 0;\n    velocity.prevPositionX = image.touchesCurrent.x;\n    velocity.prevPositionY = image.touchesCurrent.y;\n    velocity.prevTime = Date.now();\n\n    gesture.$imageWrapEl.transform(`translate3d(${image.currentX}px, ${image.currentY}px,0)`);\n  },\n  onTouchEnd() {\n    const swiper = this;\n    const zoom = swiper.zoom;\n    const { gesture, image, velocity } = zoom;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    if (!image.isTouched || !image.isMoved) {\n      image.isTouched = false;\n      image.isMoved = false;\n      return;\n    }\n    image.isTouched = false;\n    image.isMoved = false;\n    let momentumDurationX = 300;\n    let momentumDurationY = 300;\n    const momentumDistanceX = velocity.x * momentumDurationX;\n    const newPositionX = image.currentX + momentumDistanceX;\n    const momentumDistanceY = velocity.y * momentumDurationY;\n    const newPositionY = image.currentY + momentumDistanceY;\n\n    // Fix duration\n    if (velocity.x !== 0) momentumDurationX = Math.abs((newPositionX - image.currentX) / velocity.x);\n    if (velocity.y !== 0) momentumDurationY = Math.abs((newPositionY - image.currentY) / velocity.y);\n    const momentumDuration = Math.max(momentumDurationX, momentumDurationY);\n\n    image.currentX = newPositionX;\n    image.currentY = newPositionY;\n\n    // Define if we need image drag\n    const scaledWidth = image.width * zoom.scale;\n    const scaledHeight = image.height * zoom.scale;\n    image.minX = Math.min(((gesture.slideWidth / 2) - (scaledWidth / 2)), 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(((gesture.slideHeight / 2) - (scaledHeight / 2)), 0);\n    image.maxY = -image.minY;\n    image.currentX = Math.max(Math.min(image.currentX, image.maxX), image.minX);\n    image.currentY = Math.max(Math.min(image.currentY, image.maxY), image.minY);\n\n    gesture.$imageWrapEl.transition(momentumDuration).transform(`translate3d(${image.currentX}px, ${image.currentY}px,0)`);\n  },\n  onTransitionEnd() {\n    const swiper = this;\n    const zoom = swiper.zoom;\n    const { gesture } = zoom;\n    if (gesture.$slideEl && swiper.previousIndex !== swiper.activeIndex) {\n      gesture.$imageEl.transform('translate3d(0,0,0) scale(1)');\n      gesture.$imageWrapEl.transform('translate3d(0,0,0)');\n      gesture.$slideEl = undefined;\n      gesture.$imageEl = undefined;\n      gesture.$imageWrapEl = undefined;\n\n      zoom.scale = 1;\n      zoom.currentScale = 1;\n    }\n  },\n  // Toggle Zoom\n  toggle(e) {\n    const swiper = this;\n    const zoom = swiper.zoom;\n\n    if (zoom.scale && zoom.scale !== 1) {\n      // Zoom Out\n      zoom.out();\n    } else {\n      // Zoom In\n      zoom.in(e);\n    }\n  },\n  in(e) {\n    const swiper = this;\n\n    const zoom = swiper.zoom;\n    const params = swiper.params.zoom;\n    const { gesture, image } = zoom;\n\n    if (!gesture.$slideEl) {\n      gesture.$slideEl = swiper.clickedSlide ? $(swiper.clickedSlide) : swiper.slides.eq(swiper.activeIndex);\n      gesture.$imageEl = gesture.$slideEl.find('img, svg, canvas');\n      gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n    }\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n\n    gesture.$slideEl.addClass(`${params.zoomedSlideClass}`);\n\n    let touchX;\n    let touchY;\n    let offsetX;\n    let offsetY;\n    let diffX;\n    let diffY;\n    let translateX;\n    let translateY;\n    let imageWidth;\n    let imageHeight;\n    let scaledWidth;\n    let scaledHeight;\n    let translateMinX;\n    let translateMinY;\n    let translateMaxX;\n    let translateMaxY;\n    let slideWidth;\n    let slideHeight;\n\n    if (typeof image.touchesStart.x === 'undefined' && e) {\n      touchX = e.type === 'touchend' ? e.changedTouches[0].pageX : e.pageX;\n      touchY = e.type === 'touchend' ? e.changedTouches[0].pageY : e.pageY;\n    } else {\n      touchX = image.touchesStart.x;\n      touchY = image.touchesStart.y;\n    }\n\n    zoom.scale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n    zoom.currentScale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n    if (e) {\n      slideWidth = gesture.$slideEl[0].offsetWidth;\n      slideHeight = gesture.$slideEl[0].offsetHeight;\n      offsetX = gesture.$slideEl.offset().left;\n      offsetY = gesture.$slideEl.offset().top;\n      diffX = (offsetX + (slideWidth / 2)) - touchX;\n      diffY = (offsetY + (slideHeight / 2)) - touchY;\n\n      imageWidth = gesture.$imageEl[0].offsetWidth;\n      imageHeight = gesture.$imageEl[0].offsetHeight;\n      scaledWidth = imageWidth * zoom.scale;\n      scaledHeight = imageHeight * zoom.scale;\n\n      translateMinX = Math.min(((slideWidth / 2) - (scaledWidth / 2)), 0);\n      translateMinY = Math.min(((slideHeight / 2) - (scaledHeight / 2)), 0);\n      translateMaxX = -translateMinX;\n      translateMaxY = -translateMinY;\n\n      translateX = diffX * zoom.scale;\n      translateY = diffY * zoom.scale;\n\n      if (translateX < translateMinX) {\n        translateX = translateMinX;\n      }\n      if (translateX > translateMaxX) {\n        translateX = translateMaxX;\n      }\n\n      if (translateY < translateMinY) {\n        translateY = translateMinY;\n      }\n      if (translateY > translateMaxY) {\n        translateY = translateMaxY;\n      }\n    } else {\n      translateX = 0;\n      translateY = 0;\n    }\n    gesture.$imageWrapEl.transition(300).transform(`translate3d(${translateX}px, ${translateY}px,0)`);\n    gesture.$imageEl.transition(300).transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n  },\n  out() {\n    const swiper = this;\n\n    const zoom = swiper.zoom;\n    const params = swiper.params.zoom;\n    const { gesture } = zoom;\n\n    if (!gesture.$slideEl) {\n      gesture.$slideEl = swiper.clickedSlide ? $(swiper.clickedSlide) : swiper.slides.eq(swiper.activeIndex);\n      gesture.$imageEl = gesture.$slideEl.find('img, svg, canvas');\n      gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n    }\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n\n    zoom.scale = 1;\n    zoom.currentScale = 1;\n    gesture.$imageWrapEl.transition(300).transform('translate3d(0,0,0)');\n    gesture.$imageEl.transition(300).transform('translate3d(0,0,0) scale(1)');\n    gesture.$slideEl.removeClass(`${params.zoomedSlideClass}`);\n    gesture.$slideEl = undefined;\n  },\n  // Attach/Detach Events\n  enable() {\n    const swiper = this;\n    const zoom = swiper.zoom;\n    if (zoom.enabled) return;\n    zoom.enabled = true;\n\n    const slides = swiper.slides;\n\n    const passiveListener = swiper.touchEvents.start === 'touchstart' && Support.passiveListener && swiper.params.passiveListeners ? { passive: true, capture: false } : false;\n\n    // Scale image\n    if (Support.gestures) {\n      slides.on('gesturestart', zoom.onGestureStart, passiveListener);\n      slides.on('gesturechange', zoom.onGestureChange, passiveListener);\n      slides.on('gestureend', zoom.onGestureEnd, passiveListener);\n    } else if (swiper.touchEvents.start === 'touchstart') {\n      slides.on(swiper.touchEvents.start, zoom.onGestureStart, passiveListener);\n      slides.on(swiper.touchEvents.move, zoom.onGestureChange, passiveListener);\n      slides.on(swiper.touchEvents.end, zoom.onGestureEnd, passiveListener);\n    }\n\n    // Move image\n    swiper.slides.each((index$$1, slideEl) => {\n      const $slideEl = $(slideEl);\n      if ($slideEl.find(`.${swiper.params.zoom.containerClass}`).length > 0) {\n        $slideEl.on(swiper.touchEvents.move, zoom.onTouchMove);\n      }\n    });\n  },\n  disable() {\n    const swiper = this;\n    const zoom = swiper.zoom;\n    if (!zoom.enabled) return;\n\n    swiper.zoom.enabled = false;\n\n    const slides = swiper.slides;\n\n    const passiveListener = swiper.touchEvents.start === 'touchstart' && Support.passiveListener && swiper.params.passiveListeners ? { passive: true, capture: false } : false;\n\n    // Scale image\n    if (Support.gestures) {\n      slides.off('gesturestart', zoom.onGestureStart, passiveListener);\n      slides.off('gesturechange', zoom.onGestureChange, passiveListener);\n      slides.off('gestureend', zoom.onGestureEnd, passiveListener);\n    } else if (swiper.touchEvents.start === 'touchstart') {\n      slides.off(swiper.touchEvents.start, zoom.onGestureStart, passiveListener);\n      slides.off(swiper.touchEvents.move, zoom.onGestureChange, passiveListener);\n      slides.off(swiper.touchEvents.end, zoom.onGestureEnd, passiveListener);\n    }\n\n    // Move image\n    swiper.slides.each((index$$1, slideEl) => {\n      const $slideEl = $(slideEl);\n      if ($slideEl.find(`.${swiper.params.zoom.containerClass}`).length > 0) {\n        $slideEl.off(swiper.touchEvents.move, zoom.onTouchMove);\n      }\n    });\n  },\n};\n\nvar Zoom$1 = {\n  name: 'zoom',\n  params: {\n    zoom: {\n      enabled: false,\n      maxRatio: 3,\n      minRatio: 1,\n      toggle: true,\n      containerClass: 'swiper-zoom-container',\n      zoomedSlideClass: 'swiper-slide-zoomed',\n    },\n  },\n  create() {\n    const swiper = this;\n    const zoom = {\n      enabled: false,\n      scale: 1,\n      currentScale: 1,\n      isScaling: false,\n      gesture: {\n        $slideEl: undefined,\n        slideWidth: undefined,\n        slideHeight: undefined,\n        $imageEl: undefined,\n        $imageWrapEl: undefined,\n        maxRatio: 3,\n      },\n      image: {\n        isTouched: undefined,\n        isMoved: undefined,\n        currentX: undefined,\n        currentY: undefined,\n        minX: undefined,\n        minY: undefined,\n        maxX: undefined,\n        maxY: undefined,\n        width: undefined,\n        height: undefined,\n        startX: undefined,\n        startY: undefined,\n        touchesStart: {},\n        touchesCurrent: {},\n      },\n      velocity: {\n        x: undefined,\n        y: undefined,\n        prevPositionX: undefined,\n        prevPositionY: undefined,\n        prevTime: undefined,\n      },\n    };\n    ('onGestureStart onGestureChange onGestureEnd onTouchStart onTouchMove onTouchEnd onTransitionEnd toggle enable disable in out').split(' ').forEach((methodName) => {\n      zoom[methodName] = Zoom[methodName].bind(swiper);\n    });\n    Utils.extend(swiper, {\n      zoom,\n    });\n  },\n  on: {\n    init() {\n      const swiper = this;\n      if (swiper.params.zoom.enabled) {\n        swiper.zoom.enable();\n      }\n    },\n    destroy() {\n      const swiper = this;\n      swiper.zoom.disable();\n    },\n    touchStart(e) {\n      const swiper = this;\n      if (!swiper.zoom.enabled) return;\n      swiper.zoom.onTouchStart(e);\n    },\n    touchEnd(e) {\n      const swiper = this;\n      if (!swiper.zoom.enabled) return;\n      swiper.zoom.onTouchEnd(e);\n    },\n    doubleTap(e) {\n      const swiper = this;\n      if (swiper.params.zoom.enabled && swiper.zoom.enabled && swiper.params.zoom.toggle) {\n        swiper.zoom.toggle(e);\n      }\n    },\n    transitionEnd() {\n      const swiper = this;\n      if (swiper.zoom.enabled && swiper.params.zoom.enabled) {\n        swiper.zoom.onTransitionEnd();\n      }\n    },\n  },\n};\n\nconst Lazy = {\n  loadInSlide(index$$1, loadInDuplicate = true) {\n    const swiper = this;\n    const params = swiper.params.lazy;\n    if (typeof index$$1 === 'undefined') return;\n    if (swiper.slides.length === 0) return;\n    const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n\n    const $slideEl = isVirtual\n      ? swiper.$wrapperEl.children(`.${swiper.params.slideClass}[data-swiper-slide-index=\"${index$$1}\"]`)\n      : swiper.slides.eq(index$$1);\n\n    let $images = $slideEl.find(`.${params.elementClass}:not(.${params.loadedClass}):not(.${params.loadingClass})`);\n    if ($slideEl.hasClass(params.elementClass) && !$slideEl.hasClass(params.loadedClass) && !$slideEl.hasClass(params.loadingClass)) {\n      $images = $images.add($slideEl[0]);\n    }\n    if ($images.length === 0) return;\n\n    $images.each((imageIndex, imageEl) => {\n      const $imageEl = $(imageEl);\n      $imageEl.addClass(params.loadingClass);\n\n      const background = $imageEl.attr('data-background');\n      const src = $imageEl.attr('data-src');\n      const srcset = $imageEl.attr('data-srcset');\n      const sizes = $imageEl.attr('data-sizes');\n\n      swiper.loadImage($imageEl[0], (src || background), srcset, sizes, false, () => {\n        if (typeof swiper === 'undefined' || swiper === null || !swiper || (swiper && !swiper.params) || swiper.destroyed) return;\n        if (background) {\n          $imageEl.css('background-image', `url(\"${background}\")`);\n          $imageEl.removeAttr('data-background');\n        } else {\n          if (srcset) {\n            $imageEl.attr('srcset', srcset);\n            $imageEl.removeAttr('data-srcset');\n          }\n          if (sizes) {\n            $imageEl.attr('sizes', sizes);\n            $imageEl.removeAttr('data-sizes');\n          }\n          if (src) {\n            $imageEl.attr('src', src);\n            $imageEl.removeAttr('data-src');\n          }\n        }\n\n        $imageEl.addClass(params.loadedClass).removeClass(params.loadingClass);\n        $slideEl.find(`.${params.preloaderClass}`).remove();\n        if (swiper.params.loop && loadInDuplicate) {\n          const slideOriginalIndex = $slideEl.attr('data-swiper-slide-index');\n          if ($slideEl.hasClass(swiper.params.slideDuplicateClass)) {\n            const originalSlide = swiper.$wrapperEl.children(`[data-swiper-slide-index=\"${slideOriginalIndex}\"]:not(.${swiper.params.slideDuplicateClass})`);\n            swiper.lazy.loadInSlide(originalSlide.index(), false);\n          } else {\n            const duplicatedSlide = swiper.$wrapperEl.children(`.${swiper.params.slideDuplicateClass}[data-swiper-slide-index=\"${slideOriginalIndex}\"]`);\n            swiper.lazy.loadInSlide(duplicatedSlide.index(), false);\n          }\n        }\n        swiper.emit('lazyImageReady', $slideEl[0], $imageEl[0]);\n      });\n\n      swiper.emit('lazyImageLoad', $slideEl[0], $imageEl[0]);\n    });\n  },\n  load() {\n    const swiper = this;\n    const { $wrapperEl, params: swiperParams, slides, activeIndex } = swiper;\n    const isVirtual = swiper.virtual && swiperParams.virtual.enabled;\n    const params = swiperParams.lazy;\n\n    let slidesPerView = swiperParams.slidesPerView;\n    if (slidesPerView === 'auto') {\n      slidesPerView = 0;\n    }\n\n    function slideExist(index$$1) {\n      if (isVirtual) {\n        if ($wrapperEl.children(`.${swiperParams.slideClass}[data-swiper-slide-index=\"${index$$1}\"]`).length) {\n          return true;\n        }\n      } else if (slides[index$$1]) return true;\n      return false;\n    }\n    function slideIndex(slideEl) {\n      if (isVirtual) {\n        return $(slideEl).attr('data-swiper-slide-index');\n      }\n      return $(slideEl).index();\n    }\n\n    if (!swiper.lazy.initialImageLoaded) swiper.lazy.initialImageLoaded = true;\n    if (swiper.params.watchSlidesVisibility) {\n      $wrapperEl.children(`.${swiperParams.slideVisibleClass}`).each((elIndex, slideEl) => {\n        const index$$1 = isVirtual ? $(slideEl).attr('data-swiper-slide-index') : $(slideEl).index();\n        swiper.lazy.loadInSlide(index$$1);\n      });\n    } else if (slidesPerView > 1) {\n      for (let i = activeIndex; i < activeIndex + slidesPerView; i += 1) {\n        if (slideExist(i)) swiper.lazy.loadInSlide(i);\n      }\n    } else {\n      swiper.lazy.loadInSlide(activeIndex);\n    }\n    if (params.loadPrevNext) {\n      if (slidesPerView > 1 || (params.loadPrevNextAmount && params.loadPrevNextAmount > 1)) {\n        const amount = params.loadPrevNextAmount;\n        const spv = slidesPerView;\n        const maxIndex = Math.min(activeIndex + spv + Math.max(amount, spv), slides.length);\n        const minIndex = Math.max(activeIndex - Math.max(spv, amount), 0);\n        // Next Slides\n        for (let i = activeIndex + slidesPerView; i < maxIndex; i += 1) {\n          if (slideExist(i)) swiper.lazy.loadInSlide(i);\n        }\n        // Prev Slides\n        for (let i = minIndex; i < activeIndex; i += 1) {\n          if (slideExist(i)) swiper.lazy.loadInSlide(i);\n        }\n      } else {\n        const nextSlide = $wrapperEl.children(`.${swiperParams.slideNextClass}`);\n        if (nextSlide.length > 0) swiper.lazy.loadInSlide(slideIndex(nextSlide));\n\n        const prevSlide = $wrapperEl.children(`.${swiperParams.slidePrevClass}`);\n        if (prevSlide.length > 0) swiper.lazy.loadInSlide(slideIndex(prevSlide));\n      }\n    }\n  },\n};\n\nvar Lazy$1 = {\n  name: 'lazy',\n  params: {\n    lazy: {\n      enabled: false,\n      loadPrevNext: false,\n      loadPrevNextAmount: 1,\n      loadOnTransitionStart: false,\n\n      elementClass: 'swiper-lazy',\n      loadingClass: 'swiper-lazy-loading',\n      loadedClass: 'swiper-lazy-loaded',\n      preloaderClass: 'swiper-lazy-preloader',\n    },\n  },\n  create() {\n    const swiper = this;\n    Utils.extend(swiper, {\n      lazy: {\n        initialImageLoaded: false,\n        load: Lazy.load.bind(swiper),\n        loadInSlide: Lazy.loadInSlide.bind(swiper),\n      },\n    });\n  },\n  on: {\n    beforeInit() {\n      const swiper = this;\n      if (swiper.params.preloadImages) swiper.params.preloadImages = false;\n    },\n    init() {\n      const swiper = this;\n      if (swiper.params.lazy.enabled && !swiper.params.loop && swiper.params.initialSlide === 0) {\n        swiper.lazy.load();\n      }\n    },\n    scroll() {\n      const swiper = this;\n      if (swiper.params.freeMode && !swiper.params.freeModeSticky) {\n        swiper.lazy.load();\n      }\n    },\n    resize() {\n      const swiper = this;\n      if (swiper.params.lazy.enabled) {\n        swiper.lazy.load();\n      }\n    },\n    scrollbarDragMove() {\n      const swiper = this;\n      if (swiper.params.lazy.enabled) {\n        swiper.lazy.load();\n      }\n    },\n    transitionStart() {\n      const swiper = this;\n      if (swiper.params.lazy.enabled) {\n        if (swiper.params.lazy.loadOnTransitionStart || (!swiper.params.lazy.loadOnTransitionStart && !swiper.lazy.initialImageLoaded)) {\n          swiper.lazy.load();\n        }\n      }\n    },\n    transitionEnd() {\n      const swiper = this;\n      if (swiper.params.lazy.enabled && !swiper.params.lazy.loadOnTransitionStart) {\n        swiper.lazy.load();\n      }\n    },\n  },\n};\n\n/* eslint no-bitwise: [\"error\", { \"allow\": [\">>\"] }] */\nconst Controller = {\n  LinearSpline(x, y) {\n    const binarySearch = (function search() {\n      let maxIndex;\n      let minIndex;\n      let guess;\n      return (array, val) => {\n        minIndex = -1;\n        maxIndex = array.length;\n        while (maxIndex - minIndex > 1) {\n          guess = maxIndex + minIndex >> 1;\n          if (array[guess] <= val) {\n            minIndex = guess;\n          } else {\n            maxIndex = guess;\n          }\n        }\n        return maxIndex;\n      };\n    }());\n    this.x = x;\n    this.y = y;\n    this.lastIndex = x.length - 1;\n    // Given an x value (x2), return the expected y2 value:\n    // (x1,y1) is the known point before given value,\n    // (x3,y3) is the known point after given value.\n    let i1;\n    let i3;\n\n    this.interpolate = function interpolate(x2) {\n      if (!x2) return 0;\n\n      // Get the indexes of x1 and x3 (the array indexes before and after given x2):\n      i3 = binarySearch(this.x, x2);\n      i1 = i3 - 1;\n\n      // We have our indexes i1 & i3, so we can calculate already:\n      // y2 := ((x2−x1) × (y3−y1)) ÷ (x3−x1) + y1\n      return (((x2 - this.x[i1]) * (this.y[i3] - this.y[i1])) / (this.x[i3] - this.x[i1])) + this.y[i1];\n    };\n    return this;\n  },\n  // xxx: for now i will just save one spline function to to\n  getInterpolateFunction(c) {\n    const swiper = this;\n    if (!swiper.controller.spline) {\n      swiper.controller.spline = swiper.params.loop ?\n        new Controller.LinearSpline(swiper.slidesGrid, c.slidesGrid) :\n        new Controller.LinearSpline(swiper.snapGrid, c.snapGrid);\n    }\n  },\n  setTranslate(setTranslate, byController) {\n    const swiper = this;\n    const controlled = swiper.controller.control;\n    let multiplier;\n    let controlledTranslate;\n    function setControlledTranslate(c) {\n      // this will create an Interpolate function based on the snapGrids\n      // x is the Grid of the scrolled scroller and y will be the controlled scroller\n      // it makes sense to create this only once and recall it for the interpolation\n      // the function does a lot of value caching for performance\n      const translate = c.rtl && c.params.direction === 'horizontal' ? -swiper.translate : swiper.translate;\n      if (swiper.params.controller.by === 'slide') {\n        swiper.controller.getInterpolateFunction(c);\n        // i am not sure why the values have to be multiplicated this way, tried to invert the snapGrid\n        // but it did not work out\n        controlledTranslate = -swiper.controller.spline.interpolate(-translate);\n      }\n\n      if (!controlledTranslate || swiper.params.controller.by === 'container') {\n        multiplier = (c.maxTranslate() - c.minTranslate()) / (swiper.maxTranslate() - swiper.minTranslate());\n        controlledTranslate = ((translate - swiper.minTranslate()) * multiplier) + c.minTranslate();\n      }\n\n      if (swiper.params.controller.inverse) {\n        controlledTranslate = c.maxTranslate() - controlledTranslate;\n      }\n      c.updateProgress(controlledTranslate);\n      c.setTranslate(controlledTranslate, swiper);\n      c.updateActiveIndex();\n      c.updateSlidesClasses();\n    }\n    if (Array.isArray(controlled)) {\n      for (let i = 0; i < controlled.length; i += 1) {\n        if (controlled[i] !== byController && controlled[i] instanceof Swiper$1) {\n          setControlledTranslate(controlled[i]);\n        }\n      }\n    } else if (controlled instanceof Swiper$1 && byController !== controlled) {\n      setControlledTranslate(controlled);\n    }\n  },\n  setTransition(duration, byController) {\n    const swiper = this;\n    const controlled = swiper.controller.control;\n    let i;\n    function setControlledTransition(c) {\n      c.setTransition(duration, swiper);\n      if (duration !== 0) {\n        c.transitionStart();\n        c.$wrapperEl.transitionEnd(() => {\n          if (!controlled) return;\n          if (c.params.loop && swiper.params.controller.by === 'slide') {\n            c.loopFix();\n          }\n          c.transitionEnd();\n        });\n      }\n    }\n    if (Array.isArray(controlled)) {\n      for (i = 0; i < controlled.length; i += 1) {\n        if (controlled[i] !== byController && controlled[i] instanceof Swiper$1) {\n          setControlledTransition(controlled[i]);\n        }\n      }\n    } else if (controlled instanceof Swiper$1 && byController !== controlled) {\n      setControlledTransition(controlled);\n    }\n  },\n};\nvar Controller$1 = {\n  name: 'controller',\n  params: {\n    controller: {\n      control: undefined,\n      inverse: false,\n      by: 'slide', // or 'container'\n    },\n  },\n  create() {\n    const swiper = this;\n    Utils.extend(swiper, {\n      controller: {\n        control: swiper.params.controller.control,\n        getInterpolateFunction: Controller.getInterpolateFunction.bind(swiper),\n        setTranslate: Controller.setTranslate.bind(swiper),\n        setTransition: Controller.setTransition.bind(swiper),\n      },\n    });\n  },\n  on: {\n    update() {\n      const swiper = this;\n      if (!swiper.controller.control) return;\n      if (swiper.controller.spline) {\n        swiper.controller.spline = undefined;\n        delete swiper.controller.spline;\n      }\n    },\n    resize() {\n      const swiper = this;\n      if (!swiper.controller.control) return;\n      if (swiper.controller.spline) {\n        swiper.controller.spline = undefined;\n        delete swiper.controller.spline;\n      }\n    },\n    observerUpdate() {\n      const swiper = this;\n      if (!swiper.controller.control) return;\n      if (swiper.controller.spline) {\n        swiper.controller.spline = undefined;\n        delete swiper.controller.spline;\n      }\n    },\n    setTranslate(translate, byController) {\n      const swiper = this;\n      if (!swiper.controller.control) return;\n      swiper.controller.setTranslate(translate, byController);\n    },\n    setTransition(duration, byController) {\n      const swiper = this;\n      if (!swiper.controller.control) return;\n      swiper.controller.setTransition(duration, byController);\n    },\n  },\n};\n\nconst a11y = {\n  makeElFocusable($el) {\n    $el.attr('tabIndex', '0');\n    return $el;\n  },\n  addElRole($el, role) {\n    $el.attr('role', role);\n    return $el;\n  },\n  addElLabel($el, label) {\n    $el.attr('aria-label', label);\n    return $el;\n  },\n  disableEl($el) {\n    $el.attr('aria-disabled', true);\n    return $el;\n  },\n  enableEl($el) {\n    $el.attr('aria-disabled', false);\n    return $el;\n  },\n  onEnterKey(e) {\n    const swiper = this;\n    const params = swiper.params.a11y;\n    if (e.keyCode !== 13) return;\n    const $targetEl = $(e.target);\n    if (swiper.navigation && swiper.navigation.$nextEl && $targetEl.is(swiper.navigation.$nextEl)) {\n      if (!(swiper.isEnd && !swiper.params.loop)) {\n        swiper.slideNext();\n      }\n      if (swiper.isEnd) {\n        swiper.a11y.notify(params.lastSlideMessage);\n      } else {\n        swiper.a11y.notify(params.nextSlideMessage);\n      }\n    }\n    if (swiper.navigation && swiper.navigation.$prevEl && $targetEl.is(swiper.navigation.$prevEl)) {\n      if (!(swiper.isBeginning && !swiper.params.loop)) {\n        swiper.slidePrev();\n      }\n      if (swiper.isBeginning) {\n        swiper.a11y.notify(params.firstSlideMessage);\n      } else {\n        swiper.a11y.notify(params.prevSlideMessage);\n      }\n    }\n    if (swiper.pagination && $targetEl.is(`.${swiper.params.pagination.bulletClass}`)) {\n      $targetEl[0].click();\n    }\n  },\n  notify(message) {\n    const swiper = this;\n    const notification = swiper.a11y.liveRegion;\n    if (notification.length === 0) return;\n    notification.html('');\n    notification.html(message);\n  },\n  updateNavigation() {\n    const swiper = this;\n\n    if (swiper.params.loop) return;\n    const { $nextEl, $prevEl } = swiper.navigation;\n\n    if ($prevEl && $prevEl.length > 0) {\n      if (swiper.isBeginning) {\n        swiper.a11y.disableEl($prevEl);\n      } else {\n        swiper.a11y.enableEl($prevEl);\n      }\n    }\n    if ($nextEl && $nextEl.length > 0) {\n      if (swiper.isEnd) {\n        swiper.a11y.disableEl($nextEl);\n      } else {\n        swiper.a11y.enableEl($nextEl);\n      }\n    }\n  },\n  updatePagination() {\n    const swiper = this;\n    const params = swiper.params.a11y;\n    if (swiper.pagination && swiper.params.pagination.clickable && swiper.pagination.bullets && swiper.pagination.bullets.length) {\n      swiper.pagination.bullets.each((bulletIndex, bulletEl) => {\n        const $bulletEl = $(bulletEl);\n        swiper.a11y.makeElFocusable($bulletEl);\n        swiper.a11y.addElRole($bulletEl, 'button');\n        swiper.a11y.addElLabel($bulletEl, params.paginationBulletMessage.replace(/{{index}}/, $bulletEl.index() + 1));\n      });\n    }\n  },\n  init() {\n    const swiper = this;\n\n    swiper.$el.append(swiper.a11y.liveRegion);\n\n    // Navigation\n    const params = swiper.params.a11y;\n    let $nextEl;\n    let $prevEl;\n    if (swiper.navigation && swiper.navigation.$nextEl) {\n      $nextEl = swiper.navigation.$nextEl;\n    }\n    if (swiper.navigation && swiper.navigation.$prevEl) {\n      $prevEl = swiper.navigation.$prevEl;\n    }\n    if ($nextEl) {\n      swiper.a11y.makeElFocusable($nextEl);\n      swiper.a11y.addElRole($nextEl, 'button');\n      swiper.a11y.addElLabel($nextEl, params.nextSlideMessage);\n      $nextEl.on('keydown', swiper.a11y.onEnterKey);\n    }\n    if ($prevEl) {\n      swiper.a11y.makeElFocusable($prevEl);\n      swiper.a11y.addElRole($prevEl, 'button');\n      swiper.a11y.addElLabel($prevEl, params.prevSlideMessage);\n      $prevEl.on('keydown', swiper.a11y.onEnterKey);\n    }\n\n    // Pagination\n    if (swiper.pagination && swiper.params.pagination.clickable && swiper.pagination.bullets && swiper.pagination.bullets.length) {\n      swiper.pagination.$el.on('keydown', `.${swiper.params.pagination.bulletClass}`, swiper.a11y.onEnterKey);\n    }\n  },\n  destroy() {\n    const swiper = this;\n    if (swiper.a11y.liveRegion && swiper.a11y.liveRegion.length > 0) swiper.a11y.liveRegion.remove();\n\n    let $nextEl;\n    let $prevEl;\n    if (swiper.navigation && swiper.navigation.$nextEl) {\n      $nextEl = swiper.navigation.$nextEl;\n    }\n    if (swiper.navigation && swiper.navigation.$prevEl) {\n      $prevEl = swiper.navigation.$prevEl;\n    }\n    if ($nextEl) {\n      $nextEl.off('keydown', swiper.a11y.onEnterKey);\n    }\n    if ($prevEl) {\n      $prevEl.off('keydown', swiper.a11y.onEnterKey);\n    }\n\n    // Pagination\n    if (swiper.pagination && swiper.params.pagination.clickable && swiper.pagination.bullets && swiper.pagination.bullets.length) {\n      swiper.pagination.$el.off('keydown', `.${swiper.params.pagination.bulletClass}`, swiper.a11y.onEnterKey);\n    }\n  },\n};\nvar A11y = {\n  name: 'a11y',\n  params: {\n    a11y: {\n      enabled: false,\n      notificationClass: 'swiper-notification',\n      prevSlideMessage: 'Previous slide',\n      nextSlideMessage: 'Next slide',\n      firstSlideMessage: 'This is the first slide',\n      lastSlideMessage: 'This is the last slide',\n      paginationBulletMessage: 'Go to slide {{index}}',\n    },\n  },\n  create() {\n    const swiper = this;\n    Utils.extend(swiper, {\n      a11y: {\n        liveRegion: $(`<span class=\"${swiper.params.a11y.notificationClass}\" aria-live=\"assertive\" aria-atomic=\"true\"></span>`),\n      },\n    });\n    Object.keys(a11y).forEach((methodName) => {\n      swiper.a11y[methodName] = a11y[methodName].bind(swiper);\n    });\n  },\n  on: {\n    init() {\n      const swiper = this;\n      if (!swiper.params.a11y.enabled) return;\n      swiper.a11y.init();\n      swiper.a11y.updateNavigation();\n    },\n    toEdge() {\n      const swiper = this;\n      if (!swiper.params.a11y.enabled) return;\n      swiper.a11y.updateNavigation();\n    },\n    fromEdge() {\n      const swiper = this;\n      if (!swiper.params.a11y.enabled) return;\n      swiper.a11y.updateNavigation();\n    },\n    paginationUpdate() {\n      const swiper = this;\n      if (!swiper.params.a11y.enabled) return;\n      swiper.a11y.updatePagination();\n    },\n    destroy() {\n      const swiper = this;\n      if (!swiper.params.a11y.enabled) return;\n      swiper.a11y.destroy();\n    },\n  },\n};\n\nconst History = {\n  init() {\n    const swiper = this;\n    if (!swiper.params.history) return;\n    if (!win.history || !win.history.pushState) {\n      swiper.params.history.enabled = false;\n      swiper.params.hashNavigation.enabled = true;\n      return;\n    }\n    const history = swiper.history;\n    history.initialized = true;\n    history.paths = History.getPathValues();\n    if (!history.paths.key && !history.paths.value) return;\n    history.scrollToSlide(0, history.paths.value, swiper.params.runCallbacksOnInit);\n    if (!swiper.params.history.replaceState) {\n      win.addEventListener('popstate', swiper.history.setHistoryPopState);\n    }\n  },\n  destroy() {\n    const swiper = this;\n    if (!swiper.params.history.replaceState) {\n      win.removeEventListener('popstate', swiper.history.setHistoryPopState);\n    }\n  },\n  setHistoryPopState() {\n    const swiper = this;\n    swiper.history.paths = History.getPathValues();\n    swiper.history.scrollToSlide(swiper.params.speed, swiper.history.paths.value, false);\n  },\n  getPathValues() {\n    const pathArray = win.location.pathname.slice(1).split('/');\n    const total = pathArray.length;\n    const key = pathArray[total - 2];\n    const value = pathArray[total - 1];\n    return { key, value };\n  },\n  setHistory(key, index$$1) {\n    const swiper = this;\n    if (!swiper.history.initialized || !swiper.params.history.enabled) return;\n    const slide = swiper.slides.eq(index$$1);\n    let value = History.slugify(slide.attr('data-history'));\n    if (!win.location.pathname.includes(key)) {\n      value = `${key}/${value}`;\n    }\n    const currentState = win.history.state;\n    if (currentState && currentState.value === value) {\n      return;\n    }\n    if (swiper.params.history.replaceState) {\n      win.history.replaceState({ value }, null, value);\n    } else {\n      win.history.pushState({ value }, null, value);\n    }\n  },\n  slugify(text$$1) {\n    return text$$1.toString().toLowerCase()\n      .replace(/\\s+/g, '-')\n      .replace(/[^\\w-]+/g, '')\n      .replace(/--+/g, '-')\n      .replace(/^-+/, '')\n      .replace(/-+$/, '');\n  },\n  scrollToSlide(speed, value, runCallbacks) {\n    const swiper = this;\n    if (value) {\n      for (let i = 0, length = swiper.slides.length; i < length; i += 1) {\n        const slide = swiper.slides.eq(i);\n        const slideHistory = History.slugify(slide.attr('data-history'));\n        if (slideHistory === value && !slide.hasClass(swiper.params.slideDuplicateClass)) {\n          const index$$1 = slide.index();\n          swiper.slideTo(index$$1, speed, runCallbacks);\n        }\n      }\n    } else {\n      swiper.slideTo(0, speed, runCallbacks);\n    }\n  },\n};\n\nvar History$1 = {\n  name: 'history',\n  params: {\n    history: {\n      enabled: false,\n      replaceState: false,\n      key: 'slides',\n    },\n  },\n  create() {\n    const swiper = this;\n    Utils.extend(swiper, {\n      history: {\n        init: History.init.bind(swiper),\n        setHistory: History.setHistory.bind(swiper),\n        setHistoryPopState: History.setHistoryPopState.bind(swiper),\n        scrollToSlide: History.scrollToSlide.bind(swiper),\n      },\n    });\n  },\n  on: {\n    init() {\n      const swiper = this;\n      if (swiper.params.history.enabled) {\n        swiper.history.init();\n      }\n    },\n    destroy() {\n      const swiper = this;\n      if (swiper.params.history.enabled) {\n        swiper.history.destroy();\n      }\n    },\n    transitionEnd() {\n      const swiper = this;\n      if (swiper.history.initialized) {\n        swiper.history.setHistory(swiper.params.history.key, swiper.activeIndex);\n      }\n    },\n  },\n};\n\nconst HashNavigation = {\n  onHashCange() {\n    const swiper = this;\n    const newHash = doc.location.hash.replace('#', '');\n    const activeSlideHash = swiper.slides.eq(swiper.activeIndex).attr('data-hash');\n    if (newHash !== activeSlideHash) {\n      swiper.slideTo(swiper.$wrapperEl.children(`.${swiper.params.slideClass}[data-hash=\"${newHash}\"]`).index());\n    }\n  },\n  setHash() {\n    const swiper = this;\n    if (!swiper.hashNavigation.initialized || !swiper.params.hashNavigation.enabled) return;\n    if (swiper.params.hashNavigation.replaceState && win.history && win.history.replaceState) {\n      win.history.replaceState(null, null, (`#${swiper.slides.eq(swiper.activeIndex).attr('data-hash')}` || ''));\n    } else {\n      const slide = swiper.slides.eq(swiper.activeIndex);\n      const hash = slide.attr('data-hash') || slide.attr('data-history');\n      doc.location.hash = hash || '';\n    }\n  },\n  init() {\n    const swiper = this;\n    if (!swiper.params.hashNavigation.enabled || (swiper.params.history && swiper.params.history.enabled)) return;\n    swiper.hashNavigation.initialized = true;\n    const hash = doc.location.hash.replace('#', '');\n    if (hash) {\n      const speed = 0;\n      for (let i = 0, length = swiper.slides.length; i < length; i += 1) {\n        const slide = swiper.slides.eq(i);\n        const slideHash = slide.attr('data-hash') || slide.attr('data-history');\n        if (slideHash === hash && !slide.hasClass(swiper.params.slideDuplicateClass)) {\n          const index$$1 = slide.index();\n          swiper.slideTo(index$$1, speed, swiper.params.runCallbacksOnInit, true);\n        }\n      }\n    }\n    if (swiper.params.hashNavigation.watchState) {\n      $(win).on('hashchange', swiper.hashNavigation.onHashCange);\n    }\n  },\n  destroy() {\n    const swiper = this;\n    if (swiper.params.hashNavigation.watchState) {\n      $(win).off('hashchange', swiper.hashNavigation.onHashCange);\n    }\n  },\n};\nvar HashNavigation$1 = {\n  name: 'hash-navigation',\n  params: {\n    hashNavigation: {\n      enabled: false,\n      replaceState: false,\n      watchState: false,\n    },\n  },\n  create() {\n    const swiper = this;\n    Utils.extend(swiper, {\n      hashNavigation: {\n        initialized: false,\n        init: HashNavigation.init.bind(swiper),\n        destroy: HashNavigation.destroy.bind(swiper),\n        setHash: HashNavigation.setHash.bind(swiper),\n        onHashCange: HashNavigation.onHashCange.bind(swiper),\n      },\n    });\n  },\n  on: {\n    init() {\n      const swiper = this;\n      if (swiper.params.hashNavigation.enabled) {\n        swiper.hashNavigation.init();\n      }\n    },\n    destroy() {\n      const swiper = this;\n      if (swiper.params.hashNavigation.enabled) {\n        swiper.hashNavigation.destroy();\n      }\n    },\n    transitionEnd() {\n      const swiper = this;\n      if (swiper.hashNavigation.initialized) {\n        swiper.hashNavigation.setHash();\n      }\n    },\n  },\n};\n\nconst Autoplay = {\n  run() {\n    const swiper = this;\n    const $activeSlideEl = swiper.slides.eq(swiper.activeIndex);\n    let delay = swiper.params.autoplay.delay;\n    if ($activeSlideEl.attr('data-swiper-autoplay')) {\n      delay = $activeSlideEl.attr('data-swiper-autoplay') || swiper.params.autoplay.delay;\n    }\n    swiper.autoplay.timeout = Utils.nextTick(() => {\n      if (swiper.params.loop) {\n        swiper.loopFix();\n        swiper.slideNext(swiper.params.speed, true, true);\n        swiper.emit('autoplay');\n      } else if (!swiper.isEnd) {\n        swiper.slideNext(swiper.params.speed, true, true);\n        swiper.emit('autoplay');\n      } else if (!swiper.params.autoplay.stopOnLastSlide) {\n        swiper.slideTo(0, swiper.params.speed, true, true);\n        swiper.emit('autoplay');\n      } else {\n        swiper.autoplay.stop();\n      }\n    }, delay);\n  },\n  start() {\n    const swiper = this;\n    if (typeof swiper.autoplay.timeout !== 'undefined') return false;\n    if (swiper.autoplay.running) return false;\n    swiper.autoplay.running = true;\n    swiper.emit('autoplayStart');\n    swiper.autoplay.run();\n    return true;\n  },\n  stop() {\n    const swiper = this;\n    if (!swiper.autoplay.running) return false;\n    if (typeof swiper.autoplay.timeout === 'undefined') return false;\n\n    if (swiper.autoplay.timeout) {\n      clearTimeout(swiper.autoplay.timeout);\n      swiper.autoplay.timeout = undefined;\n    }\n    swiper.autoplay.running = false;\n    swiper.emit('autoplayStop');\n    return true;\n  },\n  pause(speed) {\n    const swiper = this;\n    if (!swiper.autoplay.running) return;\n    if (swiper.autoplay.paused) return;\n    if (swiper.autoplay.timeout) clearTimeout(swiper.autoplay.timeout);\n    swiper.autoplay.paused = true;\n    if (speed === 0) {\n      swiper.autoplay.paused = false;\n      swiper.autoplay.run();\n    } else {\n      swiper.$wrapperEl.transitionEnd(() => {\n        if (!swiper || swiper.destroyed) return;\n        swiper.autoplay.paused = false;\n        if (!swiper.autoplay.running) {\n          swiper.autoplay.stop();\n        } else {\n          swiper.autoplay.run();\n        }\n      });\n    }\n  },\n};\n\nvar Autoplay$1 = {\n  name: 'autoplay',\n  params: {\n    autoplay: {\n      enabled: false,\n      delay: 3000,\n      disableOnInteraction: true,\n      stopOnLastSlide: false,\n    },\n  },\n  create() {\n    const swiper = this;\n    Utils.extend(swiper, {\n      autoplay: {\n        running: false,\n        paused: false,\n        run: Autoplay.run.bind(swiper),\n        start: Autoplay.start.bind(swiper),\n        stop: Autoplay.stop.bind(swiper),\n        pause: Autoplay.pause.bind(swiper),\n      },\n    });\n  },\n  on: {\n    init() {\n      const swiper = this;\n      if (swiper.params.autoplay.enabled) {\n        swiper.autoplay.start();\n      }\n    },\n    beforeTransitionStart(speed, internal) {\n      const swiper = this;\n      if (swiper.autoplay.running) {\n        if (internal || !swiper.params.autoplay.disableOnInteraction) {\n          swiper.autoplay.pause(speed);\n        } else {\n          swiper.autoplay.stop();\n        }\n      }\n    },\n    sliderFirstMove() {\n      const swiper = this;\n      if (swiper.autoplay.running) {\n        if (swiper.params.autoplay.disableOnInteraction) {\n          swiper.autoplay.stop();\n        } else {\n          swiper.autoplay.pause();\n        }\n      }\n    },\n    destroy() {\n      const swiper = this;\n      if (swiper.autoplay.running) {\n        swiper.autoplay.stop();\n      }\n    },\n  },\n};\n\nconst Fade = {\n  setTranslate() {\n    const swiper = this;\n    const { slides } = swiper;\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = swiper.slides.eq(i);\n      const offset$$1 = $slideEl[0].swiperSlideOffset;\n      let tx = -offset$$1;\n      if (!swiper.params.virtualTranslate) tx -= swiper.translate;\n      let ty = 0;\n      if (!swiper.isHorizontal()) {\n        ty = tx;\n        tx = 0;\n      }\n      const slideOpacity = swiper.params.fadeEffect.crossFade ?\n        Math.max(1 - Math.abs($slideEl[0].progress), 0) :\n        1 + Math.min(Math.max($slideEl[0].progress, -1), 0);\n      $slideEl\n        .css({\n          opacity: slideOpacity,\n        })\n        .transform(`translate3d(${tx}px, ${ty}px, 0px)`);\n    }\n  },\n  setTransition(duration) {\n    const swiper = this;\n    const { slides, $wrapperEl } = swiper;\n    slides.transition(duration);\n    if (swiper.params.virtualTranslate && duration !== 0) {\n      let eventTriggered = false;\n      slides.transitionEnd(() => {\n        if (eventTriggered) return;\n        if (!swiper || swiper.destroyed) return;\n        eventTriggered = true;\n        swiper.animating = false;\n        const triggerEvents = ['webkitTransitionEnd', 'transitionend'];\n        for (let i = 0; i < triggerEvents.length; i += 1) {\n          $wrapperEl.trigger(triggerEvents[i]);\n        }\n      });\n    }\n  },\n};\n\nvar EffectFade = {\n  name: 'effect-fade',\n  params: {\n    fadeEffect: {\n      crossFade: false,\n    },\n  },\n  create() {\n    const swiper = this;\n    Utils.extend(swiper, {\n      fadeEffect: {\n        setTranslate: Fade.setTranslate.bind(swiper),\n        setTransition: Fade.setTransition.bind(swiper),\n      },\n    });\n  },\n  on: {\n    beforeInit() {\n      const swiper = this;\n      if (swiper.params.effect !== 'fade') return;\n      swiper.classNames.push(`${swiper.params.containerModifierClass}fade`);\n      const overwriteParams = {\n        slidesPerView: 1,\n        slidesPerColumn: 1,\n        slidesPerGroup: 1,\n        watchSlidesProgress: true,\n        spaceBetween: 0,\n        virtualTranslate: true,\n      };\n      Utils.extend(swiper.params, overwriteParams);\n      Utils.extend(swiper.originalParams, overwriteParams);\n    },\n    setTranslate() {\n      const swiper = this;\n      if (swiper.params.effect !== 'fade') return;\n      swiper.fadeEffect.setTranslate();\n    },\n    setTransition(duration) {\n      const swiper = this;\n      if (swiper.params.effect !== 'fade') return;\n      swiper.fadeEffect.setTransition(duration);\n    },\n  },\n};\n\nconst Cube = {\n  setTranslate() {\n    const swiper = this;\n    const { $el, $wrapperEl, slides, width: swiperWidth, height: swiperHeight, rtl, size: swiperSize } = swiper;\n    const params = swiper.params.cubeEffect;\n    const isHorizontal = swiper.isHorizontal();\n    const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n    let wrapperRotate = 0;\n    let $cubeShadowEl;\n    if (params.shadow) {\n      if (isHorizontal) {\n        $cubeShadowEl = $wrapperEl.find('.swiper-cube-shadow');\n        if ($cubeShadowEl.length === 0) {\n          $cubeShadowEl = $('<div class=\"swiper-cube-shadow\"></div>');\n          $wrapperEl.append($cubeShadowEl);\n        }\n        $cubeShadowEl.css({ height: `${swiperWidth}px` });\n      } else {\n        $cubeShadowEl = $el.find('.swiper-cube-shadow');\n        if ($cubeShadowEl.length === 0) {\n          $cubeShadowEl = $('<div class=\"swiper-cube-shadow\"></div>');\n          $el.append($cubeShadowEl);\n        }\n      }\n    }\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      let slideIndex = i;\n      if (isVirtual) {\n        slideIndex = parseInt($slideEl.attr('data-swiper-slide-index'), 10);\n      }\n      let slideAngle = slideIndex * 90;\n      let round = Math.floor(slideAngle / 360);\n      if (rtl) {\n        slideAngle = -slideAngle;\n        round = Math.floor(-slideAngle / 360);\n      }\n      const progress = Math.max(Math.min($slideEl[0].progress, 1), -1);\n      let tx = 0;\n      let ty = 0;\n      let tz = 0;\n      if (slideIndex % 4 === 0) {\n        tx = -round * 4 * swiperSize;\n        tz = 0;\n      } else if ((slideIndex - 1) % 4 === 0) {\n        tx = 0;\n        tz = -round * 4 * swiperSize;\n      } else if ((slideIndex - 2) % 4 === 0) {\n        tx = swiperSize + (round * 4 * swiperSize);\n        tz = swiperSize;\n      } else if ((slideIndex - 3) % 4 === 0) {\n        tx = -swiperSize;\n        tz = (3 * swiperSize) + (swiperSize * 4 * round);\n      }\n      if (rtl) {\n        tx = -tx;\n      }\n\n      if (!isHorizontal) {\n        ty = tx;\n        tx = 0;\n      }\n\n      const transform$$1 = `rotateX(${isHorizontal ? 0 : -slideAngle}deg) rotateY(${isHorizontal ? slideAngle : 0}deg) translate3d(${tx}px, ${ty}px, ${tz}px)`;\n      if (progress <= 1 && progress > -1) {\n        wrapperRotate = (slideIndex * 90) + (progress * 90);\n        if (rtl) wrapperRotate = (-slideIndex * 90) - (progress * 90);\n      }\n      $slideEl.transform(transform$$1);\n      if (params.slideShadows) {\n        // Set shadows\n        let shadowBefore = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n        let shadowAfter = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n        if (shadowBefore.length === 0) {\n          shadowBefore = $(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'left' : 'top'}\"></div>`);\n          $slideEl.append(shadowBefore);\n        }\n        if (shadowAfter.length === 0) {\n          shadowAfter = $(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'right' : 'bottom'}\"></div>`);\n          $slideEl.append(shadowAfter);\n        }\n        if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n        if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n      }\n    }\n    $wrapperEl.css({\n      '-webkit-transform-origin': `50% 50% -${swiperSize / 2}px`,\n      '-moz-transform-origin': `50% 50% -${swiperSize / 2}px`,\n      '-ms-transform-origin': `50% 50% -${swiperSize / 2}px`,\n      'transform-origin': `50% 50% -${swiperSize / 2}px`,\n    });\n\n    if (params.shadow) {\n      if (isHorizontal) {\n        $cubeShadowEl.transform(`translate3d(0px, ${(swiperWidth / 2) + params.shadowOffset}px, ${-swiperWidth / 2}px) rotateX(90deg) rotateZ(0deg) scale(${params.shadowScale})`);\n      } else {\n        const shadowAngle = Math.abs(wrapperRotate) - (Math.floor(Math.abs(wrapperRotate) / 90) * 90);\n        const multiplier = 1.5 - (\n          (Math.sin((shadowAngle * 2 * Math.PI) / 360) / 2) +\n          (Math.cos((shadowAngle * 2 * Math.PI) / 360) / 2)\n        );\n        const scale1 = params.shadowScale;\n        const scale2 = params.shadowScale / multiplier;\n        const offset$$1 = params.shadowOffset;\n        $cubeShadowEl.transform(`scale3d(${scale1}, 1, ${scale2}) translate3d(0px, ${(swiperHeight / 2) + offset$$1}px, ${-swiperHeight / 2 / scale2}px) rotateX(-90deg)`);\n      }\n    }\n    const zFactor = (Browser.isSafari || Browser.isUiWebView) ? (-swiperSize / 2) : 0;\n    $wrapperEl\n      .transform(`translate3d(0px,0,${zFactor}px) rotateX(${swiper.isHorizontal() ? 0 : wrapperRotate}deg) rotateY(${swiper.isHorizontal() ? -wrapperRotate : 0}deg)`);\n  },\n  setTransition(duration) {\n    const swiper = this;\n    const { $el, slides } = swiper;\n    slides\n      .transition(duration)\n      .find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left')\n      .transition(duration);\n    if (swiper.params.cubeEffect.shadow && !swiper.isHorizontal()) {\n      $el.find('.swiper-cube-shadow').transition(duration);\n    }\n  },\n};\n\nvar EffectCube = {\n  name: 'effect-cube',\n  params: {\n    cubeEffect: {\n      slideShadows: true,\n      shadow: true,\n      shadowOffset: 20,\n      shadowScale: 0.94,\n    },\n  },\n  create() {\n    const swiper = this;\n    Utils.extend(swiper, {\n      cubeEffect: {\n        setTranslate: Cube.setTranslate.bind(swiper),\n        setTransition: Cube.setTransition.bind(swiper),\n      },\n    });\n  },\n  on: {\n    beforeInit() {\n      const swiper = this;\n      if (swiper.params.effect !== 'cube') return;\n      swiper.classNames.push(`${swiper.params.containerModifierClass}cube`);\n      swiper.classNames.push(`${swiper.params.containerModifierClass}3d`);\n      const overwriteParams = {\n        slidesPerView: 1,\n        slidesPerColumn: 1,\n        slidesPerGroup: 1,\n        watchSlidesProgress: true,\n        resistanceRatio: 0,\n        spaceBetween: 0,\n        centeredSlides: false,\n        virtualTranslate: true,\n      };\n      Utils.extend(swiper.params, overwriteParams);\n      Utils.extend(swiper.originalParams, overwriteParams);\n    },\n    setTranslate() {\n      const swiper = this;\n      if (swiper.params.effect !== 'cube') return;\n      swiper.cubeEffect.setTranslate();\n    },\n    setTransition(duration) {\n      const swiper = this;\n      if (swiper.params.effect !== 'cube') return;\n      swiper.cubeEffect.setTransition(duration);\n    },\n  },\n};\n\nconst Flip = {\n  setTranslate() {\n    const swiper = this;\n    const { slides } = swiper;\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      let progress = $slideEl[0].progress;\n      if (swiper.params.flipEffect.limitRotation) {\n        progress = Math.max(Math.min($slideEl[0].progress, 1), -1);\n      }\n      const offset$$1 = $slideEl[0].swiperSlideOffset;\n      const rotate = -180 * progress;\n      let rotateY = rotate;\n      let rotateX = 0;\n      let tx = -offset$$1;\n      let ty = 0;\n      if (!swiper.isHorizontal()) {\n        ty = tx;\n        tx = 0;\n        rotateX = -rotateY;\n        rotateY = 0;\n      } else if (swiper.rtl) {\n        rotateY = -rotateY;\n      }\n\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(progress)) + slides.length;\n\n      if (swiper.params.flipEffect.slideShadows) {\n        // Set shadows\n        let shadowBefore = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n        let shadowAfter = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n        if (shadowBefore.length === 0) {\n          shadowBefore = $(`<div class=\"swiper-slide-shadow-${swiper.isHorizontal() ? 'left' : 'top'}\"></div>`);\n          $slideEl.append(shadowBefore);\n        }\n        if (shadowAfter.length === 0) {\n          shadowAfter = $(`<div class=\"swiper-slide-shadow-${swiper.isHorizontal() ? 'right' : 'bottom'}\"></div>`);\n          $slideEl.append(shadowAfter);\n        }\n        if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n        if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n      }\n      $slideEl\n        .transform(`translate3d(${tx}px, ${ty}px, 0px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`);\n    }\n  },\n  setTransition(duration) {\n    const swiper = this;\n    const { slides, activeIndex, $wrapperEl } = swiper;\n    slides\n      .transition(duration)\n      .find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left')\n      .transition(duration);\n    if (swiper.params.virtualTranslate && duration !== 0) {\n      let eventTriggered = false;\n      // eslint-disable-next-line\n      slides.eq(activeIndex).transitionEnd(function onTransitionEnd() {\n        if (eventTriggered) return;\n        if (!swiper || swiper.destroyed) return;\n        // if (!$(this).hasClass(swiper.params.slideActiveClass)) return;\n        eventTriggered = true;\n        swiper.animating = false;\n        const triggerEvents = ['webkitTransitionEnd', 'transitionend'];\n        for (let i = 0; i < triggerEvents.length; i += 1) {\n          $wrapperEl.trigger(triggerEvents[i]);\n        }\n      });\n    }\n  },\n};\n\nvar EffectFlip = {\n  name: 'effect-flip',\n  params: {\n    flipEffect: {\n      slideShadows: true,\n      limitRotation: true,\n    },\n  },\n  create() {\n    const swiper = this;\n    Utils.extend(swiper, {\n      flipEffect: {\n        setTranslate: Flip.setTranslate.bind(swiper),\n        setTransition: Flip.setTransition.bind(swiper),\n      },\n    });\n  },\n  on: {\n    beforeInit() {\n      const swiper = this;\n      if (swiper.params.effect !== 'flip') return;\n      swiper.classNames.push(`${swiper.params.containerModifierClass}flip`);\n      swiper.classNames.push(`${swiper.params.containerModifierClass}3d`);\n      const overwriteParams = {\n        slidesPerView: 1,\n        slidesPerColumn: 1,\n        slidesPerGroup: 1,\n        watchSlidesProgress: true,\n        spaceBetween: 0,\n        virtualTranslate: true,\n      };\n      Utils.extend(swiper.params, overwriteParams);\n      Utils.extend(swiper.originalParams, overwriteParams);\n    },\n    setTranslate() {\n      const swiper = this;\n      if (swiper.params.effect !== 'flip') return;\n      swiper.flipEffect.setTranslate();\n    },\n    setTransition(duration) {\n      const swiper = this;\n      if (swiper.params.effect !== 'flip') return;\n      swiper.flipEffect.setTransition(duration);\n    },\n  },\n};\n\nconst Coverflow = {\n  setTranslate() {\n    const swiper = this;\n    const { width: swiperWidth, height: swiperHeight, slides, $wrapperEl, slidesSizesGrid } = swiper;\n    const params = swiper.params.coverflowEffect;\n    const isHorizontal = swiper.isHorizontal();\n    const transform$$1 = swiper.translate;\n    const center = isHorizontal ? -transform$$1 + (swiperWidth / 2) : -transform$$1 + (swiperHeight / 2);\n    const rotate = isHorizontal ? params.rotate : -params.rotate;\n    const translate = params.depth;\n    // Each slide offset from center\n    for (let i = 0, length = slides.length; i < length; i += 1) {\n      const $slideEl = slides.eq(i);\n      const slideSize = slidesSizesGrid[i];\n      const slideOffset = $slideEl[0].swiperSlideOffset;\n      const offsetMultiplier = ((center - slideOffset - (slideSize / 2)) / slideSize) * params.modifier;\n\n      let rotateY = isHorizontal ? rotate * offsetMultiplier : 0;\n      let rotateX = isHorizontal ? 0 : rotate * offsetMultiplier;\n      // var rotateZ = 0\n      let translateZ = -translate * Math.abs(offsetMultiplier);\n\n      let translateY = isHorizontal ? 0 : params.stretch * (offsetMultiplier);\n      let translateX = isHorizontal ? params.stretch * (offsetMultiplier) : 0;\n\n      // Fix for ultra small values\n      if (Math.abs(translateX) < 0.001) translateX = 0;\n      if (Math.abs(translateY) < 0.001) translateY = 0;\n      if (Math.abs(translateZ) < 0.001) translateZ = 0;\n      if (Math.abs(rotateY) < 0.001) rotateY = 0;\n      if (Math.abs(rotateX) < 0.001) rotateX = 0;\n\n      const slideTransform = `translate3d(${translateX}px,${translateY}px,${translateZ}px)  rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;\n\n      $slideEl.transform(slideTransform);\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(offsetMultiplier)) + 1;\n      if (params.slideShadows) {\n        // Set shadows\n        let $shadowBeforeEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n        let $shadowAfterEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n        if ($shadowBeforeEl.length === 0) {\n          $shadowBeforeEl = $(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'left' : 'top'}\"></div>`);\n          $slideEl.append($shadowBeforeEl);\n        }\n        if ($shadowAfterEl.length === 0) {\n          $shadowAfterEl = $(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'right' : 'bottom'}\"></div>`);\n          $slideEl.append($shadowAfterEl);\n        }\n        if ($shadowBeforeEl.length) $shadowBeforeEl[0].style.opacity = offsetMultiplier > 0 ? offsetMultiplier : 0;\n        if ($shadowAfterEl.length) $shadowAfterEl[0].style.opacity = (-offsetMultiplier) > 0 ? -offsetMultiplier : 0;\n      }\n    }\n\n    // Set correct perspective for IE10\n    if (Browser.ie) {\n      const ws = $wrapperEl[0].style;\n      ws.perspectiveOrigin = `${center}px 50%`;\n    }\n  },\n  setTransition(duration) {\n    const swiper = this;\n    swiper.slides\n      .transition(duration)\n      .find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left')\n      .transition(duration);\n  },\n};\n\nvar EffectCoverflow = {\n  name: 'effect-coverflow',\n  params: {\n    coverflowEffect: {\n      rotate: 50,\n      stretch: 0,\n      depth: 100,\n      modifier: 1,\n      slideShadows: true,\n    },\n  },\n  create() {\n    const swiper = this;\n    Utils.extend(swiper, {\n      coverflowEffect: {\n        setTranslate: Coverflow.setTranslate.bind(swiper),\n        setTransition: Coverflow.setTransition.bind(swiper),\n      },\n    });\n  },\n  on: {\n    beforeInit() {\n      const swiper = this;\n      if (swiper.params.effect !== 'coverflow') return;\n\n      swiper.classNames.push(`${swiper.params.containerModifierClass}coverflow`);\n      swiper.classNames.push(`${swiper.params.containerModifierClass}3d`);\n\n      swiper.params.watchSlidesProgress = true;\n    },\n    setTranslate() {\n      const swiper = this;\n      if (swiper.params.effect !== 'coverflow') return;\n      swiper.coverflowEffect.setTranslate();\n    },\n    setTransition(duration) {\n      const swiper = this;\n      if (swiper.params.effect !== 'coverflow') return;\n      swiper.coverflowEffect.setTransition(duration);\n    },\n  },\n};\n\n// Swiper Class\n// Core Modules\nSwiper$1.components = [\n  Device$2,\n  Support$2,\n  Browser$2,\n  Resize,\n  Observer$1,\n  Virtual$1,\n  Keyboard$1,\n  Mousewheel$1,\n  Navigation$1,\n  Pagination$1,\n  Scrollbar$1,\n  Parallax$1,\n  Zoom$1,\n  Lazy$1,\n  Controller$1,\n  A11y,\n  History$1,\n  HashNavigation$1,\n  Autoplay$1,\n  EffectFade,\n  EffectCube,\n  EffectFlip,\n  EffectCoverflow\n];\n\nexport default Swiper$1;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/vendors/swiper.esm.js","// .motives\n\nimport { all, forEach } from '../utils/helpers'\nimport Swiper from '../vendors/swiper.esm'\n\nexport default () => {\n  /**\n   * slider of the top\n   * @type {Swiper}\n   */\n\n  const motives = all('.motives, .blog-posts')\n\n  forEach(motives, carousel => {\n\n    let breaks = {}\n\n    if (carousel.id = 'blog-posts') {\n     \n\t     breaks = {\n        480: {\n          slidesPerView: 1\n        },\n        667: {\n          slidesPerView: 2\n        },\n        768: {\n          slidesPerView: 3\n        },\n        4000: {\n          slidesPerView: 4\n        }\n      }\n\n    } else if (carousel.id = 'motives') {\n\n      breaks = {\n        480: {\n          slidesPerView: 1,\n          spaceBetween: 10\n        },\n        667: {\n          slidesPerView: 2,\n          spaceBetween: 80\n        },\n        768: {\n          slidesPerView: 2,\n          spaceBetween: 80\n        },\n        4000: {\n          spaceBetween: 80\n        }\n      }\n\n    }\n\n    new Swiper(carousel, {\n      slidesPerView: 3,\n      slidesPerGroup: 1,\n      preloadImages: false,\n      lazy: true,\n      watchSlidesVisibility: true,\n      breakpoints: breaks\n    })\n\n    carousel.classList.add('active')\n    \n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/controllers/powerUpsCarousels.js","/**\n * Dom7 2.0.3\n * Minimalistic JavaScript library for DOM manipulation, with a jQuery-compatible API\n * http://framework7.io/docs/dom.html\n *\n * Copyright 2018, Vladimir Kharlampidi\n * The iDangero.us\n * http://www.idangero.us/\n *\n * Licensed under MIT\n *\n * Released on: February 21, 2018\n */\nimport { document, window } from 'ssr-window';\n\nclass Dom7 {\n  constructor(arr) {\n    const self = this;\n    // Create array-like object\n    for (let i = 0; i < arr.length; i += 1) {\n      self[i] = arr[i];\n    }\n    self.length = arr.length;\n    // Return collection with methods\n    return this;\n  }\n}\n\nfunction $(selector, context) {\n  const arr = [];\n  let i = 0;\n  if (selector && !context) {\n    if (selector instanceof Dom7) {\n      return selector;\n    }\n  }\n  if (selector) {\n      // String\n    if (typeof selector === 'string') {\n      let els;\n      let tempParent;\n      const html = selector.trim();\n      if (html.indexOf('<') >= 0 && html.indexOf('>') >= 0) {\n        let toCreate = 'div';\n        if (html.indexOf('<li') === 0) toCreate = 'ul';\n        if (html.indexOf('<tr') === 0) toCreate = 'tbody';\n        if (html.indexOf('<td') === 0 || html.indexOf('<th') === 0) toCreate = 'tr';\n        if (html.indexOf('<tbody') === 0) toCreate = 'table';\n        if (html.indexOf('<option') === 0) toCreate = 'select';\n        tempParent = document.createElement(toCreate);\n        tempParent.innerHTML = html;\n        for (i = 0; i < tempParent.childNodes.length; i += 1) {\n          arr.push(tempParent.childNodes[i]);\n        }\n      } else {\n        if (!context && selector[0] === '#' && !selector.match(/[ .<>:~]/)) {\n          // Pure ID selector\n          els = [document.getElementById(selector.trim().split('#')[1])];\n        } else {\n          // Other selectors\n          els = (context || document).querySelectorAll(selector.trim());\n        }\n        for (i = 0; i < els.length; i += 1) {\n          if (els[i]) arr.push(els[i]);\n        }\n      }\n    } else if (selector.nodeType || selector === window || selector === document) {\n      // Node/element\n      arr.push(selector);\n    } else if (selector.length > 0 && selector[0].nodeType) {\n      // Array of elements or instance of Dom\n      for (i = 0; i < selector.length; i += 1) {\n        arr.push(selector[i]);\n      }\n    }\n  }\n  return new Dom7(arr);\n}\n\n$.fn = Dom7.prototype;\n$.Class = Dom7;\n$.Dom7 = Dom7;\n\nfunction unique(arr) {\n  const uniqueArray = [];\n  for (let i = 0; i < arr.length; i += 1) {\n    if (uniqueArray.indexOf(arr[i]) === -1) uniqueArray.push(arr[i]);\n  }\n  return uniqueArray;\n}\nfunction toCamelCase(string) {\n  return string.toLowerCase().replace(/-(.)/g, (match, group1) => group1.toUpperCase());\n}\n\nfunction requestAnimationFrame(callback) {\n  if (window.requestAnimationFrame) return window.requestAnimationFrame(callback);\n  else if (window.webkitRequestAnimationFrame) return window.webkitRequestAnimationFrame(callback);\n  return window.setTimeout(callback, 1000 / 60);\n}\nfunction cancelAnimationFrame(id) {\n  if (window.cancelAnimationFrame) return window.cancelAnimationFrame(id);\n  else if (window.webkitCancelAnimationFrame) return window.webkitCancelAnimationFrame(id);\n  return window.clearTimeout(id);\n}\n\n// Classes and attributes\nfunction addClass(className) {\n  if (typeof className === 'undefined') {\n    return this;\n  }\n  const classes = className.split(' ');\n  for (let i = 0; i < classes.length; i += 1) {\n    for (let j = 0; j < this.length; j += 1) {\n      if (typeof this[j].classList !== 'undefined') this[j].classList.add(classes[i]);\n    }\n  }\n  return this;\n}\nfunction removeClass(className) {\n  const classes = className.split(' ');\n  for (let i = 0; i < classes.length; i += 1) {\n    for (let j = 0; j < this.length; j += 1) {\n      if (typeof this[j].classList !== 'undefined') this[j].classList.remove(classes[i]);\n    }\n  }\n  return this;\n}\nfunction hasClass(className) {\n  if (!this[0]) return false;\n  return this[0].classList.contains(className);\n}\nfunction toggleClass(className) {\n  const classes = className.split(' ');\n  for (let i = 0; i < classes.length; i += 1) {\n    for (let j = 0; j < this.length; j += 1) {\n      if (typeof this[j].classList !== 'undefined') this[j].classList.toggle(classes[i]);\n    }\n  }\n  return this;\n}\nfunction attr(attrs, value) {\n  if (arguments.length === 1 && typeof attrs === 'string') {\n    // Get attr\n    if (this[0]) return this[0].getAttribute(attrs);\n    return undefined;\n  }\n\n  // Set attrs\n  for (let i = 0; i < this.length; i += 1) {\n    if (arguments.length === 2) {\n      // String\n      this[i].setAttribute(attrs, value);\n    } else {\n      // Object\n      // eslint-disable-next-line\n      for (const attrName in attrs) {\n        this[i][attrName] = attrs[attrName];\n        this[i].setAttribute(attrName, attrs[attrName]);\n      }\n    }\n  }\n  return this;\n}\n// eslint-disable-next-line\nfunction removeAttr(attr) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].removeAttribute(attr);\n  }\n  return this;\n}\n// eslint-disable-next-line\nfunction prop(props, value) {\n  if (arguments.length === 1 && typeof props === 'string') {\n    // Get prop\n    if (this[0]) return this[0][props];\n  } else {\n    // Set props\n    for (let i = 0; i < this.length; i += 1) {\n      if (arguments.length === 2) {\n        // String\n        this[i][props] = value;\n      } else {\n        // Object\n        // eslint-disable-next-line\n        for (const propName in props) {\n          this[i][propName] = props[propName];\n        }\n      }\n    }\n    return this;\n  }\n}\nfunction data(key, value) {\n  let el;\n  if (typeof value === 'undefined') {\n    el = this[0];\n    // Get value\n    if (el) {\n      if (el.dom7ElementDataStorage && (key in el.dom7ElementDataStorage)) {\n        return el.dom7ElementDataStorage[key];\n      }\n\n      const dataKey = el.getAttribute(`data-${key}`);\n      if (dataKey) {\n        return dataKey;\n      }\n      return undefined;\n    }\n    return undefined;\n  }\n\n  // Set value\n  for (let i = 0; i < this.length; i += 1) {\n    el = this[i];\n    if (!el.dom7ElementDataStorage) el.dom7ElementDataStorage = {};\n    el.dom7ElementDataStorage[key] = value;\n  }\n  return this;\n}\nfunction removeData(key) {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n    if (el.dom7ElementDataStorage && el.dom7ElementDataStorage[key]) {\n      el.dom7ElementDataStorage[key] = null;\n      delete el.dom7ElementDataStorage[key];\n    }\n  }\n}\nfunction dataset() {\n  const el = this[0];\n  if (!el) return undefined;\n  const dataset = {}; // eslint-disable-line\n  if (el.dataset) {\n    // eslint-disable-next-line\n    for (const dataKey in el.dataset) {\n      dataset[dataKey] = el.dataset[dataKey];\n    }\n  } else {\n    for (let i = 0; i < el.attributes.length; i += 1) {\n      // eslint-disable-next-line\n      const attr = el.attributes[i];\n      if (attr.name.indexOf('data-') >= 0) {\n        dataset[toCamelCase(attr.name.split('data-')[1])] = attr.value;\n      }\n    }\n  }\n  // eslint-disable-next-line\n  for (const key in dataset) {\n    if (dataset[key] === 'false') dataset[key] = false;\n    else if (dataset[key] === 'true') dataset[key] = true;\n    else if (parseFloat(dataset[key]) === dataset[key] * 1) dataset[key] *= 1;\n  }\n  return dataset;\n}\nfunction val(value) {\n  if (typeof value === 'undefined') {\n    if (this[0]) {\n      if (this[0].multiple && this[0].nodeName.toLowerCase() === 'select') {\n        const values = [];\n        for (let i = 0; i < this[0].selectedOptions.length; i += 1) {\n          values.push(this[0].selectedOptions[i].value);\n        }\n        return values;\n      }\n      return this[0].value;\n    }\n    return undefined;\n  }\n\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].value = value;\n  }\n  return this;\n}\n// Transforms\n// eslint-disable-next-line\nfunction transform(transform) {\n  for (let i = 0; i < this.length; i += 1) {\n    const elStyle = this[i].style;\n    elStyle.webkitTransform = transform;\n    elStyle.transform = transform;\n  }\n  return this;\n}\nfunction transition(duration) {\n  if (typeof duration !== 'string') {\n    duration = `${duration}ms`; // eslint-disable-line\n  }\n  for (let i = 0; i < this.length; i += 1) {\n    const elStyle = this[i].style;\n    elStyle.webkitTransitionDuration = duration;\n    elStyle.transitionDuration = duration;\n  }\n  return this;\n}\n// Events\nfunction on(...args) {\n  let [eventType, targetSelector, listener, capture] = args;\n  if (typeof args[1] === 'function') {\n    [eventType, listener, capture] = args;\n    targetSelector = undefined;\n  }\n  if (!capture) capture = false;\n\n  function handleLiveEvent(e) {\n    const target = e.target;\n    if (!target) return;\n    const eventData = e.target.dom7EventData || [];\n    eventData.unshift(e);\n    if ($(target).is(targetSelector)) listener.apply(target, eventData);\n    else {\n      const parents = $(target).parents(); // eslint-disable-line\n      for (let k = 0; k < parents.length; k += 1) {\n        if ($(parents[k]).is(targetSelector)) listener.apply(parents[k], eventData);\n      }\n    }\n  }\n  function handleEvent(e) {\n    const eventData = e && e.target ? e.target.dom7EventData || [] : [];\n    eventData.unshift(e);\n    listener.apply(this, eventData);\n  }\n  const events = eventType.split(' ');\n  let j;\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n    if (!targetSelector) {\n      for (j = 0; j < events.length; j += 1) {\n        if (!el.dom7Listeners) el.dom7Listeners = [];\n        el.dom7Listeners.push({\n          type: eventType,\n          listener,\n          proxyListener: handleEvent,\n        });\n        el.addEventListener(events[j], handleEvent, capture);\n      }\n    } else {\n      // Live events\n      for (j = 0; j < events.length; j += 1) {\n        if (!el.dom7LiveListeners) el.dom7LiveListeners = [];\n        el.dom7LiveListeners.push({\n          type: eventType,\n          listener,\n          proxyListener: handleLiveEvent,\n        });\n        el.addEventListener(events[j], handleLiveEvent, capture);\n      }\n    }\n  }\n  return this;\n}\nfunction off(...args) {\n  let [eventType, targetSelector, listener, capture] = args;\n  if (typeof args[1] === 'function') {\n    [eventType, listener, capture] = args;\n    targetSelector = undefined;\n  }\n  if (!capture) capture = false;\n\n  const events = eventType.split(' ');\n  for (let i = 0; i < events.length; i += 1) {\n    for (let j = 0; j < this.length; j += 1) {\n      const el = this[j];\n      if (!targetSelector) {\n        if (el.dom7Listeners) {\n          for (let k = 0; k < el.dom7Listeners.length; k += 1) {\n            if (listener) {\n              if (el.dom7Listeners[k].listener === listener) {\n                el.removeEventListener(events[i], el.dom7Listeners[k].proxyListener, capture);\n              }\n            } else if (el.dom7Listeners[k].type === events[i]) {\n              el.removeEventListener(events[i], el.dom7Listeners[k].proxyListener, capture);\n            }\n          }\n        }\n      } else if (el.dom7LiveListeners) {\n        for (let k = 0; k < el.dom7LiveListeners.length; k += 1) {\n          if (listener) {\n            if (el.dom7LiveListeners[k].listener === listener) {\n              el.removeEventListener(events[i], el.dom7LiveListeners[k].proxyListener, capture);\n            }\n          } else if (el.dom7LiveListeners[k].type === events[i]) {\n            el.removeEventListener(events[i], el.dom7LiveListeners[k].proxyListener, capture);\n          }\n        }\n      }\n    }\n  }\n  return this;\n}\nfunction once(...args) {\n  const dom = this;\n  let [eventName, targetSelector, listener, capture] = args;\n  if (typeof args[1] === 'function') {\n    [eventName, listener, capture] = args;\n    targetSelector = undefined;\n  }\n  function proxy(e) {\n    const eventData = e.target.dom7EventData || [];\n    listener.apply(this, eventData);\n    dom.off(eventName, targetSelector, proxy, capture);\n  }\n  return dom.on(eventName, targetSelector, proxy, capture);\n}\nfunction trigger(...args) {\n  const events = args[0].split(' ');\n  const eventData = args[1];\n  for (let i = 0; i < events.length; i += 1) {\n    for (let j = 0; j < this.length; j += 1) {\n      let evt;\n      try {\n        evt = new window.CustomEvent(events[i], {\n          detail: eventData,\n          bubbles: true,\n          cancelable: true,\n        });\n      } catch (e) {\n        evt = document.createEvent('Event');\n        evt.initEvent(events[i], true, true);\n        evt.detail = eventData;\n      }\n      // eslint-disable-next-line\n      this[j].dom7EventData = args.filter((data, dataIndex) => dataIndex > 0);\n      this[j].dispatchEvent(evt);\n      this[j].dom7EventData = [];\n      delete this[j].dom7EventData;\n    }\n  }\n  return this;\n}\nfunction transitionEnd(callback) {\n  const events = ['webkitTransitionEnd', 'transitionend'];\n  const dom = this;\n  let i;\n  function fireCallBack(e) {\n    /* jshint validthis:true */\n    if (e.target !== this) return;\n    callback.call(this, e);\n    for (i = 0; i < events.length; i += 1) {\n      dom.off(events[i], fireCallBack);\n    }\n  }\n  if (callback) {\n    for (i = 0; i < events.length; i += 1) {\n      dom.on(events[i], fireCallBack);\n    }\n  }\n  return this;\n}\nfunction animationEnd(callback) {\n  const events = ['webkitAnimationEnd', 'animationend'];\n  const dom = this;\n  let i;\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    for (i = 0; i < events.length; i += 1) {\n      dom.off(events[i], fireCallBack);\n    }\n  }\n  if (callback) {\n    for (i = 0; i < events.length; i += 1) {\n      dom.on(events[i], fireCallBack);\n    }\n  }\n  return this;\n}\n// Sizing/Styles\nfunction width() {\n  if (this[0] === window) {\n    return window.innerWidth;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('width'));\n  }\n\n  return null;\n}\nfunction outerWidth(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      // eslint-disable-next-line\n      const styles = this.styles();\n      return this[0].offsetWidth + parseFloat(styles.getPropertyValue('margin-right')) + parseFloat(styles.getPropertyValue('margin-left'));\n    }\n    return this[0].offsetWidth;\n  }\n  return null;\n}\nfunction height() {\n  if (this[0] === window) {\n    return window.innerHeight;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('height'));\n  }\n\n  return null;\n}\nfunction outerHeight(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      // eslint-disable-next-line\n      const styles = this.styles();\n      return this[0].offsetHeight + parseFloat(styles.getPropertyValue('margin-top')) + parseFloat(styles.getPropertyValue('margin-bottom'));\n    }\n    return this[0].offsetHeight;\n  }\n  return null;\n}\nfunction offset() {\n  if (this.length > 0) {\n    const el = this[0];\n    const box = el.getBoundingClientRect();\n    const body = document.body;\n    const clientTop = el.clientTop || body.clientTop || 0;\n    const clientLeft = el.clientLeft || body.clientLeft || 0;\n    const scrollTop = el === window ? window.scrollY : el.scrollTop;\n    const scrollLeft = el === window ? window.scrollX : el.scrollLeft;\n    return {\n      top: (box.top + scrollTop) - clientTop,\n      left: (box.left + scrollLeft) - clientLeft,\n    };\n  }\n\n  return null;\n}\nfunction hide() {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.display = 'none';\n  }\n  return this;\n}\nfunction show() {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n    if (el.style.display === 'none') {\n      el.style.display = '';\n    }\n    if (window.getComputedStyle(el, null).getPropertyValue('display') === 'none') {\n      // Still not visible\n      el.style.display = 'block';\n    }\n  }\n  return this;\n}\nfunction styles() {\n  if (this[0]) return window.getComputedStyle(this[0], null);\n  return {};\n}\nfunction css(props, value) {\n  let i;\n  if (arguments.length === 1) {\n    if (typeof props === 'string') {\n      if (this[0]) return window.getComputedStyle(this[0], null).getPropertyValue(props);\n    } else {\n      for (i = 0; i < this.length; i += 1) {\n        // eslint-disable-next-line\n        for (let prop in props) {\n          this[i].style[prop] = props[prop];\n        }\n      }\n      return this;\n    }\n  }\n  if (arguments.length === 2 && typeof props === 'string') {\n    for (i = 0; i < this.length; i += 1) {\n      this[i].style[props] = value;\n    }\n    return this;\n  }\n  return this;\n}\n\n// Dom manipulation\nfunction toArray() {\n  const arr = [];\n  for (let i = 0; i < this.length; i += 1) {\n    arr.push(this[i]);\n  }\n  return arr;\n}\n// Iterate over the collection passing elements to `callback`\nfunction each(callback) {\n  // Don't bother continuing without a callback\n  if (!callback) return this;\n  // Iterate over the current collection\n  for (let i = 0; i < this.length; i += 1) {\n    // If the callback returns false\n    if (callback.call(this[i], i, this[i]) === false) {\n      // End the loop early\n      return this;\n    }\n  }\n  // Return `this` to allow chained DOM operations\n  return this;\n}\nfunction forEach(callback) {\n  // Don't bother continuing without a callback\n  if (!callback) return this;\n  // Iterate over the current collection\n  for (let i = 0; i < this.length; i += 1) {\n    // If the callback returns false\n    if (callback.call(this[i], this[i], i) === false) {\n      // End the loop early\n      return this;\n    }\n  }\n  // Return `this` to allow chained DOM operations\n  return this;\n}\nfunction filter(callback) {\n  const matchedItems = [];\n  const dom = this;\n  for (let i = 0; i < dom.length; i += 1) {\n    if (callback.call(dom[i], i, dom[i])) matchedItems.push(dom[i]);\n  }\n  return new Dom7(matchedItems);\n}\nfunction map(callback) {\n  const modifiedItems = [];\n  const dom = this;\n  for (let i = 0; i < dom.length; i += 1) {\n    modifiedItems.push(callback.call(dom[i], i, dom[i]));\n  }\n  return new Dom7(modifiedItems);\n}\n// eslint-disable-next-line\nfunction html(html) {\n  if (typeof html === 'undefined') {\n    return this[0] ? this[0].innerHTML : undefined;\n  }\n\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].innerHTML = html;\n  }\n  return this;\n}\n// eslint-disable-next-line\nfunction text(text) {\n  if (typeof text === 'undefined') {\n    if (this[0]) {\n      return this[0].textContent.trim();\n    }\n    return null;\n  }\n\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].textContent = text;\n  }\n  return this;\n}\nfunction is(selector) {\n  const el = this[0];\n  let compareWith;\n  let i;\n  if (!el || typeof selector === 'undefined') return false;\n  if (typeof selector === 'string') {\n    if (el.matches) return el.matches(selector);\n    else if (el.webkitMatchesSelector) return el.webkitMatchesSelector(selector);\n    else if (el.msMatchesSelector) return el.msMatchesSelector(selector);\n\n    compareWith = $(selector);\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n    return false;\n  } else if (selector === document) return el === document;\n  else if (selector === window) return el === window;\n\n  if (selector.nodeType || selector instanceof Dom7) {\n    compareWith = selector.nodeType ? [selector] : selector;\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n    return false;\n  }\n  return false;\n}\nfunction indexOf(el) {\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i] === el) return i;\n  }\n  return -1;\n}\nfunction index() {\n  let child = this[0];\n  let i;\n  if (child) {\n    i = 0;\n    // eslint-disable-next-line\n    while ((child = child.previousSibling) !== null) {\n      if (child.nodeType === 1) i += 1;\n    }\n    return i;\n  }\n  return undefined;\n}\n// eslint-disable-next-line\nfunction eq(index) {\n  if (typeof index === 'undefined') return this;\n  const length = this.length;\n  let returnIndex;\n  if (index > length - 1) {\n    return new Dom7([]);\n  }\n  if (index < 0) {\n    returnIndex = length + index;\n    if (returnIndex < 0) return new Dom7([]);\n    return new Dom7([this[returnIndex]]);\n  }\n  return new Dom7([this[index]]);\n}\nfunction append(...args) {\n  let newChild;\n\n  for (let k = 0; k < args.length; k += 1) {\n    newChild = args[k];\n    for (let i = 0; i < this.length; i += 1) {\n      if (typeof newChild === 'string') {\n        const tempDiv = document.createElement('div');\n        tempDiv.innerHTML = newChild;\n        while (tempDiv.firstChild) {\n          this[i].appendChild(tempDiv.firstChild);\n        }\n      } else if (newChild instanceof Dom7) {\n        for (let j = 0; j < newChild.length; j += 1) {\n          this[i].appendChild(newChild[j]);\n        }\n      } else {\n        this[i].appendChild(newChild);\n      }\n    }\n  }\n\n  return this;\n}\n // eslint-disable-next-line\nfunction appendTo(parent) {\n  $(parent).append(this);\n  return this;\n}\nfunction prepend(newChild) {\n  let i;\n  let j;\n  for (i = 0; i < this.length; i += 1) {\n    if (typeof newChild === 'string') {\n      const tempDiv = document.createElement('div');\n      tempDiv.innerHTML = newChild;\n      for (j = tempDiv.childNodes.length - 1; j >= 0; j -= 1) {\n        this[i].insertBefore(tempDiv.childNodes[j], this[i].childNodes[0]);\n      }\n    } else if (newChild instanceof Dom7) {\n      for (j = 0; j < newChild.length; j += 1) {\n        this[i].insertBefore(newChild[j], this[i].childNodes[0]);\n      }\n    } else {\n      this[i].insertBefore(newChild, this[i].childNodes[0]);\n    }\n  }\n  return this;\n}\n // eslint-disable-next-line\nfunction prependTo(parent) {\n  $(parent).prepend(this);\n  return this;\n}\nfunction insertBefore(selector) {\n  const before = $(selector);\n  for (let i = 0; i < this.length; i += 1) {\n    if (before.length === 1) {\n      before[0].parentNode.insertBefore(this[i], before[0]);\n    } else if (before.length > 1) {\n      for (let j = 0; j < before.length; j += 1) {\n        before[j].parentNode.insertBefore(this[i].cloneNode(true), before[j]);\n      }\n    }\n  }\n}\nfunction insertAfter(selector) {\n  const after = $(selector);\n  for (let i = 0; i < this.length; i += 1) {\n    if (after.length === 1) {\n      after[0].parentNode.insertBefore(this[i], after[0].nextSibling);\n    } else if (after.length > 1) {\n      for (let j = 0; j < after.length; j += 1) {\n        after[j].parentNode.insertBefore(this[i].cloneNode(true), after[j].nextSibling);\n      }\n    }\n  }\n}\nfunction next(selector) {\n  if (this.length > 0) {\n    if (selector) {\n      if (this[0].nextElementSibling && $(this[0].nextElementSibling).is(selector)) {\n        return new Dom7([this[0].nextElementSibling]);\n      }\n      return new Dom7([]);\n    }\n\n    if (this[0].nextElementSibling) return new Dom7([this[0].nextElementSibling]);\n    return new Dom7([]);\n  }\n  return new Dom7([]);\n}\nfunction nextAll(selector) {\n  const nextEls = [];\n  let el = this[0];\n  if (!el) return new Dom7([]);\n  while (el.nextElementSibling) {\n    const next = el.nextElementSibling; // eslint-disable-line\n    if (selector) {\n      if ($(next).is(selector)) nextEls.push(next);\n    } else nextEls.push(next);\n    el = next;\n  }\n  return new Dom7(nextEls);\n}\nfunction prev(selector) {\n  if (this.length > 0) {\n    const el = this[0];\n    if (selector) {\n      if (el.previousElementSibling && $(el.previousElementSibling).is(selector)) {\n        return new Dom7([el.previousElementSibling]);\n      }\n      return new Dom7([]);\n    }\n\n    if (el.previousElementSibling) return new Dom7([el.previousElementSibling]);\n    return new Dom7([]);\n  }\n  return new Dom7([]);\n}\nfunction prevAll(selector) {\n  const prevEls = [];\n  let el = this[0];\n  if (!el) return new Dom7([]);\n  while (el.previousElementSibling) {\n    const prev = el.previousElementSibling; // eslint-disable-line\n    if (selector) {\n      if ($(prev).is(selector)) prevEls.push(prev);\n    } else prevEls.push(prev);\n    el = prev;\n  }\n  return new Dom7(prevEls);\n}\nfunction siblings(selector) {\n  return this.nextAll(selector).add(this.prevAll(selector));\n}\nfunction parent(selector) {\n  const parents = []; // eslint-disable-line\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode !== null) {\n      if (selector) {\n        if ($(this[i].parentNode).is(selector)) parents.push(this[i].parentNode);\n      } else {\n        parents.push(this[i].parentNode);\n      }\n    }\n  }\n  return $(unique(parents));\n}\nfunction parents(selector) {\n  const parents = []; // eslint-disable-line\n  for (let i = 0; i < this.length; i += 1) {\n    let parent = this[i].parentNode; // eslint-disable-line\n    while (parent) {\n      if (selector) {\n        if ($(parent).is(selector)) parents.push(parent);\n      } else {\n        parents.push(parent);\n      }\n      parent = parent.parentNode;\n    }\n  }\n  return $(unique(parents));\n}\nfunction closest(selector) {\n  let closest = this; // eslint-disable-line\n  if (typeof selector === 'undefined') {\n    return new Dom7([]);\n  }\n  if (!closest.is(selector)) {\n    closest = closest.parents(selector).eq(0);\n  }\n  return closest;\n}\nfunction find(selector) {\n  const foundElements = [];\n  for (let i = 0; i < this.length; i += 1) {\n    const found = this[i].querySelectorAll(selector);\n    for (let j = 0; j < found.length; j += 1) {\n      foundElements.push(found[j]);\n    }\n  }\n  return new Dom7(foundElements);\n}\nfunction children(selector) {\n  const children = []; // eslint-disable-line\n  for (let i = 0; i < this.length; i += 1) {\n    const childNodes = this[i].childNodes;\n\n    for (let j = 0; j < childNodes.length; j += 1) {\n      if (!selector) {\n        if (childNodes[j].nodeType === 1) children.push(childNodes[j]);\n      } else if (childNodes[j].nodeType === 1 && $(childNodes[j]).is(selector)) {\n        children.push(childNodes[j]);\n      }\n    }\n  }\n  return new Dom7(unique(children));\n}\nfunction remove() {\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode) this[i].parentNode.removeChild(this[i]);\n  }\n  return this;\n}\nfunction detach() {\n  return this.remove();\n}\nfunction add(...args) {\n  const dom = this;\n  let i;\n  let j;\n  for (i = 0; i < args.length; i += 1) {\n    const toAdd = $(args[i]);\n    for (j = 0; j < toAdd.length; j += 1) {\n      dom[dom.length] = toAdd[j];\n      dom.length += 1;\n    }\n  }\n  return dom;\n}\nfunction empty() {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n    if (el.nodeType === 1) {\n      for (let j = 0; j < el.childNodes.length; j += 1) {\n        if (el.childNodes[j].parentNode) {\n          el.childNodes[j].parentNode.removeChild(el.childNodes[j]);\n        }\n      }\n      el.textContent = '';\n    }\n  }\n  return this;\n}\n\nfunction scrollTo(...args) {\n  let [left, top, duration, easing, callback] = args;\n  if (args.length === 4 && typeof easing === 'function') {\n    callback = easing;\n    [left, top, duration, callback, easing] = args;\n  }\n  if (typeof easing === 'undefined') easing = 'swing';\n\n  return this.each(function animate() {\n    const el = this;\n    let currentTop;\n    let currentLeft;\n    let maxTop;\n    let maxLeft;\n    let newTop;\n    let newLeft;\n    let scrollTop; // eslint-disable-line\n    let scrollLeft; // eslint-disable-line\n    let animateTop = top > 0 || top === 0;\n    let animateLeft = left > 0 || left === 0;\n    if (typeof easing === 'undefined') {\n      easing = 'swing';\n    }\n    if (animateTop) {\n      currentTop = el.scrollTop;\n      if (!duration) {\n        el.scrollTop = top;\n      }\n    }\n    if (animateLeft) {\n      currentLeft = el.scrollLeft;\n      if (!duration) {\n        el.scrollLeft = left;\n      }\n    }\n    if (!duration) return;\n    if (animateTop) {\n      maxTop = el.scrollHeight - el.offsetHeight;\n      newTop = Math.max(Math.min(top, maxTop), 0);\n    }\n    if (animateLeft) {\n      maxLeft = el.scrollWidth - el.offsetWidth;\n      newLeft = Math.max(Math.min(left, maxLeft), 0);\n    }\n    let startTime = null;\n    if (animateTop && newTop === currentTop) animateTop = false;\n    if (animateLeft && newLeft === currentLeft) animateLeft = false;\n    function render(time = new Date().getTime()) {\n      if (startTime === null) {\n        startTime = time;\n      }\n      const progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n      const easeProgress = easing === 'linear' ? progress : (0.5 - (Math.cos(progress * Math.PI) / 2));\n      let done;\n      if (animateTop) scrollTop = currentTop + (easeProgress * (newTop - currentTop));\n      if (animateLeft) scrollLeft = currentLeft + (easeProgress * (newLeft - currentLeft));\n      if (animateTop && newTop > currentTop && scrollTop >= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n      if (animateTop && newTop < currentTop && scrollTop <= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n      if (animateLeft && newLeft > currentLeft && scrollLeft >= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n      if (animateLeft && newLeft < currentLeft && scrollLeft <= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (done) {\n        if (callback) callback();\n        return;\n      }\n      if (animateTop) el.scrollTop = scrollTop;\n      if (animateLeft) el.scrollLeft = scrollLeft;\n      requestAnimationFrame(render);\n    }\n    requestAnimationFrame(render);\n  });\n}\n// scrollTop(top, duration, easing, callback) {\nfunction scrollTop(...args) {\n  let [top, duration, easing, callback] = args;\n  if (args.length === 3 && typeof easing === 'function') {\n    [top, duration, callback, easing] = args;\n  }\n  const dom = this;\n  if (typeof top === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollTop;\n    return null;\n  }\n  return dom.scrollTo(undefined, top, duration, easing, callback);\n}\nfunction scrollLeft(...args) {\n  let [left, duration, easing, callback] = args;\n  if (args.length === 3 && typeof easing === 'function') {\n    [left, duration, callback, easing] = args;\n  }\n  const dom = this;\n  if (typeof left === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollLeft;\n    return null;\n  }\n  return dom.scrollTo(left, undefined, duration, easing, callback);\n}\n\nfunction animate(initialProps, initialParams) {\n  const els = this;\n  const a = {\n    props: Object.assign({}, initialProps),\n    params: Object.assign({\n      duration: 300,\n      easing: 'swing', // or 'linear'\n      /* Callbacks\n      begin(elements)\n      complete(elements)\n      progress(elements, complete, remaining, start, tweenValue)\n      */\n    }, initialParams),\n\n    elements: els,\n    animating: false,\n    que: [],\n\n    easingProgress(easing, progress) {\n      if (easing === 'swing') {\n        return 0.5 - (Math.cos(progress * Math.PI) / 2);\n      }\n      if (typeof easing === 'function') {\n        return easing(progress);\n      }\n      return progress;\n    },\n    stop() {\n      if (a.frameId) {\n        cancelAnimationFrame(a.frameId);\n      }\n      a.animating = false;\n      a.elements.each((index, el) => {\n        const element = el;\n        delete element.dom7AnimateInstance;\n      });\n      a.que = [];\n    },\n    done(complete) {\n      a.animating = false;\n      a.elements.each((index, el) => {\n        const element = el;\n        delete element.dom7AnimateInstance;\n      });\n      if (complete) complete(els);\n      if (a.que.length > 0) {\n        const que = a.que.shift();\n        a.animate(que[0], que[1]);\n      }\n    },\n    animate(props, params) {\n      if (a.animating) {\n        a.que.push([props, params]);\n        return a;\n      }\n      const elements = [];\n\n      // Define & Cache Initials & Units\n      a.elements.each((index, el) => {\n        let initialFullValue;\n        let initialValue;\n        let unit;\n        let finalValue;\n        let finalFullValue;\n\n        if (!el.dom7AnimateInstance) a.elements[index].dom7AnimateInstance = a;\n\n        elements[index] = {\n          container: el,\n        };\n        Object.keys(props).forEach((prop) => {\n          initialFullValue = window.getComputedStyle(el, null).getPropertyValue(prop).replace(',', '.');\n          initialValue = parseFloat(initialFullValue);\n          unit = initialFullValue.replace(initialValue, '');\n          finalValue = parseFloat(props[prop]);\n          finalFullValue = props[prop] + unit;\n          elements[index][prop] = {\n            initialFullValue,\n            initialValue,\n            unit,\n            finalValue,\n            finalFullValue,\n            currentValue: initialValue,\n          };\n        });\n      });\n\n      let startTime = null;\n      let time;\n      let elementsDone = 0;\n      let propsDone = 0;\n      let done;\n      let began = false;\n\n      a.animating = true;\n\n      function render() {\n        time = new Date().getTime();\n        let progress;\n        let easeProgress;\n        // let el;\n        if (!began) {\n          began = true;\n          if (params.begin) params.begin(els);\n        }\n        if (startTime === null) {\n          startTime = time;\n        }\n        if (params.progress) {\n          // eslint-disable-next-line\n          params.progress(els, Math.max(Math.min((time - startTime) / params.duration, 1), 0), ((startTime + params.duration) - time < 0 ? 0 : (startTime + params.duration) - time), startTime);\n        }\n\n        elements.forEach((element) => {\n          const el = element;\n          if (done || el.done) return;\n          Object.keys(props).forEach((prop) => {\n            if (done || el.done) return;\n            progress = Math.max(Math.min((time - startTime) / params.duration, 1), 0);\n            easeProgress = a.easingProgress(params.easing, progress);\n            const { initialValue, finalValue, unit } = el[prop];\n            el[prop].currentValue = initialValue + (easeProgress * (finalValue - initialValue));\n            const currentValue = el[prop].currentValue;\n\n            if (\n              (finalValue > initialValue && currentValue >= finalValue) ||\n              (finalValue < initialValue && currentValue <= finalValue)) {\n              el.container.style[prop] = finalValue + unit;\n              propsDone += 1;\n              if (propsDone === Object.keys(props).length) {\n                el.done = true;\n                elementsDone += 1;\n              }\n              if (elementsDone === elements.length) {\n                done = true;\n              }\n            }\n            if (done) {\n              a.done(params.complete);\n              return;\n            }\n            el.container.style[prop] = currentValue + unit;\n          });\n        });\n        if (done) return;\n        // Then call\n        a.frameId = requestAnimationFrame(render);\n      }\n      a.frameId = requestAnimationFrame(render);\n      return a;\n    },\n  };\n\n  if (a.elements.length === 0) {\n    return els;\n  }\n\n  let animateInstance;\n  for (let i = 0; i < a.elements.length; i += 1) {\n    if (a.elements[i].dom7AnimateInstance) {\n      animateInstance = a.elements[i].dom7AnimateInstance;\n    } else a.elements[i].dom7AnimateInstance = a;\n  }\n  if (!animateInstance) {\n    animateInstance = a;\n  }\n\n  if (initialProps === 'stop') {\n    animateInstance.stop();\n  } else {\n    animateInstance.animate(a.props, a.params);\n  }\n\n  return els;\n}\n\nfunction stop() {\n  const els = this;\n  for (let i = 0; i < els.length; i += 1) {\n    if (els[i].dom7AnimateInstance) {\n      els[i].dom7AnimateInstance.stop();\n    }\n  }\n}\n\nconst noTrigger = ('resize scroll').split(' ');\nfunction eventShortcut(name, ...args) {\n  if (typeof args[0] === 'undefined') {\n    for (let i = 0; i < this.length; i += 1) {\n      if (noTrigger.indexOf(name) < 0) {\n        if (name in this[i]) this[i][name]();\n        else {\n          $(this[i]).trigger(name);\n        }\n      }\n    }\n    return this;\n  }\n  return this.on(name, ...args);\n}\n\nfunction click(...args) {\n  return eventShortcut.bind(this)('click', ...args);\n}\nfunction blur(...args) {\n  return eventShortcut.bind(this)('blur', ...args);\n}\nfunction focus(...args) {\n  return eventShortcut.bind(this)('focus', ...args);\n}\nfunction focusin(...args) {\n  return eventShortcut.bind(this)('focusin', ...args);\n}\nfunction focusout(...args) {\n  return eventShortcut.bind(this)('focusout', ...args);\n}\nfunction keyup(...args) {\n  return eventShortcut.bind(this)('keyup', ...args);\n}\nfunction keydown(...args) {\n  return eventShortcut.bind(this)('keydown', ...args);\n}\nfunction keypress(...args) {\n  return eventShortcut.bind(this)('keypress', ...args);\n}\nfunction submit(...args) {\n  return eventShortcut.bind(this)('submit', ...args);\n}\nfunction change(...args) {\n  return eventShortcut.bind(this)('change', ...args);\n}\nfunction mousedown(...args) {\n  return eventShortcut.bind(this)('mousedown', ...args);\n}\nfunction mousemove(...args) {\n  return eventShortcut.bind(this)('mousemove', ...args);\n}\nfunction mouseup(...args) {\n  return eventShortcut.bind(this)('mouseup', ...args);\n}\nfunction mouseenter(...args) {\n  return eventShortcut.bind(this)('mouseenter', ...args);\n}\nfunction mouseleave(...args) {\n  return eventShortcut.bind(this)('mouseleave', ...args);\n}\nfunction mouseout(...args) {\n  return eventShortcut.bind(this)('mouseout', ...args);\n}\nfunction mouseover(...args) {\n  return eventShortcut.bind(this)('mouseover', ...args);\n}\nfunction touchstart(...args) {\n  return eventShortcut.bind(this)('touchstart', ...args);\n}\nfunction touchend(...args) {\n  return eventShortcut.bind(this)('touchend', ...args);\n}\nfunction touchmove(...args) {\n  return eventShortcut.bind(this)('touchmove', ...args);\n}\nfunction resize(...args) {\n  return eventShortcut.bind(this)('resize', ...args);\n}\nfunction scroll(...args) {\n  return eventShortcut.bind(this)('scroll', ...args);\n}\n\nexport { $, addClass, removeClass, hasClass, toggleClass, attr, removeAttr, prop, data, removeData, dataset, val, transform, transition, on, off, once, trigger, transitionEnd, animationEnd, width, outerWidth, height, outerHeight, offset, hide, show, styles, css, toArray, each, forEach, filter, map, html, text, is, indexOf, index, eq, append, appendTo, prepend, prependTo, insertBefore, insertAfter, next, nextAll, prev, prevAll, siblings, parent, parents, closest, find, children, remove, detach, add, empty, scrollTo, scrollTop, scrollLeft, animate, stop, click, blur, focus, focusin, focusout, keyup, keydown, keypress, submit, change, mousedown, mousemove, mouseup, mouseenter, mouseleave, mouseout, mouseover, touchstart, touchend, touchmove, resize, scroll };\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/dom7/dist/dom7.modular.js","/**\n * SSR Window 1.0.0\n * Better handling for window object in SSR environment\n * https://github.com/nolimits4web/ssr-window\n *\n * Copyright 2018, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: February 10, 2018\n */\nvar d;\nif (typeof document === 'undefined') {\n  d = {\n    body: {},\n    addEventListener: function addEventListener() {},\n    removeEventListener: function removeEventListener() {},\n    activeElement: {\n      blur: function blur() {},\n      nodeName: '',\n    },\n    querySelector: function querySelector() {\n      return null;\n    },\n    querySelectorAll: function querySelectorAll() {\n      return [];\n    },\n    getElementById: function getElementById() {\n      return null;\n    },\n    createEvent: function createEvent() {\n      return {\n        initEvent: function initEvent() {},\n      };\n    },\n    createElement: function createElement() {\n      return {\n        children: [],\n        childNodes: [],\n        style: {},\n        setAttribute: function setAttribute() {},\n        getElementsByTagName: function getElementsByTagName() {\n          return [];\n        },\n      };\n    },\n    location: { hash: '' },\n  };\n} else {\n  // eslint-disable-next-line\n  d = document;\n}\n\nvar doc = d;\n\nvar w;\nif (typeof window === 'undefined') {\n  w = {\n    document: doc,\n    navigator: {\n      userAgent: '',\n    },\n    location: {},\n    history: {},\n    CustomEvent: function CustomEvent() {\n      return this;\n    },\n    addEventListener: function addEventListener() {},\n    removeEventListener: function removeEventListener() {},\n    getComputedStyle: function getComputedStyle() {\n      return {\n        getPropertyValue: function getPropertyValue() {\n          return '';\n        },\n      };\n    },\n    Image: function Image() {},\n    Date: function Date() {},\n    screen: {},\n    setTimeout: function setTimeout() {},\n    clearTimeout: function clearTimeout() {},\n  };\n} else {\n  // eslint-disable-next-line\n  w = window;\n}\n\nvar win = w;\n\nexport { win as window, doc as document };\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ssr-window/dist/ssr-window.esm.js","import Swiper from '../vendors/swiper.esm'\nimport 'lightgallery.js'\n\nexport default () => {\n\n  /**\n   * slider of the top\n   * @type {Swiper}\n   */\n\n  const screenshots = document.querySelector('#screenshots .screenshots')\n\n new Swiper(screenshots, {\n    slidesPerView: 4,\n    slidesPerGroup: 1,\n    spaceBetween: 10,\n    preloadImages: false,\n    lazy: true,\n    watchSlidesVisibility: true,\n    breakpoints: {\n      480: {\n        slidesPerView: 'auto',\n        centeredSlides: !0\n      }\n    }\n  })\n\n\n\n  /**\n   * Gallery \n   * @type {lightGallery}\n   */\n\n  // lightGallery(screenshots, {\n  //   thumbnail: true\n  // })\n\n  /**\n   * just to remove opacity 0\n   */\n  screenshots.classList.add('active')\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/controllers/screenshotCarousel.js","(function (global, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define(['./lg-utils'], factory);\n    } else if (typeof exports !== \"undefined\") {\n        factory(require('./lg-utils'));\n    } else {\n        var mod = {\n            exports: {}\n        };\n        factory(global.lgUtils);\n        global.lightgallery = mod.exports;\n    }\n})(this, function (_lgUtils) {\n    'use strict';\n\n    var _lgUtils2 = _interopRequireDefault(_lgUtils);\n\n    function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n            default: obj\n        };\n    }\n\n    var _extends = Object.assign || function (target) {\n        for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i];\n\n            for (var key in source) {\n                if (Object.prototype.hasOwnProperty.call(source, key)) {\n                    target[key] = source[key];\n                }\n            }\n        }\n\n        return target;\n    };\n\n    /** Polyfill the CustomEvent() constructor functionality in Internet Explorer 9 and higher */\n    (function () {\n\n        if (typeof window.CustomEvent === 'function') {\n            return false;\n        }\n\n        function CustomEvent(event, params) {\n            params = params || {\n                bubbles: false,\n                cancelable: false,\n                detail: undefined\n            };\n            var evt = document.createEvent('CustomEvent');\n            evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n            return evt;\n        }\n\n        CustomEvent.prototype = window.Event.prototype;\n\n        window.CustomEvent = CustomEvent;\n    })();\n\n    window.utils = _lgUtils2.default;\n    window.lgData = {\n        uid: 0\n    };\n\n    window.lgModules = {};\n    var defaults = {\n\n        mode: 'lg-slide',\n\n        // Ex : 'ease'\n        cssEasing: 'ease',\n\n        //'for jquery animation'\n        easing: 'linear',\n        speed: 600,\n        height: '100%',\n        width: '100%',\n        addClass: '',\n        startClass: 'lg-start-zoom',\n        backdropDuration: 150,\n        hideBarsDelay: 6000,\n\n        useLeft: false,\n\n        closable: true,\n        loop: true,\n        escKey: true,\n        keyPress: true,\n        controls: true,\n        slideEndAnimatoin: true,\n        hideControlOnEnd: false,\n        mousewheel: false,\n\n        getCaptionFromTitleOrAlt: true,\n\n        // .lg-item || '.lg-sub-html'\n        appendSubHtmlTo: '.lg-sub-html',\n\n        subHtmlSelectorRelative: false,\n\n        /**\r\n         * @desc number of preload slides\r\n         * will exicute only after the current slide is fully loaded.\r\n         *\r\n         * @ex you clicked on 4th image and if preload = 1 then 3rd slide and 5th\r\n         * slide will be loaded in the background after the 4th slide is fully loaded..\r\n         * if preload is 2 then 2nd 3rd 5th 6th slides will be preloaded.. ... ...\r\n         *\r\n         */\n        preload: 1,\n        showAfterLoad: true,\n        selector: '',\n        selectWithin: '',\n        nextHtml: '',\n        prevHtml: '',\n\n        // 0, 1\n        index: false,\n\n        iframeMaxWidth: '100%',\n\n        download: true,\n        counter: true,\n        appendCounterTo: '.lg-toolbar',\n\n        swipeThreshold: 50,\n        enableSwipe: true,\n        enableDrag: true,\n\n        dynamic: false,\n        dynamicEl: [],\n        galleryId: 1\n    };\n\n    function Plugin(element, options) {\n\n        // Current lightGallery element\n        this.el = element;\n\n        // lightGallery settings\n        this.s = _extends({}, defaults, options);\n\n        // When using dynamic mode, ensure dynamicEl is an array\n        if (this.s.dynamic && this.s.dynamicEl !== 'undefined' && this.s.dynamicEl.constructor === Array && !this.s.dynamicEl.length) {\n            throw 'When using dynamic mode, you must also define dynamicEl as an Array.';\n        }\n\n        // lightGallery modules\n        this.modules = {};\n\n        // false when lightgallery complete first slide;\n        this.lGalleryOn = false;\n\n        this.lgBusy = false;\n\n        // Timeout function for hiding controls;\n        this.hideBartimeout = false;\n\n        // To determine browser supports for touch events;\n        this.isTouch = 'ontouchstart' in document.documentElement;\n\n        // Disable hideControlOnEnd if sildeEndAnimation is true\n        if (this.s.slideEndAnimatoin) {\n            this.s.hideControlOnEnd = false;\n        }\n\n        this.items = [];\n\n        // Gallery items\n        if (this.s.dynamic) {\n            this.items = this.s.dynamicEl;\n        } else {\n            if (this.s.selector === 'this') {\n                this.items.push(this.el);\n            } else if (this.s.selector !== '') {\n                if (this.s.selectWithin) {\n                    this.items = document.querySelector(this.s.selectWithin).querySelectorAll(this.s.selector);\n                } else {\n                    this.items = this.el.querySelectorAll(this.s.selector);\n                }\n            } else {\n                this.items = this.el.children;\n            }\n        }\n\n        // .lg-item\n\n        this.___slide = '';\n\n        // .lg-outer\n        this.outer = '';\n\n        this.init();\n\n        return this;\n    }\n\n    Plugin.prototype.init = function () {\n\n        var _this = this;\n\n        // s.preload should not be more than $item.length\n        if (_this.s.preload > _this.items.length) {\n            _this.s.preload = _this.items.length;\n        }\n\n        // if dynamic option is enabled execute immediately\n        var _hash = window.location.hash;\n        if (_hash.indexOf('lg=' + this.s.galleryId) > 0) {\n\n            _this.index = parseInt(_hash.split('&slide=')[1], 10);\n\n            _lgUtils2.default.addClass(document.body, 'lg-from-hash');\n            if (!_lgUtils2.default.hasClass(document.body, 'lg-on')) {\n                _lgUtils2.default.addClass(document.body, 'lg-on');\n                setTimeout(function () {\n                    _this.build(_this.index);\n                });\n            }\n        }\n\n        if (_this.s.dynamic) {\n\n            _lgUtils2.default.trigger(this.el, 'onBeforeOpen');\n\n            _this.index = _this.s.index || 0;\n\n            // prevent accidental double execution\n            if (!_lgUtils2.default.hasClass(document.body, 'lg-on')) {\n                _lgUtils2.default.addClass(document.body, 'lg-on');\n                setTimeout(function () {\n                    _this.build(_this.index);\n                });\n            }\n        } else {\n\n            for (var i = 0; i < _this.items.length; i++) {\n\n                /*jshint loopfunc: true */\n                (function (index) {\n\n                    // Using different namespace for click because click event should not unbind if selector is same object('this')\n                    _lgUtils2.default.on(_this.items[index], 'click.lgcustom', function (e) {\n\n                        e.preventDefault();\n\n                        _lgUtils2.default.trigger(_this.el, 'onBeforeOpen');\n\n                        _this.index = _this.s.index || index;\n\n                        if (!_lgUtils2.default.hasClass(document.body, 'lg-on')) {\n                            _this.build(_this.index);\n                            _lgUtils2.default.addClass(document.body, 'lg-on');\n                        }\n                    });\n                })(i);\n            }\n        }\n    };\n\n    Plugin.prototype.build = function (index) {\n\n        var _this = this;\n\n        _this.structure();\n\n        for (var key in window.lgModules) {\n            _this.modules[key] = new window.lgModules[key](_this.el);\n        }\n\n        // initiate slide function\n        _this.slide(index, false, false);\n\n        if (_this.s.keyPress) {\n            _this.keyPress();\n        }\n\n        if (_this.items.length > 1) {\n\n            _this.arrow();\n\n            setTimeout(function () {\n                _this.enableDrag();\n                _this.enableSwipe();\n            }, 50);\n\n            if (_this.s.mousewheel) {\n                _this.mousewheel();\n            }\n        }\n\n        _this.counter();\n\n        _this.closeGallery();\n\n        _lgUtils2.default.trigger(_this.el, 'onAfterOpen');\n\n        // Hide controllers if mouse doesn't move for some period\n        _lgUtils2.default.on(_this.outer, 'mousemove.lg click.lg touchstart.lg', function () {\n\n            _lgUtils2.default.removeClass(_this.outer, 'lg-hide-items');\n\n            clearTimeout(_this.hideBartimeout);\n\n            // Timeout will be cleared on each slide movement also\n            _this.hideBartimeout = setTimeout(function () {\n                _lgUtils2.default.addClass(_this.outer, 'lg-hide-items');\n            }, _this.s.hideBarsDelay);\n        });\n    };\n\n    Plugin.prototype.structure = function () {\n        var list = '';\n        var controls = '';\n        var i = 0;\n        var subHtmlCont = '';\n        var template;\n        var _this = this;\n\n        document.body.insertAdjacentHTML('beforeend', '<div class=\"lg-backdrop\"></div>');\n        _lgUtils2.default.setVendor(document.querySelector('.lg-backdrop'), 'TransitionDuration', this.s.backdropDuration + 'ms');\n\n        // Create gallery items\n        for (i = 0; i < this.items.length; i++) {\n            list += '<div class=\"lg-item\"></div>';\n        }\n\n        // Create controlls\n        if (this.s.controls && this.items.length > 1) {\n            controls = '<div class=\"lg-actions\">' + '<div class=\"lg-prev lg-icon\">' + this.s.prevHtml + '</div>' + '<div class=\"lg-next lg-icon\">' + this.s.nextHtml + '</div>' + '</div>';\n        }\n\n        if (this.s.appendSubHtmlTo === '.lg-sub-html') {\n            subHtmlCont = '<div class=\"lg-sub-html\"></div>';\n        }\n\n        template = '<div class=\"lg-outer ' + this.s.addClass + ' ' + this.s.startClass + '\">' + '<div class=\"lg\" style=\"width:' + this.s.width + '; height:' + this.s.height + '\">' + '<div class=\"lg-inner\">' + list + '</div>' + '<div class=\"lg-toolbar group\">' + '<span class=\"lg-close lg-icon\"></span>' + '</div>' + controls + subHtmlCont + '</div>' + '</div>';\n\n        document.body.insertAdjacentHTML('beforeend', template);\n        this.outer = document.querySelector('.lg-outer');\n        this.___slide = this.outer.querySelectorAll('.lg-item');\n\n        if (this.s.useLeft) {\n            _lgUtils2.default.addClass(this.outer, 'lg-use-left');\n\n            // Set mode lg-slide if use left is true;\n            this.s.mode = 'lg-slide';\n        } else {\n            _lgUtils2.default.addClass(this.outer, 'lg-use-css3');\n        }\n\n        // For fixed height gallery\n        _this.setTop();\n        _lgUtils2.default.on(window, 'resize.lg orientationchange.lg', function () {\n            setTimeout(function () {\n                _this.setTop();\n            }, 100);\n        });\n\n        // add class lg-current to remove initial transition\n        _lgUtils2.default.addClass(this.___slide[this.index], 'lg-current');\n\n        // add Class for css support and transition mode\n        if (this.doCss()) {\n            _lgUtils2.default.addClass(this.outer, 'lg-css3');\n        } else {\n            _lgUtils2.default.addClass(this.outer, 'lg-css');\n\n            // Set speed 0 because no animation will happen if browser doesn't support css3\n            this.s.speed = 0;\n        }\n\n        _lgUtils2.default.addClass(this.outer, this.s.mode);\n\n        if (this.s.enableDrag && this.items.length > 1) {\n            _lgUtils2.default.addClass(this.outer, 'lg-grab');\n        }\n\n        if (this.s.showAfterLoad) {\n            _lgUtils2.default.addClass(this.outer, 'lg-show-after-load');\n        }\n\n        if (this.doCss()) {\n            var inner = this.outer.querySelector('.lg-inner');\n            _lgUtils2.default.setVendor(inner, 'TransitionTimingFunction', this.s.cssEasing);\n            _lgUtils2.default.setVendor(inner, 'TransitionDuration', this.s.speed + 'ms');\n        }\n\n        setTimeout(function () {\n            _lgUtils2.default.addClass(document.querySelector('.lg-backdrop'), 'in');\n        });\n\n        setTimeout(function () {\n            _lgUtils2.default.addClass(_this.outer, 'lg-visible');\n        }, this.s.backdropDuration);\n\n        if (this.s.download) {\n            this.outer.querySelector('.lg-toolbar').insertAdjacentHTML('beforeend', '<a id=\"lg-download\" target=\"_blank\" download class=\"lg-download lg-icon\"></a>');\n        }\n\n        // Store the current scroll top value to scroll back after closing the gallery..\n        this.prevScrollTop = document.documentElement.scrollTop || document.body.scrollTop;\n    };\n\n    // For fixed height gallery\n    Plugin.prototype.setTop = function () {\n        if (this.s.height !== '100%') {\n            var wH = window.innerHeight;\n            var top = (wH - parseInt(this.s.height, 10)) / 2;\n            var lGallery = this.outer.querySelector('.lg');\n            if (wH >= parseInt(this.s.height, 10)) {\n                lGallery.style.top = top + 'px';\n            } else {\n                lGallery.style.top = '0px';\n            }\n        }\n    };\n\n    // Find css3 support\n    Plugin.prototype.doCss = function () {\n        // check for css animation support\n        var support = function support() {\n            var transition = ['transition', 'MozTransition', 'WebkitTransition', 'OTransition', 'msTransition', 'KhtmlTransition'];\n            var root = document.documentElement;\n            var i = 0;\n            for (i = 0; i < transition.length; i++) {\n                if (transition[i] in root.style) {\n                    return true;\n                }\n            }\n        };\n\n        if (support()) {\n            return true;\n        }\n\n        return false;\n    };\n\n    /**\r\n     *  @desc Check the given src is video\r\n     *  @param {String} src\r\n     *  @return {Object} video type\r\n     *  Ex:{ youtube  :  [\"//www.youtube.com/watch?v=c0asJgSyxcY\", \"c0asJgSyxcY\"] }\r\n     */\n    Plugin.prototype.isVideo = function (src, index) {\n\n        if (!src) {\n            throw new Error(\"Make sure that slide \" + index + \" has an image/video src\");\n        }\n\n        var html;\n        if (this.s.dynamic) {\n            html = this.s.dynamicEl[index].html;\n        } else {\n            html = this.items[index].getAttribute('data-html');\n        }\n\n        if (!src && html) {\n            return {\n                html5: true\n            };\n        }\n\n        var youtube = src.match(/\\/\\/(?:www\\.)?youtu(?:\\.be|be\\.com)\\/(?:watch\\?v=|embed\\/)?([a-z0-9\\-\\_\\%]+)/i);\n        var vimeo = src.match(/\\/\\/(?:www\\.)?vimeo.com\\/([0-9a-z\\-_]+)/i);\n        var dailymotion = src.match(/\\/\\/(?:www\\.)?dai.ly\\/([0-9a-z\\-_]+)/i);\n        var vk = src.match(/\\/\\/(?:www\\.)?(?:vk\\.com|vkontakte\\.ru)\\/(?:video_ext\\.php\\?)(.*)/i);\n\n        if (youtube) {\n            return {\n                youtube: youtube\n            };\n        } else if (vimeo) {\n            return {\n                vimeo: vimeo\n            };\n        } else if (dailymotion) {\n            return {\n                dailymotion: dailymotion\n            };\n        } else if (vk) {\n            return {\n                vk: vk\n            };\n        }\n    };\n\n    /**\r\n     *  @desc Create image counter\r\n     *  Ex: 1/10\r\n     */\n    Plugin.prototype.counter = function () {\n        if (this.s.counter) {\n            this.outer.querySelector(this.s.appendCounterTo).insertAdjacentHTML('beforeend', '<div id=\"lg-counter\"><span id=\"lg-counter-current\">' + (parseInt(this.index, 10) + 1) + '</span> / <span id=\"lg-counter-all\">' + this.items.length + '</span></div>');\n        }\n    };\n\n    /**\r\n     *  @desc add sub-html into the slide\r\n     *  @param {Number} index - index of the slide\r\n     */\n    Plugin.prototype.addHtml = function (index) {\n        var subHtml = null;\n        var currentEle;\n        if (this.s.dynamic) {\n            subHtml = this.s.dynamicEl[index].subHtml;\n        } else {\n            currentEle = this.items[index];\n            subHtml = currentEle.getAttribute('data-sub-html');\n            if (this.s.getCaptionFromTitleOrAlt && !subHtml) {\n                subHtml = currentEle.getAttribute('title');\n                if (subHtml && currentEle.querySelector('img')) {\n                    subHtml = currentEle.querySelector('img').getAttribute('alt');\n                }\n            }\n        }\n\n        if (typeof subHtml !== 'undefined' && subHtml !== null) {\n\n            // get first letter of subhtml\n            // if first letter starts with . or # get the html form the jQuery object\n            var fL = subHtml.substring(0, 1);\n            if (fL === '.' || fL === '#') {\n                if (this.s.subHtmlSelectorRelative && !this.s.dynamic) {\n                    subHtml = currentEle.querySelector(subHtml).innerHTML;\n                } else {\n                    subHtml = document.querySelector(subHtml).innerHTML;\n                }\n            }\n        } else {\n            subHtml = '';\n        }\n\n        if (this.s.appendSubHtmlTo === '.lg-sub-html') {\n            this.outer.querySelector(this.s.appendSubHtmlTo).innerHTML = subHtml;\n        } else {\n            this.___slide[index].insertAdjacentHTML('beforeend', subHtml);\n        }\n\n        // Add lg-empty-html class if title doesn't exist\n        if (typeof subHtml !== 'undefined' && subHtml !== null) {\n            if (subHtml === '') {\n                _lgUtils2.default.addClass(this.outer.querySelector(this.s.appendSubHtmlTo), 'lg-empty-html');\n            } else {\n                _lgUtils2.default.removeClass(this.outer.querySelector(this.s.appendSubHtmlTo), 'lg-empty-html');\n            }\n        }\n\n        _lgUtils2.default.trigger(this.el, 'onAfterAppendSubHtml', {\n            index: index\n        });\n    };\n\n    /**\r\n     *  @desc Preload slides\r\n     *  @param {Number} index - index of the slide\r\n     */\n    Plugin.prototype.preload = function (index) {\n        var i = 1;\n        var j = 1;\n        for (i = 1; i <= this.s.preload; i++) {\n            if (i >= this.items.length - index) {\n                break;\n            }\n\n            this.loadContent(index + i, false, 0);\n        }\n\n        for (j = 1; j <= this.s.preload; j++) {\n            if (index - j < 0) {\n                break;\n            }\n\n            this.loadContent(index - j, false, 0);\n        }\n    };\n\n    /**\r\n     *  @desc Load slide content into slide.\r\n     *  @param {Number} index - index of the slide.\r\n     *  @param {Boolean} rec - if true call loadcontent() function again.\r\n     *  @param {Boolean} delay - delay for adding complete class. it is 0 except first time.\r\n     */\n    Plugin.prototype.loadContent = function (index, rec, delay) {\n\n        var _this = this;\n        var _hasPoster = false;\n        var _img;\n        var _src;\n        var _poster;\n        var _srcset;\n        var _sizes;\n        var _html;\n        var getResponsiveSrc = function getResponsiveSrc(srcItms) {\n            var rsWidth = [];\n            var rsSrc = [];\n            for (var i = 0; i < srcItms.length; i++) {\n                var __src = srcItms[i].split(' ');\n\n                // Manage empty space\n                if (__src[0] === '') {\n                    __src.splice(0, 1);\n                }\n\n                rsSrc.push(__src[0]);\n                rsWidth.push(__src[1]);\n            }\n\n            var wWidth = window.innerWidth;\n            for (var j = 0; j < rsWidth.length; j++) {\n                if (parseInt(rsWidth[j], 10) > wWidth) {\n                    _src = rsSrc[j];\n                    break;\n                }\n            }\n        };\n\n        if (_this.s.dynamic) {\n\n            if (_this.s.dynamicEl[index].poster) {\n                _hasPoster = true;\n                _poster = _this.s.dynamicEl[index].poster;\n            }\n\n            _html = _this.s.dynamicEl[index].html;\n            _src = _this.s.dynamicEl[index].src;\n\n            if (_this.s.dynamicEl[index].responsive) {\n                var srcDyItms = _this.s.dynamicEl[index].responsive.split(',');\n                getResponsiveSrc(srcDyItms);\n            }\n\n            _srcset = _this.s.dynamicEl[index].srcset;\n            _sizes = _this.s.dynamicEl[index].sizes;\n        } else {\n\n            if (_this.items[index].getAttribute('data-poster')) {\n                _hasPoster = true;\n                _poster = _this.items[index].getAttribute('data-poster');\n            }\n\n            _html = _this.items[index].getAttribute('data-html');\n            _src = _this.items[index].getAttribute('href') || _this.items[index].getAttribute('data-src');\n\n            if (_this.items[index].getAttribute('data-responsive')) {\n                var srcItms = _this.items[index].getAttribute('data-responsive').split(',');\n                getResponsiveSrc(srcItms);\n            }\n\n            _srcset = _this.items[index].getAttribute('data-srcset');\n            _sizes = _this.items[index].getAttribute('data-sizes');\n        }\n\n        //if (_src || _srcset || _sizes || _poster) {\n\n        var iframe = false;\n        if (_this.s.dynamic) {\n            if (_this.s.dynamicEl[index].iframe) {\n                iframe = true;\n            }\n        } else {\n            if (_this.items[index].getAttribute('data-iframe') === 'true') {\n                iframe = true;\n            }\n        }\n\n        var _isVideo = _this.isVideo(_src, index);\n        if (!_lgUtils2.default.hasClass(_this.___slide[index], 'lg-loaded')) {\n            if (iframe) {\n                _this.___slide[index].insertAdjacentHTML('afterbegin', '<div class=\"lg-video-cont\" style=\"max-width:' + _this.s.iframeMaxWidth + '\"><div class=\"lg-video\"><iframe class=\"lg-object\" frameborder=\"0\" src=\"' + _src + '\"  allowfullscreen=\"true\"></iframe></div></div>');\n            } else if (_hasPoster) {\n                var videoClass = '';\n                if (_isVideo && _isVideo.youtube) {\n                    videoClass = 'lg-has-youtube';\n                } else if (_isVideo && _isVideo.vimeo) {\n                    videoClass = 'lg-has-vimeo';\n                } else {\n                    videoClass = 'lg-has-html5';\n                }\n\n                _this.___slide[index].insertAdjacentHTML('beforeend', '<div class=\"lg-video-cont ' + videoClass + ' \"><div class=\"lg-video\"><span class=\"lg-video-play\"></span><img class=\"lg-object lg-has-poster\" src=\"' + _poster + '\" /></div></div>');\n            } else if (_isVideo) {\n                _this.___slide[index].insertAdjacentHTML('beforeend', '<div class=\"lg-video-cont \"><div class=\"lg-video\"></div></div>');\n                _lgUtils2.default.trigger(_this.el, 'hasVideo', {\n                    index: index,\n                    src: _src,\n                    html: _html\n                });\n            } else {\n                _this.___slide[index].insertAdjacentHTML('beforeend', '<div class=\"lg-img-wrap\"><img class=\"lg-object lg-image\" src=\"' + _src + '\" /></div>');\n            }\n\n            _lgUtils2.default.trigger(_this.el, 'onAferAppendSlide', {\n                index: index\n            });\n\n            _img = _this.___slide[index].querySelector('.lg-object');\n            if (_sizes) {\n                _img.setAttribute('sizes', _sizes);\n            }\n\n            if (_srcset) {\n                _img.setAttribute('srcset', _srcset);\n                try {\n                    picturefill({\n                        elements: [_img[0]]\n                    });\n                } catch (e) {\n                    console.error('Make sure you have included Picturefill version 2');\n                }\n            }\n\n            if (this.s.appendSubHtmlTo !== '.lg-sub-html') {\n                _this.addHtml(index);\n            }\n\n            _lgUtils2.default.addClass(_this.___slide[index], 'lg-loaded');\n        }\n\n        _lgUtils2.default.on(_this.___slide[index].querySelector('.lg-object'), 'load.lg error.lg', function () {\n\n            // For first time add some delay for displaying the start animation.\n            var _speed = 0;\n\n            // Do not change the delay value because it is required for zoom plugin.\n            // If gallery opened from direct url (hash) speed value should be 0\n            if (delay && !_lgUtils2.default.hasClass(document.body, 'lg-from-hash')) {\n                _speed = delay;\n            }\n\n            setTimeout(function () {\n                _lgUtils2.default.addClass(_this.___slide[index], 'lg-complete');\n\n                _lgUtils2.default.trigger(_this.el, 'onSlideItemLoad', {\n                    index: index,\n                    delay: delay || 0\n                });\n            }, _speed);\n        });\n\n        // @todo check load state for html5 videos\n        if (_isVideo && _isVideo.html5 && !_hasPoster) {\n            _lgUtils2.default.addClass(_this.___slide[index], 'lg-complete');\n        }\n\n        if (rec === true) {\n            if (!_lgUtils2.default.hasClass(_this.___slide[index], 'lg-complete')) {\n                _lgUtils2.default.on(_this.___slide[index].querySelector('.lg-object'), 'load.lg error.lg', function () {\n                    _this.preload(index);\n                });\n            } else {\n                _this.preload(index);\n            }\n        }\n\n        //}\n    };\n\n    /**\r\n    *   @desc slide function for lightgallery\r\n        ** Slide() gets call on start\r\n        ** ** Set lg.on true once slide() function gets called.\r\n        ** Call loadContent() on slide() function inside setTimeout\r\n        ** ** On first slide we do not want any animation like slide of fade\r\n        ** ** So on first slide( if lg.on if false that is first slide) loadContent() should start loading immediately\r\n        ** ** Else loadContent() should wait for the transition to complete.\r\n        ** ** So set timeout s.speed + 50\r\n    <=> ** loadContent() will load slide content in to the particular slide\r\n        ** ** It has recursion (rec) parameter. if rec === true loadContent() will call preload() function.\r\n        ** ** preload will execute only when the previous slide is fully loaded (images iframe)\r\n        ** ** avoid simultaneous image load\r\n    <=> ** Preload() will check for s.preload value and call loadContent() again accoring to preload value\r\n        ** loadContent()  <====> Preload();\r\n    \r\n    *   @param {Number} index - index of the slide\r\n    *   @param {Boolean} fromTouch - true if slide function called via touch event or mouse drag\r\n    *   @param {Boolean} fromThumb - true if slide function called via thumbnail click\r\n    */\n    Plugin.prototype.slide = function (index, fromTouch, fromThumb) {\n\n        var _prevIndex = 0;\n        for (var i = 0; i < this.___slide.length; i++) {\n            if (_lgUtils2.default.hasClass(this.___slide[i], 'lg-current')) {\n                _prevIndex = i;\n                break;\n            }\n        }\n\n        var _this = this;\n\n        // Prevent if multiple call\n        // Required for hsh plugin\n        if (_this.lGalleryOn && _prevIndex === index) {\n            return;\n        }\n\n        var _length = this.___slide.length;\n        var _time = _this.lGalleryOn ? this.s.speed : 0;\n        var _next = false;\n        var _prev = false;\n\n        if (!_this.lgBusy) {\n\n            if (this.s.download) {\n                var _src;\n                if (_this.s.dynamic) {\n                    _src = _this.s.dynamicEl[index].downloadUrl !== false && (_this.s.dynamicEl[index].downloadUrl || _this.s.dynamicEl[index].src);\n                } else {\n                    _src = _this.items[index].getAttribute('data-download-url') !== 'false' && (_this.items[index].getAttribute('data-download-url') || _this.items[index].getAttribute('href') || _this.items[index].getAttribute('data-src'));\n                }\n\n                if (_src) {\n                    document.getElementById('lg-download').setAttribute('href', _src);\n                    _lgUtils2.default.removeClass(_this.outer, 'lg-hide-download');\n                } else {\n                    _lgUtils2.default.addClass(_this.outer, 'lg-hide-download');\n                }\n            }\n\n            _lgUtils2.default.trigger(_this.el, 'onBeforeSlide', {\n                prevIndex: _prevIndex,\n                index: index,\n                fromTouch: fromTouch,\n                fromThumb: fromThumb\n            });\n\n            _this.lgBusy = true;\n\n            clearTimeout(_this.hideBartimeout);\n\n            // Add title if this.s.appendSubHtmlTo === lg-sub-html\n            if (this.s.appendSubHtmlTo === '.lg-sub-html') {\n\n                // wait for slide animation to complete\n                setTimeout(function () {\n                    _this.addHtml(index);\n                }, _time);\n            }\n\n            this.arrowDisable(index);\n\n            if (!fromTouch) {\n\n                // remove all transitions\n                _lgUtils2.default.addClass(_this.outer, 'lg-no-trans');\n\n                for (var j = 0; j < this.___slide.length; j++) {\n                    _lgUtils2.default.removeClass(this.___slide[j], 'lg-prev-slide');\n                    _lgUtils2.default.removeClass(this.___slide[j], 'lg-next-slide');\n                }\n\n                if (index < _prevIndex) {\n                    _prev = true;\n                    if (index === 0 && _prevIndex === _length - 1 && !fromThumb) {\n                        _prev = false;\n                        _next = true;\n                    }\n                } else if (index > _prevIndex) {\n                    _next = true;\n                    if (index === _length - 1 && _prevIndex === 0 && !fromThumb) {\n                        _prev = true;\n                        _next = false;\n                    }\n                }\n\n                if (_prev) {\n\n                    //prevslide\n                    _lgUtils2.default.addClass(this.___slide[index], 'lg-prev-slide');\n                    _lgUtils2.default.addClass(this.___slide[_prevIndex], 'lg-next-slide');\n                } else if (_next) {\n\n                    // next slide\n                    _lgUtils2.default.addClass(this.___slide[index], 'lg-next-slide');\n                    _lgUtils2.default.addClass(this.___slide[_prevIndex], 'lg-prev-slide');\n                }\n\n                // give 50 ms for browser to add/remove class\n                setTimeout(function () {\n                    _lgUtils2.default.removeClass(_this.outer.querySelector('.lg-current'), 'lg-current');\n\n                    //_this.$slide.eq(_prevIndex).removeClass('lg-current');\n                    _lgUtils2.default.addClass(_this.___slide[index], 'lg-current');\n\n                    // reset all transitions\n                    _lgUtils2.default.removeClass(_this.outer, 'lg-no-trans');\n                }, 50);\n            } else {\n\n                var touchPrev = index - 1;\n                var touchNext = index + 1;\n\n                if (index === 0 && _prevIndex === _length - 1) {\n\n                    // next slide\n                    touchNext = 0;\n                    touchPrev = _length - 1;\n                } else if (index === _length - 1 && _prevIndex === 0) {\n\n                    // prev slide\n                    touchNext = 0;\n                    touchPrev = _length - 1;\n                }\n\n                _lgUtils2.default.removeClass(_this.outer.querySelector('.lg-prev-slide'), 'lg-prev-slide');\n                _lgUtils2.default.removeClass(_this.outer.querySelector('.lg-current'), 'lg-current');\n                _lgUtils2.default.removeClass(_this.outer.querySelector('.lg-next-slide'), 'lg-next-slide');\n                _lgUtils2.default.addClass(_this.___slide[touchPrev], 'lg-prev-slide');\n                _lgUtils2.default.addClass(_this.___slide[touchNext], 'lg-next-slide');\n                _lgUtils2.default.addClass(_this.___slide[index], 'lg-current');\n            }\n\n            if (_this.lGalleryOn) {\n                setTimeout(function () {\n                    _this.loadContent(index, true, 0);\n                }, this.s.speed + 50);\n\n                setTimeout(function () {\n                    _this.lgBusy = false;\n                    _lgUtils2.default.trigger(_this.el, 'onAfterSlide', {\n                        prevIndex: _prevIndex,\n                        index: index,\n                        fromTouch: fromTouch,\n                        fromThumb: fromThumb\n                    });\n                }, this.s.speed);\n            } else {\n                _this.loadContent(index, true, _this.s.backdropDuration);\n\n                _this.lgBusy = false;\n                _lgUtils2.default.trigger(_this.el, 'onAfterSlide', {\n                    prevIndex: _prevIndex,\n                    index: index,\n                    fromTouch: fromTouch,\n                    fromThumb: fromThumb\n                });\n            }\n\n            _this.lGalleryOn = true;\n\n            if (this.s.counter) {\n                if (document.getElementById('lg-counter-current')) {\n                    document.getElementById('lg-counter-current').innerHTML = index + 1;\n                }\n            }\n        }\n    };\n\n    /**\r\n     *  @desc Go to next slide\r\n     *  @param {Boolean} fromTouch - true if slide function called via touch event\r\n     */\n    Plugin.prototype.goToNextSlide = function (fromTouch) {\n        var _this = this;\n        if (!_this.lgBusy) {\n            if (_this.index + 1 < _this.___slide.length) {\n                _this.index++;\n                _lgUtils2.default.trigger(_this.el, 'onBeforeNextSlide', {\n                    index: _this.index\n                });\n                _this.slide(_this.index, fromTouch, false);\n            } else {\n                if (_this.s.loop) {\n                    _this.index = 0;\n                    _lgUtils2.default.trigger(_this.el, 'onBeforeNextSlide', {\n                        index: _this.index\n                    });\n                    _this.slide(_this.index, fromTouch, false);\n                } else if (_this.s.slideEndAnimatoin) {\n                    _lgUtils2.default.addClass(_this.outer, 'lg-right-end');\n                    setTimeout(function () {\n                        _lgUtils2.default.removeClass(_this.outer, 'lg-right-end');\n                    }, 400);\n                }\n            }\n        }\n    };\n\n    /**\r\n     *  @desc Go to previous slide\r\n     *  @param {Boolean} fromTouch - true if slide function called via touch event\r\n     */\n    Plugin.prototype.goToPrevSlide = function (fromTouch) {\n        var _this = this;\n        if (!_this.lgBusy) {\n            if (_this.index > 0) {\n                _this.index--;\n                _lgUtils2.default.trigger(_this.el, 'onBeforePrevSlide', {\n                    index: _this.index,\n                    fromTouch: fromTouch\n                });\n                _this.slide(_this.index, fromTouch, false);\n            } else {\n                if (_this.s.loop) {\n                    _this.index = _this.items.length - 1;\n                    _lgUtils2.default.trigger(_this.el, 'onBeforePrevSlide', {\n                        index: _this.index,\n                        fromTouch: fromTouch\n                    });\n                    _this.slide(_this.index, fromTouch, false);\n                } else if (_this.s.slideEndAnimatoin) {\n                    _lgUtils2.default.addClass(_this.outer, 'lg-left-end');\n                    setTimeout(function () {\n                        _lgUtils2.default.removeClass(_this.outer, 'lg-left-end');\n                    }, 400);\n                }\n            }\n        }\n    };\n\n    Plugin.prototype.keyPress = function () {\n        var _this = this;\n        if (this.items.length > 1) {\n            _lgUtils2.default.on(window, 'keyup.lg', function (e) {\n                if (_this.items.length > 1) {\n                    if (e.keyCode === 37) {\n                        e.preventDefault();\n                        _this.goToPrevSlide();\n                    }\n\n                    if (e.keyCode === 39) {\n                        e.preventDefault();\n                        _this.goToNextSlide();\n                    }\n                }\n            });\n        }\n\n        _lgUtils2.default.on(window, 'keydown.lg', function (e) {\n            if (_this.s.escKey === true && e.keyCode === 27) {\n                e.preventDefault();\n                if (!_lgUtils2.default.hasClass(_this.outer, 'lg-thumb-open')) {\n                    _this.destroy();\n                } else {\n                    _lgUtils2.default.removeClass(_this.outer, 'lg-thumb-open');\n                }\n            }\n        });\n    };\n\n    Plugin.prototype.arrow = function () {\n        var _this = this;\n        _lgUtils2.default.on(this.outer.querySelector('.lg-prev'), 'click.lg', function () {\n            _this.goToPrevSlide();\n        });\n\n        _lgUtils2.default.on(this.outer.querySelector('.lg-next'), 'click.lg', function () {\n            _this.goToNextSlide();\n        });\n    };\n\n    Plugin.prototype.arrowDisable = function (index) {\n\n        // Disable arrows if s.hideControlOnEnd is true\n        if (!this.s.loop && this.s.hideControlOnEnd) {\n            var next = this.outer.querySelector('.lg-next');\n            var prev = this.outer.querySelector('.lg-prev');\n            if (index + 1 < this.___slide.length) {\n                next.removeAttribute('disabled');\n                _lgUtils2.default.removeClass(next, 'disabled');\n            } else {\n                next.setAttribute('disabled', 'disabled');\n                _lgUtils2.default.addClass(next, 'disabled');\n            }\n\n            if (index > 0) {\n                prev.removeAttribute('disabled');\n                _lgUtils2.default.removeClass(prev, 'disabled');\n            } else {\n                next.setAttribute('disabled', 'disabled');\n                _lgUtils2.default.addClass(next, 'disabled');\n            }\n        }\n    };\n\n    Plugin.prototype.setTranslate = function (el, xValue, yValue) {\n        // jQuery supports Automatic CSS prefixing since jQuery 1.8.0\n        if (this.s.useLeft) {\n            el.style.left = xValue;\n        } else {\n            _lgUtils2.default.setVendor(el, 'Transform', 'translate3d(' + xValue + 'px, ' + yValue + 'px, 0px)');\n        }\n    };\n\n    Plugin.prototype.touchMove = function (startCoords, endCoords) {\n\n        var distance = endCoords - startCoords;\n\n        if (Math.abs(distance) > 15) {\n            // reset opacity and transition duration\n            _lgUtils2.default.addClass(this.outer, 'lg-dragging');\n\n            // move current slide\n            this.setTranslate(this.___slide[this.index], distance, 0);\n\n            // move next and prev slide with current slide\n            this.setTranslate(document.querySelector('.lg-prev-slide'), -this.___slide[this.index].clientWidth + distance, 0);\n            this.setTranslate(document.querySelector('.lg-next-slide'), this.___slide[this.index].clientWidth + distance, 0);\n        }\n    };\n\n    Plugin.prototype.touchEnd = function (distance) {\n        var _this = this;\n\n        // keep slide animation for any mode while dragg/swipe\n        if (_this.s.mode !== 'lg-slide') {\n            _lgUtils2.default.addClass(_this.outer, 'lg-slide');\n        }\n\n        for (var i = 0; i < this.___slide.length; i++) {\n            if (!_lgUtils2.default.hasClass(this.___slide[i], 'lg-current') && !_lgUtils2.default.hasClass(this.___slide[i], 'lg-prev-slide') && !_lgUtils2.default.hasClass(this.___slide[i], 'lg-next-slide')) {\n                this.___slide[i].style.opacity = '0';\n            }\n        }\n\n        // set transition duration\n        setTimeout(function () {\n            _lgUtils2.default.removeClass(_this.outer, 'lg-dragging');\n            if (distance < 0 && Math.abs(distance) > _this.s.swipeThreshold) {\n                _this.goToNextSlide(true);\n            } else if (distance > 0 && Math.abs(distance) > _this.s.swipeThreshold) {\n                _this.goToPrevSlide(true);\n            } else if (Math.abs(distance) < 5) {\n\n                // Trigger click if distance is less than 5 pix\n                _lgUtils2.default.trigger(_this.el, 'onSlideClick');\n            }\n\n            for (var i = 0; i < _this.___slide.length; i++) {\n                _this.___slide[i].removeAttribute('style');\n            }\n        });\n\n        // remove slide class once drag/swipe is completed if mode is not slide\n        setTimeout(function () {\n            if (!_lgUtils2.default.hasClass(_this.outer, 'lg-dragging') && _this.s.mode !== 'lg-slide') {\n                _lgUtils2.default.removeClass(_this.outer, 'lg-slide');\n            }\n        }, _this.s.speed + 100);\n    };\n\n    Plugin.prototype.enableSwipe = function () {\n        var _this = this;\n        var startCoords = 0;\n        var endCoords = 0;\n        var isMoved = false;\n\n        if (_this.s.enableSwipe && _this.isTouch && _this.doCss()) {\n\n            for (var i = 0; i < _this.___slide.length; i++) {\n                /*jshint loopfunc: true */\n                _lgUtils2.default.on(_this.___slide[i], 'touchstart.lg', function (e) {\n                    if (!_lgUtils2.default.hasClass(_this.outer, 'lg-zoomed') && !_this.lgBusy) {\n                        e.preventDefault();\n                        _this.manageSwipeClass();\n                        startCoords = e.targetTouches[0].pageX;\n                    }\n                });\n            }\n\n            for (var j = 0; j < _this.___slide.length; j++) {\n                /*jshint loopfunc: true */\n                _lgUtils2.default.on(_this.___slide[j], 'touchmove.lg', function (e) {\n                    if (!_lgUtils2.default.hasClass(_this.outer, 'lg-zoomed')) {\n                        e.preventDefault();\n                        endCoords = e.targetTouches[0].pageX;\n                        _this.touchMove(startCoords, endCoords);\n                        isMoved = true;\n                    }\n                });\n            }\n\n            for (var k = 0; k < _this.___slide.length; k++) {\n                /*jshint loopfunc: true */\n                _lgUtils2.default.on(_this.___slide[k], 'touchend.lg', function () {\n                    if (!_lgUtils2.default.hasClass(_this.outer, 'lg-zoomed')) {\n                        if (isMoved) {\n                            isMoved = false;\n                            _this.touchEnd(endCoords - startCoords);\n                        } else {\n                            _lgUtils2.default.trigger(_this.el, 'onSlideClick');\n                        }\n                    }\n                });\n            }\n        }\n    };\n\n    Plugin.prototype.enableDrag = function () {\n        var _this = this;\n        var startCoords = 0;\n        var endCoords = 0;\n        var isDraging = false;\n        var isMoved = false;\n        if (_this.s.enableDrag && !_this.isTouch && _this.doCss()) {\n            for (var i = 0; i < _this.___slide.length; i++) {\n                /*jshint loopfunc: true */\n                _lgUtils2.default.on(_this.___slide[i], 'mousedown.lg', function (e) {\n                    // execute only on .lg-object\n                    if (!_lgUtils2.default.hasClass(_this.outer, 'lg-zoomed')) {\n                        if (_lgUtils2.default.hasClass(e.target, 'lg-object') || _lgUtils2.default.hasClass(e.target, 'lg-video-play')) {\n                            e.preventDefault();\n\n                            if (!_this.lgBusy) {\n                                _this.manageSwipeClass();\n                                startCoords = e.pageX;\n                                isDraging = true;\n\n                                // ** Fix for webkit cursor issue https://code.google.com/p/chromium/issues/detail?id=26723\n                                _this.outer.scrollLeft += 1;\n                                _this.outer.scrollLeft -= 1;\n\n                                // *\n\n                                _lgUtils2.default.removeClass(_this.outer, 'lg-grab');\n                                _lgUtils2.default.addClass(_this.outer, 'lg-grabbing');\n\n                                _lgUtils2.default.trigger(_this.el, 'onDragstart');\n                            }\n                        }\n                    }\n                });\n            }\n\n            _lgUtils2.default.on(window, 'mousemove.lg', function (e) {\n                if (isDraging) {\n                    isMoved = true;\n                    endCoords = e.pageX;\n                    _this.touchMove(startCoords, endCoords);\n                    _lgUtils2.default.trigger(_this.el, 'onDragmove');\n                }\n            });\n\n            _lgUtils2.default.on(window, 'mouseup.lg', function (e) {\n                if (isMoved) {\n                    isMoved = false;\n                    _this.touchEnd(endCoords - startCoords);\n                    _lgUtils2.default.trigger(_this.el, 'onDragend');\n                } else if (_lgUtils2.default.hasClass(e.target, 'lg-object') || _lgUtils2.default.hasClass(e.target, 'lg-video-play')) {\n                    _lgUtils2.default.trigger(_this.el, 'onSlideClick');\n                }\n\n                // Prevent execution on click\n                if (isDraging) {\n                    isDraging = false;\n                    _lgUtils2.default.removeClass(_this.outer, 'lg-grabbing');\n                    _lgUtils2.default.addClass(_this.outer, 'lg-grab');\n                }\n            });\n        }\n    };\n\n    Plugin.prototype.manageSwipeClass = function () {\n        var touchNext = this.index + 1;\n        var touchPrev = this.index - 1;\n        var length = this.___slide.length;\n        if (this.s.loop) {\n            if (this.index === 0) {\n                touchPrev = length - 1;\n            } else if (this.index === length - 1) {\n                touchNext = 0;\n            }\n        }\n\n        for (var i = 0; i < this.___slide.length; i++) {\n            _lgUtils2.default.removeClass(this.___slide[i], 'lg-next-slide');\n            _lgUtils2.default.removeClass(this.___slide[i], 'lg-prev-slide');\n        }\n\n        if (touchPrev > -1) {\n            _lgUtils2.default.addClass(this.___slide[touchPrev], 'lg-prev-slide');\n        }\n\n        _lgUtils2.default.addClass(this.___slide[touchNext], 'lg-next-slide');\n    };\n\n    Plugin.prototype.mousewheel = function () {\n        var _this = this;\n        _lgUtils2.default.on(_this.outer, 'mousewheel.lg', function (e) {\n\n            if (!e.deltaY) {\n                return;\n            }\n\n            if (e.deltaY > 0) {\n                _this.goToPrevSlide();\n            } else {\n                _this.goToNextSlide();\n            }\n\n            e.preventDefault();\n        });\n    };\n\n    Plugin.prototype.closeGallery = function () {\n\n        var _this = this;\n        var mousedown = false;\n        _lgUtils2.default.on(this.outer.querySelector('.lg-close'), 'click.lg', function () {\n            _this.destroy();\n        });\n\n        if (_this.s.closable) {\n\n            // If you drag the slide and release outside gallery gets close on chrome\n            // for preventing this check mousedown and mouseup happened on .lg-item or lg-outer\n            _lgUtils2.default.on(_this.outer, 'mousedown.lg', function (e) {\n\n                if (_lgUtils2.default.hasClass(e.target, 'lg-outer') || _lgUtils2.default.hasClass(e.target, 'lg-item') || _lgUtils2.default.hasClass(e.target, 'lg-img-wrap')) {\n                    mousedown = true;\n                } else {\n                    mousedown = false;\n                }\n            });\n\n            _lgUtils2.default.on(_this.outer, 'mouseup.lg', function (e) {\n\n                if (_lgUtils2.default.hasClass(e.target, 'lg-outer') || _lgUtils2.default.hasClass(e.target, 'lg-item') || _lgUtils2.default.hasClass(e.target, 'lg-img-wrap') && mousedown) {\n                    if (!_lgUtils2.default.hasClass(_this.outer, 'lg-dragging')) {\n                        _this.destroy();\n                    }\n                }\n            });\n        }\n    };\n\n    Plugin.prototype.destroy = function (d) {\n\n        var _this = this;\n\n        if (!d) {\n            _lgUtils2.default.trigger(_this.el, 'onBeforeClose');\n        }\n\n        document.body.scrollTop = _this.prevScrollTop;\n        document.documentElement.scrollTop = _this.prevScrollTop;\n\n        /**\r\n         * if d is false or undefined destroy will only close the gallery\r\n         * plugins instance remains with the element\r\n         *\r\n         * if d is true destroy will completely remove the plugin\r\n         */\n\n        if (d) {\n            if (!_this.s.dynamic) {\n                // only when not using dynamic mode is $items a jquery collection\n\n                for (var i = 0; i < this.items.length; i++) {\n                    _lgUtils2.default.off(this.items[i], '.lg');\n                    _lgUtils2.default.off(this.items[i], '.lgcustom');\n                }\n            }\n\n            var lguid = _this.el.getAttribute('lg-uid');\n            delete window.lgData[lguid];\n            _this.el.removeAttribute('lg-uid');\n        }\n\n        // Unbind all events added by lightGallery\n        _lgUtils2.default.off(this.el, '.lgtm');\n\n        // Distroy all lightGallery modules\n        for (var key in window.lgModules) {\n            if (_this.modules[key]) {\n                _this.modules[key].destroy();\n            }\n        }\n\n        this.lGalleryOn = false;\n\n        clearTimeout(_this.hideBartimeout);\n        this.hideBartimeout = false;\n        _lgUtils2.default.off(window, '.lg');\n        _lgUtils2.default.removeClass(document.body, 'lg-on');\n        _lgUtils2.default.removeClass(document.body, 'lg-from-hash');\n\n        if (_this.outer) {\n            _lgUtils2.default.removeClass(_this.outer, 'lg-visible');\n        }\n\n        _lgUtils2.default.removeClass(document.querySelector('.lg-backdrop'), 'in');\n        setTimeout(function () {\n            try {\n                if (_this.outer) {\n                    _this.outer.parentNode.removeChild(_this.outer);\n                }\n\n                if (document.querySelector('.lg-backdrop')) {\n                    document.querySelector('.lg-backdrop').parentNode.removeChild(document.querySelector('.lg-backdrop'));\n                }\n\n                if (!d) {\n                    _lgUtils2.default.trigger(_this.el, 'onCloseAfter');\n                }\n            } catch (err) {}\n        }, _this.s.backdropDuration + 50);\n    };\n\n    window.lightGallery = function (el, options) {\n        if (!el) {\n            return;\n        }\n\n        try {\n            if (!el.getAttribute('lg-uid')) {\n                var uid = 'lg' + window.lgData.uid++;\n                window.lgData[uid] = new Plugin(el, options);\n                el.setAttribute('lg-uid', uid);\n            } else {\n                try {\n                    window.lgData[el.getAttribute('lg-uid')].init();\n                } catch (err) {\n                    console.error('lightGallery has not initiated properly');\n                }\n            }\n        } catch (err) {\n            console.error('lightGallery has not initiated properly');\n        }\n    };\n});\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lightgallery.js/lib/js/lightgallery.js","(function (global, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define(['exports'], factory);\n    } else if (typeof exports !== \"undefined\") {\n        factory(exports);\n    } else {\n        var mod = {\n            exports: {}\n        };\n        factory(mod.exports);\n        global.lgUtils = mod.exports;\n    }\n})(this, function (exports) {\n    'use strict';\n\n    Object.defineProperty(exports, \"__esModule\", {\n        value: true\n    });\n\n    /*\r\n     *@todo remove function from window and document. Update on and off functions\r\n     */\n    window.getAttribute = function (label) {\n        return window[label];\n    };\n\n    window.setAttribute = function (label, value) {\n        window[label] = value;\n    };\n\n    document.getAttribute = function (label) {\n        return document[label];\n    };\n\n    document.setAttribute = function (label, value) {\n        document[label] = value;\n    };\n\n    var utils = {\n        wrap: function wrap(el, className) {\n            if (!el) {\n                return;\n            }\n\n            var wrapper = document.createElement('div');\n            wrapper.className = className;\n            el.parentNode.insertBefore(wrapper, el);\n            el.parentNode.removeChild(el);\n            wrapper.appendChild(el);\n        },\n\n        addClass: function addClass(el, className) {\n            if (!el) {\n                return;\n            }\n\n            if (el.classList) {\n                el.classList.add(className);\n            } else {\n                el.className += ' ' + className;\n            }\n        },\n\n        removeClass: function removeClass(el, className) {\n            if (!el) {\n                return;\n            }\n\n            if (el.classList) {\n                el.classList.remove(className);\n            } else {\n                el.className = el.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n            }\n        },\n\n        hasClass: function hasClass(el, className) {\n            if (el.classList) {\n                return el.classList.contains(className);\n            } else {\n                return new RegExp('(^| )' + className + '( |$)', 'gi').test(el.className);\n            }\n\n            return false;\n        },\n\n        // ex Transform\n        // ex TransitionTimingFunction\n        setVendor: function setVendor(el, property, value) {\n            if (!el) {\n                return;\n            }\n\n            el.style[property.charAt(0).toLowerCase() + property.slice(1)] = value;\n            el.style['webkit' + property] = value;\n            el.style['moz' + property] = value;\n            el.style['ms' + property] = value;\n            el.style['o' + property] = value;\n        },\n\n        trigger: function trigger(el, event) {\n            var detail = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n            if (!el) {\n                return;\n            }\n\n            var customEvent = new CustomEvent(event, {\n                detail: detail\n            });\n            el.dispatchEvent(customEvent);\n        },\n\n        Listener: {\n            uid: 0\n        },\n        on: function on(el, events, fn) {\n            if (!el) {\n                return;\n            }\n\n            events.split(' ').forEach(function (event) {\n                var _id = el.getAttribute('lg-event-uid') || '';\n                utils.Listener.uid++;\n                _id += '&' + utils.Listener.uid;\n                el.setAttribute('lg-event-uid', _id);\n                utils.Listener[event + utils.Listener.uid] = fn;\n                el.addEventListener(event.split('.')[0], fn, false);\n            });\n        },\n\n        off: function off(el, event) {\n            if (!el) {\n                return;\n            }\n\n            var _id = el.getAttribute('lg-event-uid');\n            if (_id) {\n                _id = _id.split('&');\n                for (var i = 0; i < _id.length; i++) {\n                    if (_id[i]) {\n                        var _event = event + _id[i];\n                        if (_event.substring(0, 1) === '.') {\n                            for (var key in utils.Listener) {\n                                if (utils.Listener.hasOwnProperty(key)) {\n                                    if (key.split('.').indexOf(_event.split('.')[1]) > -1) {\n                                        el.removeEventListener(key.split('.')[0], utils.Listener[key]);\n                                        el.setAttribute('lg-event-uid', el.getAttribute('lg-event-uid').replace('&' + _id[i], ''));\n                                        delete utils.Listener[key];\n                                    }\n                                }\n                            }\n                        } else {\n                            el.removeEventListener(_event.split('.')[0], utils.Listener[_event]);\n                            el.setAttribute('lg-event-uid', el.getAttribute('lg-event-uid').replace('&' + _id[i], ''));\n                            delete utils.Listener[_event];\n                        }\n                    }\n                }\n            }\n        },\n\n        param: function param(obj) {\n            return Object.keys(obj).map(function (k) {\n                return encodeURIComponent(k) + '=' + encodeURIComponent(obj[k]);\n            }).join('&');\n        }\n    };\n\n    exports.default = utils;\n});\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lightgallery.js/lib/js/lg-utils.js"],"sourceRoot":""}